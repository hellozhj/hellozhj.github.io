<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Eslint</title>
      <link href="/2022/10/01/eslint/"/>
      <url>/2022/10/01/eslint/</url>
      
        <content type="html"><![CDATA[<h1 id="Eslint"><a href="#Eslint" class="headerlink" title="Eslint"></a>Eslint</h1><h3 id="什么是代码风格："><a href="#什么是代码风格：" class="headerlink" title="什么是代码风格："></a>什么是代码风格：</h3><p>优秀的代码风格如同一身得体的打扮，能够给人以良好的印象。初学程序设计，首先必须建立良好的编程习惯，这其中就包括代码风格。</p><p>在编写代码时，养成良好的代码风格，提高代码质量，可以避免很多漏洞，为代码的维护和扩展提高效率。</p><p>一些代码规范。</p><p>一、代码行的极限：一行最多80个字符。</p><p>​很多代码库每行长度最多为 80，这是因为古老的打孔纸的最大长度是 80，一开始的显示器每一行显示的字符也并不是特别多。这一 Max Length = 80 的传统被一直延续下来了。</p><p><img src="/2022/10/01/eslint/ibm-punch-card.jpg" alt="img"></p><p>　　无论时空怎么转变，世界怎样改变，一行80字符应始终铭记心间。古老的Unix终端以80列的格式显示文本，为了让源代码与手册具有最佳的可读性， Unix系统始终坚持着80列的传统。80列不多不少，足够写出一行有意义的代码，同时也足够显示在终端屏幕，足够打印在A4纸上。虽然时至今日，我们的屏幕分辨率早已足够高，一行能够显示的内容远超超过80字符，但我们的优秀传统已经形成──几乎所有的Unix/Linux内核源代码以及联机用户手册都严格地遵守着80列极限。如果你正好在使用Windows平台下的Dev C++，你是否有注意到代码编辑框里那条细细的灰色竖线？不错，那正是代码行极限。除了HTML、XML等冗长繁复的标记式语言，几乎所有的语言都需要严格遵守代码行极限，这包括C、C++、Java、C#、Python、PHP等等。不过有时，比如当PHP跟HTML打交道的时候，这个限制是可以暂时放松的。过长的代码行总是不好的，好的代码要始终保持苗条的身材。</p><p>二、Tab还是Space，众说纷纭的缩进方式</p><p>　　代码离不开缩进，关于缩进主要有两个争论，一个是该用空格（Space）还是用制表符（Tab），另外一个是该用4格缩进还是8格缩进甚至都不是。</p><p>　　先来谈谈Space与Tab的问题。坚持用Space的程序员会告诉你，如果你从来都不用Tab，那么你的代码放到所有的地方看都是一样的。没错，这是用Space缩进的优点，可惜的是，这是它唯一的优点。代码层次越多，内层代码最前面的缩进便越多，这意味着你需要敲很多很多次空格。即使你能忍受不厌其烦地按空格键直到它坏掉，你也一定会被IDE总是自作聪明地插入一些Tab字符的行为烦恼不已。建议总是使用Tab缩进，因为几乎所有的代码（不仅仅是C 代码）都在使用Tab缩进。</p><p>　　Tab到底是4格还是8格？这是Tab缩进会被某些人诟病的根源。当你写程序时使用的Tab大小与别人读程序时使用的Tab大小不同时，再漂亮的排版也会变得杂乱无章。标准的Tab是8格的，而不幸的是，几乎所有的Windows平台下的IDE，包括 Visual Studio、Dev C++，甚至跨平台的Eclipse等，都默认使用4格Tab。我使用的FreeBSD系统的所有的内核源代码都采用8格缩进，所以我一直坚持使用8格缩进。也许你不习惯太大的间距，如果不是在Unix平台下，或者不是C语言，那就采用4格Tab吧。如果你在Unix下编写C代码，使用8格的标准Tab是更好的习惯。</p><p>三、折行原则，容易被忽略的角落</p><p>　　既然有代码行极限，很多情况下我们不得不断开一个完整的代码行，这就带来了一个问题：折行后应该如何缩进？好的做法是，第一次折行后，在原来缩进的基础上增加1/2的Tab大小的空格，之后的折行全部对齐第二行。可能这样的文字描述过于晦涩了，还是举个例子罢（以8格缩进为例）：</p><p>if (value &gt; a &amp;&amp; value &gt; b &amp;&amp; value &gt; c &amp;&amp; value &lt; d &amp;&amp; value &lt; e &amp;&amp; value &lt; f<br>    value &lt; h &amp;&amp; value &lt; h) { /* 注意折行后的缩进 */<br>         value = value + 1;<br>         value = value * value * value * value * value * value * value * value</p><p>​value * value + value * value * value * value * value * value<br>         value; /* 注意再次折行后的缩进 */<br>}<br>　　显然这个段代码没有任何实际用处，只是为了说明折行缩进而编造的。</p><p>四、无处不在的空格，无处不在的空行</p><p>　　需要空格的位置有：<br>　　1）if、while、switch等关键字与之后的左括号(之间。<br>　　2）左花括号{之前。<br>　　3）双目运算符两侧，例如p == NULL。<br>　　4）逗号,与分号;之后，例如for (i = 0; i &lt; 10; i++)。　　　</p><p>　　不要空格的位置有：<br>　　1）函数名与之后的左括号(，包括带参数的宏与之后的左括号(，例如max(a, b)。<br>　　2）分号;与冒号:之前。<br>　　3）左括号(右边，右括号)左边，例如if (p == NULL)。</p><p>　　需要空行的位置有：<br>　　1）函数的定义之前、函数的定义之后<br>　　2）一组联系紧密的代码段之前和之后</p><p>　　这些规则并不完全，当你碰到上面没有列举出来的情况时，请参考本文提供的模板代码。</p><p>五、左花括号的争议──换行乎？不换乎？　</p><p>　　这又是一个仁者见仁智者见智的问题了。从使代码更清晰的角度看，作为代码段开头标识的左花括号{应该另起一行：</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"error!/n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>　　可是，这看起来实在不够紧凑，所以大部分的C代码（至少Unix上如此）都采用了这样的方式：</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"error!/n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>　　我的建议是采用后者，这会使你的代码显得更加紧凑，也更加专业。需要说明一个特例，在定义函数时，我们总是要给左花括号{换行：</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token keyword">static</span> <span class="token keyword">int</span><span class="token function">maxint</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">&gt;</span> b <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>六、坚持美观、灵活对待</p><p>　　代码风格远远不止上面提到的五点，事实上，很多公司都有规定的代码风格，包括命名规则、缩进规则等。如果你在一个开发团队中，应该始终以团队的标准为主，而如果你只是在学习C语言并试着形成自己的代码风格，我将在这里给一份最专业的源代码供你参考。</p><h3 id="什么是Eslint"><a href="#什么是Eslint" class="headerlink" title="什么是Eslint"></a>什么是Eslint</h3><p>ESLint 是一个代码检查工具，用来检查你的代码是否符合指定的规范。</p><ul><li>规范<ul><li>行业推荐的规范； 在创建项目时，我们使用的是 JavaScript Standard Style 代码风格的规则</li><li>自定义的规范。你和你的团队可以自行约定一套规范</li></ul></li><li>使用ESLint的好处在于：多人协作时代码风格统一</li></ul><p>JavaScript 是一个动态的弱类型语言，在开发中比较容易出错。因为没有编译程序，为了寻找 JavaScript 代码错误通常需要在执行过程中不断调试。</p><p>ESLint 这样的工具可以让程序员在编码的过程中发现问题，而不是在执行的过程中发现问题。</p><h3 id="改正错误的四种方式"><a href="#改正错误的四种方式" class="headerlink" title="改正错误的四种方式"></a>改正错误的四种方式</h3><p>有四种方法来修正错误：</p><ul><li>手动修正: 人肉修改</li><li>命令修正：npm run lint</li><li>修改规则：让代码符合修改之后的规则，当然也就不报错了</li><li>插件修正: 配合vscode 中的eslint插件</li></ul><h3 id="ESLint-自定义规则"><a href="#ESLint-自定义规则" class="headerlink" title="ESLint-自定义规则"></a>ESLint-自定义规则</h3><p>了解eslint的自定义规则，看懂.eslintrc.js的配置</p><p>在项目根目录下面，有一个.eslintrc.js文件，它是对eslint进行配置的，其中有一个属性是专门用来设置自定义代码规则的：rules</p><pre class="language-JSON" data-language="JSON"><code class="language-JSON">module.exports = {  root: true, // 当前项目使用这个配置文件, 不会往父级目录找.eslintrc.js文件  env: { // 指定eslint启动环境(vuecli底层是node支持), browser: true也可以在浏览器设置    node: true  },  extends: [ // 扩展配置    'plugin:vue/essential', // vue里必须的规则    '@vue/standard' // 使eslint继承@vue/cli脚手架里的 - standard标准  ],  parserOptions: { // 对新语法使用eslint    parser: 'babel-eslint' // 使用babel-eslint 来解析新语法ES6  },  // 这里可以进行自定义规则配置  // key：规则代号  // value：具体的限定方式  //   "off" or 0 - 关闭规则  //   "warn" or 1 - 将规则视为一个警告（不会影响退出码）,只警告，不会退出程序  //   "error" or 2 - 将规则视为一个错误 (退出码为1)，报错并退出程序  rules: { // 自定义规则 - 其实上面集成后有很多内置的规则, 这里可以进行规则的一些修改    'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off', // 上线环境用打印就报警告, 开发环境关闭此规则    'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off', // debugger可以终止代码执行    'no-multiple-empty-lines': 'off' // 不允许有连续多行空行(关闭规则)  }}</code></pre><h3 id="配合vscode-中的eslint插件"><a href="#配合vscode-中的eslint插件" class="headerlink" title="配合vscode 中的eslint插件"></a>配合vscode 中的eslint插件</h3><p>第一步：安装prettier eslint插件</p><p><img src="/2022/10/01/eslint/1661745863818.png" alt="1661745863818"></p><p>第二步：前置条件</p><p>This extension requires the following NPM packages to be installed either locally or globally:</p><ul><li><code>prettier@^2.5.1</code></li><li><code>eslint@^8.7.0</code></li><li><code>@typescript-eslint/parser@^5.0.1</code> and <code>typescript@^4.4.4</code> <strong>(只用于TypeScript项目才需要安装)</strong></li><li><code>vue-eslint-parser@^8.0.0</code> <strong>(只用于Vue项目才需要安装)</strong></li></ul><p>假设我的是react项目且没有typescript语言的话，则需要安装一下两个包。</p><pre class="language-none"><code class="language-none">yarn add -D prettier@^2.5.1 eslint@^8.7.0</code></pre><p>第三步：项目设置</p><p>我们使用vscode对项目进行单独设置，其配置文件路径为：.vscode/settings.json。</p><p>也可以通过一下快捷键快速的访问该文件。</p><ul><li><code>CMD + SHIFT + P</code> (Mac OS)</li><li><code>CTRL + SHIFT + P</code> (Windows)</li></ul><p>输入Preferences: Open Workspace Settings (JSON)</p><p>打开后，粘贴一下内容。</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"editor.defaultFormatter"</span><span class="token operator">:</span> <span class="token string">"rvest.vs-code-prettier-eslint"</span><span class="token punctuation">,</span>  <span class="token property">"editor.formatOnPaste"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>     <span class="token comment">// 粘贴时格式化。必须包含 </span>  <span class="token property">"editor.formatOnType"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>      <span class="token comment">// 输入时候格式化。必须包含</span>  <span class="token property">"editor.formatOnSave"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       <span class="token comment">// 保存时格式化。必须包含 </span>  <span class="token property">"editor.formatOnSaveMode"</span><span class="token operator">:</span> <span class="token string">"file"</span><span class="token punctuation">,</span> <span class="token comment">// 监测模式：当文件发生变化的时候格式化 </span>  <span class="token property">"files.autoSave"</span><span class="token operator">:</span> <span class="token string">"onFocusChange"</span>  <span class="token comment">// 选项，是否自动保存</span><span class="token punctuation">}</span></code></pre><p>第四步：重启vscode</p><p>如果你经过上述四步，代码还不能自动格式化的话。请看接下来的步骤。</p><p>运行一下命令，初始化eslint配置。</p><pre class="language-none"><code class="language-none">npm init @eslint/config</code></pre><p>运行后选择第三个，意思为：检查代码风格，查找问题，强制代码风格</p><p><img src="/2022/10/01/eslint/1661746529714.png" alt="1661746529714"></p><p>由于现在开发的项目逐渐转移为modules类型，建议选择modules类型。</p><p><img src="/2022/10/01/eslint/1661746575177.png" alt="1661746575177"></p><p>根据具体的项目进行选择，由于演示的项目是react，我这里选择react。</p><p><img src="/2022/10/01/eslint/1661746684486.png" alt="1661746684486"></p><p>非typescript项目，选择No</p><p><img src="/2022/10/01/eslint/1661746696388.png" alt="1661746696388"></p><p>项目运行于浏览器</p><p><img src="/2022/10/01/eslint/1661746726387.png" alt="1661746726387"></p><p>选取“Use a popular style guide”，意思是：选择一个流行的代码风格，为了快速生成.eslint.json，我们选择第一个。</p><p><img src="/2022/10/01/eslint/1661747120634.png" alt="1661747120634"></p><p>随便选择一个就好，不重要。</p><p><img src="/2022/10/01/eslint/1661747188151.png" alt="1661747188151"></p><p>选择javascript</p><p><img src="/2022/10/01/eslint/1661747211647.png" alt="1661747211647"></p><p>选择yes，立即安装</p><p><img src="/2022/10/01/eslint/1661747415887.png" alt="1661747415887"></p><p>为了更快的安装，选择yarn</p><p><img src="/2022/10/01/eslint/1661747443148.png" alt="1661747443148"></p><p>具体看一下视频：</p><video src="assets/v.mp4" autoplay="true" width="400px" style="float: left"><p>经过以上这些步骤，可以在项目根目录看到eslint配置文件：</p><p><img src="/2022/10/01/eslint/1661747795565.png" alt="1661747795565"></p><p>为了检查现有的.eslintrc.cjs（这里要注意有可能是.eslintrc.cjs请检查是否有误。）</p><p><img src="/2022/10/01/eslint/1661747778985.png" alt="1661747778985"></p><p>通过以上命令，可以生成具体的代码风格规则。可将myeslint的内容替换到.eslintrc.cjs的值中。</p><p><img src="/2022/10/01/eslint/1661748124576.png" alt="1661748124576"></p><p>最终.eslintrc.cjs的内容，你可以根据你团队的情况，对该文件进行调配。</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token literal-property property">es2021</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">globals</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">document</span><span class="token operator">:</span> <span class="token string">'readonly'</span><span class="token punctuation">,</span>    <span class="token literal-property property">navigator</span><span class="token operator">:</span> <span class="token string">'readonly'</span><span class="token punctuation">,</span>    <span class="token literal-property property">window</span><span class="token operator">:</span> <span class="token string">'readonly'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">ecmaFeatures</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">jsx</span><span class="token operator">:</span> <span class="token boolean">true</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token string">'latest'</span><span class="token punctuation">,</span>    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">'module'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'promise'</span><span class="token punctuation">,</span> <span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token string">'react'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token string-property property">'no-var'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'object-shorthand'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token string">'properties'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'accessor-pairs'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">setWithoutGet</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">enforceForClassMembers</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">getWithoutSet</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'array-bracket-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'array-callback-return'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">allowImplicit</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">checkForEach</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'arrow-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">before</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">after</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'block-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'brace-style'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token string">'1tbs'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">allowSingleLine</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">camelcase</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">allow</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'^UNSAFE_'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>        <span class="token literal-property property">ignoreGlobals</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">ignoreDestructuring</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">ignoreImports</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'comma-dangle'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">arrays</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>        <span class="token literal-property property">objects</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>        <span class="token literal-property property">imports</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>        <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>        <span class="token literal-property property">functions</span><span class="token operator">:</span> <span class="token string">'never'</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'comma-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">before</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">after</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'comma-style'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'last'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'computed-property-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token string">'never'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">enforceForClassMembers</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'constructor-super'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">curly</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'multi-line'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'default-case-last'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'dot-location'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'property'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'dot-notation'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">allowKeywords</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">allowPattern</span><span class="token operator">:</span> <span class="token string">''</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'eol-last'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">eqeqeq</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token string">'always'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token keyword">null</span><span class="token operator">:</span> <span class="token string">'ignore'</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'func-call-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'generator-star-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">before</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">after</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">indent</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token number">2</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">SwitchCase</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">VariableDeclarator</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">outerIIFEBody</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">MemberExpression</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">FunctionDeclaration</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token literal-property property">parameters</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>          <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token number">1</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">FunctionExpression</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token literal-property property">parameters</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>          <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token number">1</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">CallExpression</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token number">1</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">ArrayExpression</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">ObjectExpression</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">ImportDeclaration</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">flatTernaryExpressions</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">ignoreComments</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">ignoredNodes</span><span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token string">'TemplateLiteral *'</span><span class="token punctuation">,</span>          <span class="token string">'JSXElement'</span><span class="token punctuation">,</span>          <span class="token string">'JSXElement &gt; *'</span><span class="token punctuation">,</span>          <span class="token string">'JSXAttribute'</span><span class="token punctuation">,</span>          <span class="token string">'JSXIdentifier'</span><span class="token punctuation">,</span>          <span class="token string">'JSXNamespacedName'</span><span class="token punctuation">,</span>          <span class="token string">'JSXMemberExpression'</span><span class="token punctuation">,</span>          <span class="token string">'JSXSpreadAttribute'</span><span class="token punctuation">,</span>          <span class="token string">'JSXExpressionContainer'</span><span class="token punctuation">,</span>          <span class="token string">'JSXOpeningElement'</span><span class="token punctuation">,</span>          <span class="token string">'JSXClosingElement'</span><span class="token punctuation">,</span>          <span class="token string">'JSXFragment'</span><span class="token punctuation">,</span>          <span class="token string">'JSXOpeningFragment'</span><span class="token punctuation">,</span>          <span class="token string">'JSXClosingFragment'</span><span class="token punctuation">,</span>          <span class="token string">'JSXText'</span><span class="token punctuation">,</span>          <span class="token string">'JSXEmptyExpression'</span><span class="token punctuation">,</span>          <span class="token string">'JSXSpreadChild'</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">offsetTernaryExpressions</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'key-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">beforeColon</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">afterColon</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'keyword-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">before</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">after</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'lines-between-class-members'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token string">'always'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">exceptAfterSingleLine</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'multiline-ternary'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always-multiline'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'new-cap'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">newIsCap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">capIsNew</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'new-parens'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-array-constructor'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-async-promise-executor'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-caller'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-case-declarations'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-class-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-compare-neg-zero'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-cond-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-const-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-constant-condition'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">checkLoops</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-control-regex'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-debugger'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-delete-var'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-dupe-args'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-dupe-class-members'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-dupe-keys'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-duplicate-case'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-useless-backreference'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-empty'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">allowEmptyCatch</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-empty-character-class'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-empty-pattern'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-eval'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-ex-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-extend-native'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-extra-bind'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-extra-boolean-cast'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-extra-parens'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'functions'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-fallthrough'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-floating-decimal'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-func-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-global-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-implied-eval'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-import-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-invalid-regexp'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-irregular-whitespace'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-iterator'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-labels'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">allowLoop</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">allowSwitch</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-lone-blocks'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-loss-of-precision'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-misleading-character-class'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-prototype-builtins'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-useless-catch'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-mixed-operators'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">groups</span><span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token punctuation">[</span><span class="token string">'=='</span><span class="token punctuation">,</span> <span class="token string">'!='</span><span class="token punctuation">,</span> <span class="token string">'==='</span><span class="token punctuation">,</span> <span class="token string">'!=='</span><span class="token punctuation">,</span> <span class="token string">'&gt;'</span><span class="token punctuation">,</span> <span class="token string">'&gt;='</span><span class="token punctuation">,</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span> <span class="token string">'&lt;='</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span><span class="token string">'&amp;&amp;'</span><span class="token punctuation">,</span> <span class="token string">'||'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span><span class="token string">'in'</span><span class="token punctuation">,</span> <span class="token string">'instanceof'</span><span class="token punctuation">]</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">allowSamePrecedence</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-mixed-spaces-and-tabs'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-multi-spaces'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-multi-str'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-multiple-empty-lines'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">maxEOF</span><span class="token operator">:</span> <span class="token number">0</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-new'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-new-func'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-new-object'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-new-symbol'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-new-wrappers'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-obj-calls'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-octal'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-octal-escape'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-proto'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-redeclare'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">builtinGlobals</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-regex-spaces'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-return-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'except-parens'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-self-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-self-compare'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-sequences'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-shadow-restricted-names'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-sparse-arrays'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-tabs'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-template-curly-in-string'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-this-before-super'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-throw-literal'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-trailing-spaces'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-undef'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-undef-init'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unexpected-multiline'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unmodified-loop-condition'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unneeded-ternary'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">defaultAssignment</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unreachable'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unreachable-loop'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unsafe-finally'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unsafe-negation'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unused-expressions'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">allowShortCircuit</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">allowTernary</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">allowTaggedTemplates</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">enforceForJSX</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-unused-vars'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">args</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>        <span class="token literal-property property">caughtErrors</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>        <span class="token literal-property property">ignoreRestSiblings</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">vars</span><span class="token operator">:</span> <span class="token string">'all'</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-use-before-define'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">functions</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">classes</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">variables</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-useless-call'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-useless-computed-key'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-useless-constructor'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-useless-escape'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-useless-rename'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-useless-return'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-void'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-whitespace-before-property'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'no-with'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'object-curly-newline'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">multiline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">consistent</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'object-curly-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'object-property-newline'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">allowMultiplePropertiesPerLine</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">allowAllPropertiesOnSameLine</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'one-var'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">initialized</span><span class="token operator">:</span> <span class="token string">'never'</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'operator-linebreak'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token string">'after'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">overrides</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token string-property property">'?'</span><span class="token operator">:</span> <span class="token string">'before'</span><span class="token punctuation">,</span>          <span class="token string-property property">':'</span><span class="token operator">:</span> <span class="token string">'before'</span><span class="token punctuation">,</span>          <span class="token string-property property">'|&gt;'</span><span class="token operator">:</span> <span class="token string">'before'</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'padded-blocks'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">blocks</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>        <span class="token literal-property property">switches</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>        <span class="token literal-property property">classes</span><span class="token operator">:</span> <span class="token string">'never'</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'prefer-const'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">destructuring</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>        <span class="token literal-property property">ignoreReadBeforeAssign</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'prefer-promise-reject-errors'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'prefer-regex-literals'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">disallowRedundantWrapping</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'quote-props'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'as-needed'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">quotes</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token string">'single'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">avoidEscape</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">allowTemplateLiterals</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'rest-spread-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">semi</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'semi-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">before</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">after</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'space-before-blocks'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'space-before-function-paren'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'space-in-parens'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'space-infix-ops'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'space-unary-ops'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">words</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">nonwords</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'spaced-comment'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token string">'always'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token literal-property property">markers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*package'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">,</span> <span class="token string">'='</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">block</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token literal-property property">balanced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          <span class="token literal-property property">markers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*package'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">,</span> <span class="token string">':'</span><span class="token punctuation">,</span> <span class="token string">'::'</span><span class="token punctuation">,</span> <span class="token string">'flow-include'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token literal-property property">exceptions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'symbol-description'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'template-curly-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'template-tag-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'unicode-bom'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'use-isnan'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">enforceForSwitchCase</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">enforceForIndexOf</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'valid-typeof'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">requireStringLiterals</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'wrap-iife'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token string">'any'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">functionPrototypeMethods</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'yield-star-spacing'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'both'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">yoda</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'never'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'import/export'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'import/first'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'import/no-absolute-path'</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'error'</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">esmodule</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">commonjs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">amd</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'import/no-duplicates'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'import/no-named-default'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'import/no-webpack-loader-syntax'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'n/handle-callback-err'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'^(err|error)$'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'n/no-callback-literal'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'n/no-deprecated-api'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'n/no-exports-assign'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'n/no-new-require'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'n/no-path-concat'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'n/process-exit-as-throw'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'promise/param-names'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/display-name'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/jsx-key'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/jsx-no-comment-textnodes'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/jsx-no-duplicate-props'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/jsx-no-target-blank'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/jsx-no-undef'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/jsx-uses-react'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/jsx-uses-vars'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-children-prop'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-danger-with-children'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-deprecated'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-direct-mutation-state'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-find-dom-node'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-is-mounted'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-render-return-value'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-string-refs'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-unescaped-entities'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-unknown-property'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/no-unsafe'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/prop-types'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/react-in-jsx-scope'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">'react/require-render-return'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">ignorePatterns</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>经过以上的操作后，你会发现在编写代码的过程中，ctrl+s进行保存的时候，就会自动格式化代码。</p><p>为了让团队的程序员代码保持一致，你只需要发送.eslintrc.cjs这份文件到对方的项目即可。</p><p>按ctrl+`, 选择输出的选项卡，右侧选择Prettier Eslint，即可在下方看到代码不规范的地方。</p><p><img src="/2022/10/01/eslint/1661748795776.png" alt="1661748795776"></p><hr><h3 id="React-Ts-Eslint-配置（因为eslint也是是前端的开发依赖，所有需要到c盘目录安装一下）"><a href="#React-Ts-Eslint-配置（因为eslint也是是前端的开发依赖，所有需要到c盘目录安装一下）" class="headerlink" title="React + Ts + Eslint 配置（因为eslint也是是前端的开发依赖，所有需要到c盘目录安装一下）"></a>React + Ts + Eslint 配置（因为eslint也是是前端的开发依赖，所有需要到c盘目录安装一下）</h3><p><img src="/2022/10/01/eslint/eslint%E9%85%8D%E7%BD%AE%E5%9B%BE-1664601496810.png" alt="eslint配置图"></p><h1 id="结语：保持良好的代码风格，是每个程序员应有的责任和品德。"><a href="#结语：保持良好的代码风格，是每个程序员应有的责任和品德。" class="headerlink" title="结语：保持良好的代码风格，是每个程序员应有的责任和品德。"></a>结语：保持良好的代码风格，是每个程序员应有的责任和品德。</h1></video>]]></content>
      
      
      
        <tags>
            
            <tag> Eslint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>迭代器和生成器</title>
      <link href="/2022/09/25/die-dai-qi-he-sheng-cheng-qi/"/>
      <url>/2022/09/25/die-dai-qi-he-sheng-cheng-qi/</url>
      
        <content type="html"><![CDATA[<h1 id="迭代器和生成器"><a href="#迭代器和生成器" class="headerlink" title="迭代器和生成器"></a>迭代器和生成器</h1><h3 id="迭代器的特征"><a href="#迭代器的特征" class="headerlink" title="迭代器的特征"></a>迭代器的特征</h3><ul><li><code>let iter = arr[Symbol.iterator]();</code>创建迭代器（可迭代对象）</li><li><code>iter.next()</code>的值为<code>{value: 10, done: false}</code>value 就是值，done 表示迭代结束了没有</li></ul><h3 id="迭代和遍历的区别？"><a href="#迭代和遍历的区别？" class="headerlink" title="迭代和遍历的区别？"></a>迭代和遍历的区别？</h3><ul><li>【过程】迭代强调的依次取出，不能确定可以取出的值有多少，也不能保证去把数据全部取</li><li>【结果】遍历必须保证数据的长度，循环不断的全部取出，针对数据量过大的情况下使用遍历，需要事件过长</li></ul><h3 id="可迭代对象"><a href="#可迭代对象" class="headerlink" title="可迭代对象"></a>可迭代对象</h3><ul><li>数组可迭代对象<code>let arr = [10,20,30];</code></li><li>对象不是可迭代对象，因为对象是无序的<code>let obj = {name:"javascript",age:27}; </code></li><li>字符串可迭代对象<code> let str = "hello"</code></li><li>map对象也是可迭代对象<code>let map1 = new Map([["k1","v1"],["k2","v2"],["k3","v3"]]);</code></li><li>数据集合也是可迭代对象<code>let btns = document.querySelectorAll("button");</code></li></ul><blockquote><p>可迭代对象，可以用 for…of 来循环</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> val <span class="token keyword">of</span> btns<span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></blockquote><hr><h3 id="设计一个可迭代对象"><a href="#设计一个可迭代对象" class="headerlink" title="设计一个可迭代对象"></a>设计一个可迭代对象</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> classes <span class="token operator">=</span> <span class="token punctuation">{</span>     <span class="token comment">// 原本不是一个可迭代的对象</span>    <span class="token literal-property property">stus</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"小明"</span><span class="token punctuation">,</span><span class="token string">"小红"</span><span class="token punctuation">,</span><span class="token string">"小刚"</span><span class="token punctuation">,</span><span class="token string">"小黄"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// 对应的索引</span>        <span class="token keyword">const</span> this_ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token comment">// if(还有元素)</span>                <span class="token comment">// if(这个元素的索引&lt;stus长度)</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">&lt;</span>this_<span class="token punctuation">.</span>stus<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">value</span><span class="token operator">:</span> this_<span class="token punctuation">.</span>stus<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                    index<span class="token operator">++</span><span class="token punctuation">;</span>                    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> val <span class="token keyword">of</span> classes<span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="生成器函数"><a href="#生成器函数" class="headerlink" title="生成器函数"></a>生成器函数</h3><p><strong>生成器函数的执行机制总结：</strong></p><ol><li>通过调用生成器函数来创建迭代器 (此时生成器的代码不会执行)</li><li>通过迭代器调用next执行生成器函数里面的代码</li><li>执行到 yieId ，暂时跳出函数，并把yieId后面的值(加工成对象，返回到next的地方)</li></ol><hr><blockquote><p>一步一步生成数据，可以创建迭代器</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">genFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 第一个不同：有一个 *</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"执行了genFunc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">// 第一个不同：关建字 yield</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"执行了genFunc2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"执行了genFunc3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><blockquote><p>   生成器函数的执行机制</p><p>   生成器函数() 并不是执行函数里面的代码,而是创建了一个迭代器</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> iter <span class="token operator">=</span> <span class="token function">genFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 创建一个迭代器</span></code></pre><blockquote><p>{value: 1, done: false} 第一次调用next,才开始去执行生成器函数 genFunc 里面的代码,执行遇到 yieId 的时候就停下来，并且跳出这个函数，返回 yieId 后面的值(加工成一个对象)给调用 .next() 的地方</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// {value: 1, done: false}</span></code></pre><blockquote><p>再次调用next()，并且进入到生成器函数genFunc里面执行代码</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> val <span class="token keyword">of</span> iter<span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><h3 id="生成器的应用场景"><a href="#生成器的应用场景" class="headerlink" title="生成器的应用场景"></a>生成器的应用场景</h3><blockquote><p>应用场景：第一个异步请求成功后再去发送第二个请求，第二个请求发送后，再去发送第三个请求。(每一个请求是基于前面一个请求成功之后，才发送请求，因为要拿到上一次的数据)</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token operator">++</span>x<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><blockquote><p>基于 Promise 的写法</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">XxxxAPI</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resolve1</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第1次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resolve1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>resolve1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resolve2</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第2次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resolve2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>resolve2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resolve3</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第3次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resolve3<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>resolve3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote><p>生成器创建迭代器的写法</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">genFunc</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> result1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> result2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> result3 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result3<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> iter <span class="token operator">=</span> <span class="token function">genFunc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value   <span class="token comment">// 拿到Promise对象</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result1</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result2</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result3</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>result3<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote><p>​    上面 function* genFunc(x){} 格式很像 async + await 的格式。只是长得像，还是有区别的；</p><p>​    生成器函数调用不会执行，调用会创建迭代器，需要你next()才能执行，而 async + await 是后来才出现的语法糖   </p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">genFunc</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> result1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> result2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> result3 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result3<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><h3 id="封装自己的迭代器"><a href="#封装自己的迭代器" class="headerlink" title="封装自己的迭代器"></a>封装自己的迭代器</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token operator">++</span>x<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// iter.next().value.then(result1=&gt;{</span><span class="token comment">//      iter.next(result1).value.then(result2=&gt;{</span><span class="token comment">//      iter.next(result2).value.then(result3=&gt;{</span><span class="token comment">//      iter.next(result3)</span><span class="token comment">// })</span><span class="token comment">// })</span><span class="token comment">// })</span><span class="token comment">// asyncFunc 是我们封装的函数</span><span class="token keyword">function</span> <span class="token function">asyncFunc</span><span class="token punctuation">(</span><span class="token parameter">genFn<span class="token punctuation">,</span><span class="token operator">...</span>params</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> iter <span class="token operator">=</span> <span class="token function">genFn</span><span class="token punctuation">(</span><span class="token operator">...</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token function-variable function">next</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>        <span class="token comment">// 如果没有下一个值，就return</span>        <span class="token keyword">let</span> <span class="token punctuation">{</span>value<span class="token punctuation">,</span>done<span class="token punctuation">}</span> <span class="token operator">=</span> iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>done<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token comment">// 如果有值</span>        value<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 简单模拟了一下 async + await 的原理</span><span class="token function">asyncFunc</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">genFunc</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> result1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> result2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> result3 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">XxxxAPI</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第一次请求结果为：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result3<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面试</title>
      <link href="/2022/09/14/mian-shi/"/>
      <url>/2022/09/14/mian-shi/</url>
      
        <content type="html"><![CDATA[<h1 id="人事"><a href="#人事" class="headerlink" title="人事**"></a>人事**</h1><p>​面试官您好，我叫XXX，来自XXX，从事前端行业已经有两年时间了，我所熟悉的技术栈有：H5C3，Js，Jq，Ts，nodejs，前端框架有：vue，react，微信小程序和uniapp；其中也参与过一些大大小小的项目，比如最近的一个用vue2框架所写的电商后台管理系统。</p><ul><li><p><strong>加班：</strong>如果工作有效率，工作量合理的话，应该不太需要加班，但是我知道，有时候需要赶项目，难免会加班，我也会全力配合</p></li><li><p><strong>还有什么想了解：</strong>贵司的项目组人员构成？大概几个工作日之后可以收到通知？</p></li><li><p><strong>薪资要求：</strong>11k</p></li><li><p><strong>为什么选择我们这家公司：</strong>先做了解</p></li><li><p><strong>跳槽的看法：</strong>我认为跳槽是为了有一个更大的发展平台，更利于自己的发展，而不是因为遇到一些项目上的问题，或者和同事关系不好之类进行跳槽，这样对自己和公司都是不利的。</p></li><li><p><strong>如何适应新的工作环境：</strong>每个人都有自己的职责，各司其职，根据安排下来的工作任务，按时完成，不耽误开发进度；遇到问题，虚心向同事请教交流；努力提升自己</p></li><li><p><strong>为公司带来什么：</strong>重复自己的优势</p></li><li><p><strong>欠缺什么：</strong>就前端这个岗位和我的能力上来说，我相信我是可以胜任的，缺乏的只是一个技术上的沉淀，而这方面，也不是一蹴而就的， 我相信进入贵司能够对自己有一个不错的发展</p></li><li><p><strong>怎样开展工作：</strong>了解岗位(再细说)。</p></li><li><p>**原来工资有多少，各占多少:**9k(包含基本工资40，绩效40，补贴20)</p></li><li><p><strong>自备电脑可以吗：</strong>可以，用自己的比较顺手</p></li><li><p><strong>出差可以吗：</strong>可以</p></li><li><p><strong>在之前的工作中最有收获的是：</strong>首先是项目上的技术积累，业务分析能力的提升，还有知道在工作上如何交流沟通</p></li><li><p><strong>前公司有什么补贴：</strong>加班调休，晚餐补助，打车补贴</p></li><li><p><strong>为什么离职：</strong>公司搬迁，搬到增城去了，离家太远了，通勤时间长。只想在天河发展。</p></li><li><p><strong>上家公司地点：（背调）</strong></p></li><li><p><strong>提供流水：</strong>可以P一份</p></li><li><p><strong>自己的优势是什么：</strong>有工作经验，可以独立完成开发任务；学习能力强，快掌握新东西；能力强</p></li><li><p><strong>职业规划：</strong>找到一家发展稳定的公司，在前端行业上干下去，然后不断的发展自己，继续沉淀自己的技术。</p></li><li><p><strong>上份工作遇到的问题：</strong>最大的问题可能就是刚开始的时候，接手一位离职同事的代码，需要重新去读他的代码和逻辑。遇到问题，通过公司提供的文档和询问同事来解决。（举一个实际例子）</p></li><li><p><strong>录用了，不能胜任这份工作：</strong>如果不能胜任只能离职，避免双方成本增加</p></li><li><p><strong>意见冲突：</strong>提出自己的意见，沟通解决</p></li><li><p><strong>现在求职最看重的是什么：</strong>公司的一个稳定发展；我也能有一个提升的自己的环境；</p></li><li><p><strong>公司人员构成？项目组人员构成？</strong>2前端，3后端，1测试，1组长，UI(根据项目大小)</p></li><li><p><strong>前公司的印象：</strong>开发团队之间还好，平时的讨论氛围也ok，组长对于我们还是可以的</p></li><li><p><strong>自己工作中的优势和缺点：</strong></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue3</title>
      <link href="/2022/09/04/vue3/"/>
      <url>/2022/09/04/vue3/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue3变化"><a href="#Vue3变化" class="headerlink" title="Vue3变化"></a>Vue3变化</h2><ul><li>同一元素上使用的<code>v-if</code>和<code>v-for</code>优先级已更改，但<strong>不推荐</strong>同时使用 <code>v-if</code> 和 <code>v-for</code>。</li><li>组件事件需要在<code>emits</code>选项中声明</li><li><code>destroyed</code> 生命周期选项被重命名为 <code>unmounted</code></li><li><code>beforeDestroy</code> 生命周期选项被重命名为 <code>beforeUnmount</code></li><li>自定义指令的API已更改为与组件生命周期一致</li><li>新增了三个组件：<code>Fragment</code> 支持多个根节点、<code>Suspense</code> 可以在组件渲染之前的等待时间显示指定内容、<code>Teleport</code> 可以让子组件能够在视觉上跳出父组件(如父组件overflow:hidden)</li><li>新增指令 <code>v-memo</code>，可以缓存 html 模板，比如 v-for 列表不会变化的就缓存，简单说就是用内存换时间。</li><li>用 <code>Proxy</code> 代替 Object.defineProperty 重构了响应式系统，可以监听到数组下标变化，及对象新增属性，因为监听的不是对象属性，而是对象本身，还可拦截 apply、has 等13种方法</li><li>重构了虚拟 DOM，在编译时会将事件缓存、将 slot 编译为 lazy 函数、保存静态节点直接复用(静态提升)、以及添加静态标记、Diff 算法使用 最长递增子序列 优化了对比流程，使得虚拟 DOM 生成速度提升 <code>200%</code></li><li>支持在 <code>&lt;style&gt;&lt;/style&gt;</code> 里使用 <code>v-bind</code>，给 CSS 绑定 JS 变量(<code>color: v-bind(str)</code>)</li><li>新增 <code>Composition API</code> 可以更好的逻辑复用和代码组织，同一功能的代码不至于像以前一样太分散，虽然 Vue2 中可以用 minxin 来实现复用代码，但也存在问题，比如方法或属性名会冲突，代码来源也不清楚等</li><li>全局函数 <code>set</code> 和 <code>delete</code> 以及实例方法 <code>$set</code> 和 <code>$delete</code>移除。基于代理的变化检测已经不再需要它们了</li><li>毕竟 Vue3 是用 <code>TS</code> 写的，所以对 <code>TS</code> 的支持度更好</li><li>Vue3 不兼容 <code>IE11</code></li><li><code>$on</code>，<code>$off</code> 和 <code>$once</code> 实例方法已被移除，组件实例不再实现事件触发接口。</li></ul><hr><h2 id="Vue3的双向数据绑定原理：proxy"><a href="#Vue3的双向数据绑定原理：proxy" class="headerlink" title="Vue3的双向数据绑定原理：proxy"></a>Vue3的双向数据绑定原理：proxy</h2><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 输入 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ipt<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 同步输出 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>op<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">let</span> obj <span class="token operator">=</span><span class="token punctuation">{</span>            <span class="token literal-property property">txtVal</span><span class="token operator">:</span><span class="token string">"初始值"</span>        <span class="token punctuation">}</span>        <span class="token comment">// 类似 Reactive() 方法</span>        <span class="token keyword">function</span> <span class="token function">myReactive</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment">//  new Proxy(要代理的这个对象, {get(),set()})</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">{</span>                <span class="token comment">// 访问的obj里面的属性才执行，target：这个obj对象；property：是访问这个属性</span>                <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>property<span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token keyword">return</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>property<span class="token punctuation">,</span>newVal<span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token comment">// 第三方 数据劫持</span>                    ipt<span class="token punctuation">.</span>value <span class="token operator">=</span> newVal<span class="token punctuation">;</span>                    op<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> newVal<span class="token punctuation">;</span>                    <span class="token comment">// 将修改后的新值修改旧值</span>                    target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> newVal                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>        <span class="token keyword">let</span> objRet <span class="token operator">=</span> <span class="token function">myReactive</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 绑定初始值</span>        ipt<span class="token punctuation">.</span>value <span class="token operator">=</span> objRet<span class="token punctuation">.</span>txtVal<span class="token punctuation">;</span>        op<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> objRet<span class="token punctuation">.</span>txtVal<span class="token punctuation">;</span>        ipt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">,</span><span class="token parameter">e</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>            objRet<span class="token punctuation">.</span>txtVal <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value      <span class="token comment">// 触发set</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><hr><h2 id="选项式API"><a href="#选项式API" class="headerlink" title="选项式API"></a>选项式API</h2><p><strong>Option API（选项式API）</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"A"</span><span class="token punctuation">,</span>  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      <span class="token literal-property property">txt</span><span class="token operator">:</span> <span class="token string">"这个是一个文本"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>txt <span class="token operator">+=</span> <span class="token string">"!"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><hr><h2 id="组合式API"><a href="#组合式API" class="headerlink" title="组合式API"></a>组合式API</h2><p>原有的组件选项(<code>data</code>、<code>computed</code>、<code>methods</code>、<code>watch</code>) 的方式来组织组件代码通常是非常有效的，但是也存在一些不好的地方，例如把原有的关联逻辑按照选项划分开来，掩盖了原有潜在的逻辑问题，这个时候我们就必须要不断地上下滚动代码来找到响应的代码块来查找，这样带来了极大的不便，特别是一开始没有编写过这组件的人来说，这导致组件难以阅读和理解。</p><p>所以针对上述的情况，Vue3提出了新的组织组件代码的方式—组合式API。组合式API需要一个可以实际使用的地方，那就是<code>setup</code>。</p><p><code>setup</code>的触发时机是在组件创建之前执行的。需要注意，在<code>setup</code>中你应该避免使用<code>this</code>，因为这个时候<code>this</code>并不代表组件实例。<code>setup</code>的调用发生在<code>data</code>、<code>computed</code>和<code>methods</code>被解析之前，所以它们没法在<code>setup</code>中被获取。</p><p>当然，我们依然可以在Vue3使用选项（Option API）的方式来组织代码，这个和Vue2没有区别，但是不建议这样写。</p><p><strong>Vue3.x组件的选项（Option API）写法(不建议)</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'生命周期mounted'</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">comuted</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>Vue3.x组合式写法（推荐）</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>      <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'生命周期mounted'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token punctuation">{</span>        num<span class="token punctuation">,</span>        fn      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>下面例子代码都是在<code>Typescript</code>的环境下进行的，所以需要<code>Typescript</code>基础。</p><h3 id="1-生命周期"><a href="#1-生命周期" class="headerlink" title="1. 生命周期"></a>1. 生命周期</h3><p>通过在生命周期钩子前面加上 “on” 来访问组件的生命周期钩子。</p><p>下表包含如何在 Option API 和 <strong>setup() 内部调用生命周期钩子</strong></p><table><thead><tr><th align="center">Option API</th><th align="center">setup</th></tr></thead><tbody><tr><td align="center">beforeCreate</td><td align="center">-</td></tr><tr><td align="center">created</td><td align="center">-</td></tr><tr><td align="center">beforeMount</td><td align="center">OnBeforeMount</td></tr><tr><td align="center">mounted</td><td align="center">onMounted</td></tr><tr><td align="center">beforeUpdate</td><td align="center">onBeforeUpdate</td></tr><tr><td align="center">updated</td><td align="center">onUpdated</td></tr><tr><td align="center">beforeUnmount</td><td align="center">onBeforeUnmount</td></tr><tr><td align="center">unmounted</td><td align="center">onUnmounted</td></tr><tr><td align="center">activated</td><td align="center">onActivated</td></tr><tr><td align="center">deactivated</td><td align="center">onDeactivated</td></tr></tbody></table><blockquote><p>因为 <code>setup</code> 是在 <code>beforeCreate</code> 和 <code>created</code> 生命周期钩子前运行的，所以不需要显式地定义它们。换句话说，在这些钩子中编写的任何代码都应该直接在 <code>setup</code> 函数中编写。</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"setup"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onMounted"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token operator">?.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="2-ref、reactive、toRefs响应式和methods"><a href="#2-ref、reactive、toRefs响应式和methods" class="headerlink" title="2. ref、reactive、toRefs响应式和methods"></a>2. ref、reactive、toRefs响应式和methods</h3><p>Vue2.x默认写在data的值，初始化的时候内部会完成值的数据的响应式（<code>get</code>、<code>set</code>绑定），但是Vue3要手动调用内置方法实现，那么接下来看看常用的实现数据响应式方法都有哪些。</p><blockquote><p>ref不仅可以用在<strong>数据的响应式</strong>，还可以<strong>绑定<code>DOM</code>元素</strong></p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ num }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>num++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>-------------------------------<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ state.count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>state.count++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>-------------------------------<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>count++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">interface</span> <span class="token class-name">ObjItf</span> <span class="token punctuation">{</span>                <span class="token literal-property property">count</span><span class="token operator">:</span> number<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment">// ref声明响应式数据，用于声明基本数据(简单)类型</span>            <span class="token comment">// ref 对简单数据类型响应式，引用数据类型每一层都进行响应式处理(耗费性能)</span>            <span class="token keyword">let</span> num <span class="token operator">=</span> ref<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>                        <span class="token comment">// unref 将响应式数据变成非响应式数据。.value只是响应式数据里面的值</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unref</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// reactive声明响应式数据，用于声明引用数据类型</span>            <span class="token keyword">let</span> state <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>ObjItf<span class="token operator">&gt;</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// toRefs解构响应式数据</span>            <span class="token keyword">let</span> <span class="token punctuation">{</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> toRefs<span class="token operator">&lt;</span>ObjItf<span class="token operator">&gt;</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> add1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                num<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 注意通过ref声明的变量，所以js要修改对应的值是要通过.value访问才可以，template模板不需要通过.value访问</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> add2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 通过reactive声明的遍历，不需要通过.value访问值</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> add3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 通过toRefs结构的值和ref声明的变量一样，需要通过.value访问其值</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token punctuation">{</span>                num<span class="token punctuation">,</span>                state<span class="token punctuation">,</span>                count<span class="token punctuation">,</span>                add1<span class="token punctuation">,</span>                add2<span class="token punctuation">,</span>                add3            <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>ref</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// ref 对简单数据类型响应式，引用数据类型每一层都进行响应式处理(耗费性能)</span><span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>unref</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// unref 将响应式数据变成非响应式数据。.value只是响应式数据里面的值</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unref</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>ref 作用于对象</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// ref 深层响应式   返回响应式，.value才是想要的响应式对象</span><span class="token keyword">let</span> objRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objRef<span class="token punctuation">,</span> objRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>shallowRef 浅层响应式方法</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// shallowRef 浅层响应式方法</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>    <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// shallowRef 浅层响应式方法</span><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj1Ref <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1Ref<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>reactive  和 toRefs 和 toRef</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj2Reactive <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2Reactive<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2Reactive<span class="token punctuation">.</span>name<span class="token punctuation">,</span> obj2Reactive<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  obj2Reactive<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"李四"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">changeUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 错误例子,将没有响应式的对象换了有响应式的对象</span>  <span class="token comment">// obj2Reactive = {</span>  <span class="token comment">//   name: "王五",</span>  <span class="token comment">//   age: 20,</span>  <span class="token comment">// };</span>  <span class="token comment">// 错误例子,直接解构出来的是没有响应式的</span>  <span class="token comment">// let { name, age } = obj2Reactive;</span>  <span class="token comment">// 上面的式子相当于，let name = obj2Reactive.name</span>  <span class="token comment">// name = "王五";</span>  <span class="token comment">// age = 20;</span>  <span class="token comment">// 延续变量的响应式   把他们解构成响应式数据，解构出来的数据依旧需要 .value 的形式来操作</span>  <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>obj2Reactive<span class="token punctuation">)</span><span class="token punctuation">;</span>  name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"王五"</span><span class="token punctuation">;</span>  age<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> myName <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>obj2Reactive<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2Reactive<span class="token punctuation">,</span> name<span class="token punctuation">.</span>value<span class="token punctuation">,</span> age<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>注意：</strong></p><ol><li>reactive可以传递基础数据类型和<strong>引用数据类型</strong>，基础数据类型不会被包装成响应式数据</li><li>reactive返回的响应式数据本质是<strong>Proxy对象</strong>，对象里面每一层都会被包装成Proxy对象</li><li>reactive返回的响应式数据和原始的数据会相互影响</li><li>ref可以传递基础数据类型和引用数据类型。如果是<strong>基础数据类型</strong>，那么这个基础数据值保存在<strong>返回的响应式数据的<code>.value</code>上</strong>；如果是对象，响应式数据在<code>.value</code>上。</li><li>ref本质是将一个数据变成一个对象，这个对象具有响应式特点</li></ol><p><strong>为什么需要toRefs和toRef？</strong></p><p>和<code>ref</code>不一样的是，<code>toRef</code>和<code>toRefs</code>整两个方法，它们不创造响应式，而是延续响应式。创造响应式一般由ref和reactive来解决，而toRef和toRefs则把对象的数据进行分解和扩散，其这个对象针对的是<strong>响应式对象</strong>(<code>reactive</code>)而非普通对象。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">handleCus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"cus自定义事件"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 绑定F组件实例对象</span><span class="token keyword">function</span> <span class="token function">addCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// console.log(f.value.add);</span>  f<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Vue logo<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./assets/logo.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- Option API组件 --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>A</span> <span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- Composition API组件 --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>B</span> <span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- setup生命周期参数：props，context.attrs --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>C</span> <span class="token attr-name">cid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">:cnum</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span> <span class="token attr-name">cstr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>字符串<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- setup生命周期参数：context.emit --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>D</span> <span class="token attr-name">did</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">:dnum</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span> <span class="token attr-name">dstr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>字符串<span class="token punctuation">"</span></span> <span class="token attr-name">@cus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleCus<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- setup生命周期参数：context.slots 和 h函数--&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>E</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>这个E组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>E</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- setup生命周期参数：context.expose --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>F</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>f<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addCount<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>F组件count++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- 生命周期 --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>G</span> <span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- setup语法糖 --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>H</span> <span class="token attr-name">cid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span> <span class="token attr-name">hnum</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  <span class="token comment">&lt;!-- 创建响应式数据的方法 --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>J</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="3-watch"><a href="#3-watch" class="headerlink" title="3. watch"></a>3. watch</h3><p>语法：<code>watch(监听源|[多个], (val, oldVal) =&gt; {}, {immediate?: false, deep: false})</code></p><p>watch写法上支持一个或者多个监听源，这些监听源必须只能是<code>getter/effect</code>函数，ref数据，reactive对象，或者是数组类型</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 监听对象 需要是 getter/effect 函数，ref数据，reactive，</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"李四"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 参数： getter/effect 函数，ref数据，reactive</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> obj<span class="token punctuation">,</span> <span class="token comment">// 如果是响应式对象内的属性，需要写成 getter/effect 函数形式</span>  <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// flush: 用来控制回调函数执行时机，(pre：更新前之前触发回调；post：更新前之后触发回调；sync：同步更新一起执行)</span><span class="token keyword">const</span> watchObj <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">[</span>obj<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> obj<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 监听多个值可以写成数组形式</span>  <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">flush</span><span class="token operator">:</span> <span class="token string">"sync"</span> <span class="token punctuation">}</span> <span class="token comment">// 一开始就会触发回调函数</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">watchObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 执行监听函数的返回值可以取消监听</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>count++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">interface</span> <span class="token class-name">ObjItf</span> <span class="token punctuation">{</span>      <span class="token literal-property property">count</span><span class="token operator">:</span> number<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">// reactive声明响应式数据，用于声明引用数据类型</span>    <span class="token keyword">let</span> state <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>ObjItf<span class="token operator">&gt;</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// toRefs解构响应式数据</span>    <span class="token keyword">let</span> <span class="token punctuation">{</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> toRefs<span class="token operator">&lt;</span>ObjItf<span class="token operator">&gt;</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> add <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">watch</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token punctuation">(</span>newVal<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">oldVal</span><span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      count<span class="token punctuation">,</span>      add<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="4-watchEffect"><a href="#4-watchEffect" class="headerlink" title="4. watchEffect"></a>4. watchEffect</h3><p>它立即执行传入的一个函数，同时<strong>响应式追踪其依赖</strong>，并在其依赖变更时重新运行该函数。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 第一次执行回调函数(watchEffect)  会自动进行立即监听</span><span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cleanup</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//   绑定事件，开启定时器</span>  <span class="token function">cleanup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 解除事件，关闭定时器 清除上一个</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"cleanup"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    num<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>watch 和 watchEffect的区别</strong></p><ul><li>两者都可以监听 <code>data</code> 属性变化；</li><li><code>watch</code> 需要<strong>明确监听哪个属性</strong>；</li><li>而 <code>watchEffect</code> 会根据其中的属性，<strong>自动监听</strong>其变化。</li></ul><h3 id="5-computed"><a href="#5-computed" class="headerlink" title="5. computed"></a>5. computed</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> count2 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> count<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">changeCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>state.count++<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>state.count++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">interface</span> <span class="token class-name">ObjItf</span> <span class="token punctuation">{</span>      <span class="token literal-property property">count</span><span class="token operator">:</span> number<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>      <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> state <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>ObjItf<span class="token operator">&gt;</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      count<span class="token punctuation">,</span>      state    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="6-组件"><a href="#6-组件" class="headerlink" title="6. 组件"></a>6. 组件</h3><p><strong>全局组件：</strong></p><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component-name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>局部组件：</strong></p><blockquote><p>子组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ aname }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">aname</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"uname"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> <span class="token punctuation">{</span> aname <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'uname'</span><span class="token punctuation">,</span> <span class="token string">'a改变后的名字'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      aname<span class="token punctuation">,</span>      updateName<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><blockquote><p>父组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mychild</span> <span class="token attr-name">:aname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aname<span class="token punctuation">"</span></span> <span class="token attr-name">@uname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mychild</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">import</span> mychild <span class="token keyword">from</span> <span class="token string">'./mychild.vue'</span><span class="token punctuation">;</span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>      mychild    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">let</span> aname <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        aname<span class="token punctuation">.</span>value <span class="token operator">=</span> p<span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">return</span> <span class="token punctuation">{</span>        aname<span class="token punctuation">,</span>        updateName      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>setup语法糖组件</strong></p><blockquote><p>子组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--  --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ aname }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>修改姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token comment">// setup语法糖下defineProps,defineEmits 不需要引入</span><span class="token keyword">let</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"updatename"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">aname</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> updateName <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'updatename'</span><span class="token punctuation">,</span> <span class="token string">'修改后的名字'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><blockquote><p>父组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--  --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mychild</span> <span class="token attr-name">:aname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aname<span class="token punctuation">"</span></span> <span class="token attr-name">@updatename</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mychild</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">import</span> mychild <span class="token keyword">from</span> <span class="token string">"./b.vue"</span><span class="token punctuation">;</span><span class="token keyword">let</span> aname <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> updateName <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  aname<span class="token punctuation">.</span>value <span class="token operator">=</span> name<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>想通过main.js 组件可以全局注册</strong></p><blockquote><p>vue2</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>组件名<span class="token punctuation">,</span> 组件<span class="token punctuation">)</span></code></pre><blockquote><p>vue3</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">"./App.vue"</span><span class="token punctuation">;</span><span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">"./components/HelloWorld.vue"</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"HelloWorld"</span><span class="token punctuation">,</span> HelloWorld<span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="7-v-model-双向数据绑定"><a href="#7-v-model-双向数据绑定" class="headerlink" title="7. v-model 双向数据绑定"></a>7. v-model 双向数据绑定</h3><blockquote><p>子组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--  --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ name }}{{ age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>修改姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">age</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> String<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> emits <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"update:name"</span><span class="token punctuation">,</span> <span class="token string">"update:age"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token function-variable function">updateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token function">emits</span><span class="token punctuation">(</span><span class="token string">"update:age"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">emits</span><span class="token punctuation">(</span><span class="token string">"update:name"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><blockquote><p>父组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--  --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mychild</span> <span class="token attr-name"><span class="token namespace">v-model:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>state.name<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-model:</span>age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>state.age<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mychild</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">import</span> mychild <span class="token keyword">from</span> <span class="token string">"./b.vue"</span><span class="token punctuation">;</span><span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="8-插槽"><a href="#8-插槽" class="headerlink" title="8. 插槽"></a>8. 插槽</h3><blockquote><p>子组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 插槽 子组件 可以把 slot 标签当成是一个个坑位 --&gt;</span><span class="token comment">&lt;!-- 具名插槽 子组件 --&gt;</span><span class="token comment">&lt;!-- 匿名插槽 子组件 不用写 name属性 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hehe<span class="token punctuation">"</span></span> <span class="token attr-name">:mynum</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><blockquote><p>父组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 具名插槽 父组件 --&gt;</span><span class="token comment">&lt;!-- 匿名插槽 父组件 不需要 template 标签--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sslot</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- v-slot:link 可以简写成 #link --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>link</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>a标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- &lt;template v-slot:btn&gt; --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#btn</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 插槽作用域：在父组件中的子组件标签内部，获取子组件的数据，可以利用 scope对象 来收集对应插槽上除了 name 外的其他属性，作为自己的属性 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#hehe</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scope<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>按钮{{ scope.mynum }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Sslot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Sslot <span class="token keyword">from</span> <span class="token string">"./Sslot.vue"</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="9-await支持"><a href="#9-await支持" class="headerlink" title="9. await支持"></a>9. await支持</h3><p>不必再配合 async 就可以直接使用 await 了，这种情况下，组件的 setup 会自动变成 async setup 。子组件还要被<code>&lt;Suspense&gt;</code>标签才能使用</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  <span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="10-style-scoped"><a href="#10-style-scoped" class="headerlink" title="10. style scoped"></a>10. style scoped</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token comment">/* 修改第三方组件样式 */</span><span class="token selector">::v-deep(.foo)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">/* 简写 */</span><span class="token selector">:deep(.foo)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">/* 修改插槽内容样式 */</span><span class="token selector">::v-slotted(.foo)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">/* 简写 */</span><span class="token selector">:slotted(.foo)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">/* 修改全局样式 */</span><span class="token selector">::v-global(.foo)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">/* 简写 */</span><span class="token selector">:global(.foo)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="11-teleport"><a href="#11-teleport" class="headerlink" title="11. teleport"></a>11. teleport</h3><p>这个组件可以把组件进行传送，to属性就是要传送的位置目标，用css选择器</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>target<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>哈哈哈哈哈<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeTarget<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击切换<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>-------------------------------<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">let</span> target <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">".header"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> changeTarget <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  target<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">".footer"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="script标签里面的-setup"><a href="#script标签里面的-setup" class="headerlink" title="script标签里面的 setup"></a>script标签里面的 setup</h3><p><strong>script标签里面的 setup：</strong>相当于setup函数里面，不需要return</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--  --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>count++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"H"</span><span class="token punctuation">,</span>  <span class="token literal-property property">inheritAttrs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> useAttrs<span class="token punctuation">,</span> useSlots <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token comment">// props</span><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">cid</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// context.emits</span><span class="token keyword">const</span> emits <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"cus"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// emits("cus"); 触发自定义事件</span><span class="token comment">// context.attrs</span><span class="token keyword">const</span> attrs <span class="token operator">=</span> <span class="token function">useAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// context.slots</span><span class="token keyword">const</span> slots <span class="token operator">=</span> <span class="token function">useSlots</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  add<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建响应式数据</span><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="父传子-props"><a href="#父传子-props" class="headerlink" title="父传子 props"></a>父传子 props</h3><p>props: 父传子</p><blockquote><p>子标签里面是否显示属性：inheritAttrs: false  </p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 在 setup 语法糖里面 defineProps可以不用引用</span><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">cid</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 非 setup 语法糖 </span><span class="token literal-property property">inheritAttrs</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">cid</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>   <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><pre class="language-html" data-language="html"><code class="language-html">// 在 setup 语法糖里面没有这个 inheritAttrs: false, 属性，所以需要另外写上<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"H"</span><span class="token punctuation">,</span>  <span class="token literal-property property">inheritAttrs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>JavaScript 和 TypeScript 区别：</strong></p><blockquote><p>JavaScript</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>        <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 必传递</span>        <span class="token function-variable function">validator</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 检验传入的值，给个黄色警告⚠</span>            <span class="token keyword">return</span> val <span class="token operator">===</span> <span class="token number">123</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>TypeScript</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">withDefaults</span><span class="token punctuation">(</span>  defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">;</span>    num<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>    <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token function-variable function">obj</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="context-attrs"><a href="#context-attrs" class="headerlink" title="context.attrs"></a>context.attrs</h3><p>context.attrs ，就像<strong>标签属性 <code>v-bind="$attrs"</code> 一样</strong>，可以拿到父组件中非<code>props</code>里面的属性，可以通过解构{attrs}</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// setup 语法糖 useAttrs需要引入</span><span class="token keyword">const</span> attrs <span class="token operator">=</span> <span class="token function">useAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 非 setup 语法糖 </span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> attrs <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// const cid = props.cid;</span>    <span class="token keyword">const</span> cnum <span class="token operator">=</span> attrs<span class="token punctuation">.</span>cnum<span class="token punctuation">;</span><span class="token comment">// cnum 可以拿到模板直接用</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>        cnum<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h3 id="子传父-context-emit"><a href="#子传父-context-emit" class="headerlink" title="子传父 context.emit"></a>子传父 context.emit</h3><p>需要先声明；在使用</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 在 setup 语法糖里面 defineEmits可以不用引用</span><span class="token keyword">const</span> emits <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"cus"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">emits</span><span class="token punctuation">(</span><span class="token string">"cus"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 触发自定义事件<span class="token comment">// 非 setup 语法糖   </span><span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"cus"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 声明自定义事件</span>    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> attrs<span class="token punctuation">,</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 触发自定义事件</span>        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"cus"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p><strong>JavaScript 和 TypeScript 区别：</strong></p><blockquote><p>JavaScript</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 用 js 的方式进行子传父</span><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"changename"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment">// 先进行声明</span></code></pre><blockquote><p>TypeScript</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 用 ts 的方式进行父传子   先声明</span><span class="token keyword">const</span> emit <span class="token operator">=</span> defineEmits<span class="token operator">&lt;</span><span class="token punctuation">{</span>  <span class="token punctuation">(</span>event<span class="token operator">:</span> <span class="token string">"changename"</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token punctuation">(</span>event<span class="token operator">:</span> <span class="token string">"changeid"</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 调用</span><span class="token keyword">function</span> <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"changename"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//   emit("changeid");</span><span class="token punctuation">}</span></code></pre><h3 id="context-slots-和-h函数"><a href="#context-slots-和-h函数" class="headerlink" title="context.slots 和 h函数"></a>context.slots 和 h函数</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 在 setup 语法糖里面 useSlots需要引入</span><span class="token keyword">const</span> slots <span class="token operator">=</span> <span class="token function">useSlots</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 非 setup 语法糖   </span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> slots <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>slots<span class="token punctuation">.</span>default<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// &lt;div&gt;&lt;span&gt;这是一个div&lt;/span&gt;&lt;/div&gt;</span>    <span class="token comment">// slots.default?.()[0] 是虚拟dom（js对象）</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> slots<span class="token punctuation">.</span>default<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h3 id="context-expose暴露-–-ref-获取组件方法"><a href="#context-expose暴露-–-ref-获取组件方法" class="headerlink" title="context.expose暴露 – ref()获取组件方法"></a>context.expose暴露 – ref()获取组件方法</h3><p>父组件：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span><span class="token constant">F</span> ref<span class="token operator">=</span><span class="token string">"f"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token comment">// ref 绑定组件名字</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 绑定F组件实例对象</span><span class="token comment">// 调用方法可以使用子组件里面的add方法</span><span class="token keyword">function</span> <span class="token function">addCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  f<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>子组件：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 在 setup 语法糖里面 defineExpose可以不引入</span><span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  add<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 非 setup 语法糖  </span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> expose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 暴露组件内的方法</span>    <span class="token function">expose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        add<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>        count<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h3 id="provide-和-inject"><a href="#provide-和-inject" class="headerlink" title="provide 和  inject"></a>provide 和  inject</h3><p>可以跨组件传值  provide在祖先组件注入； inject 在子组件拿值</p><blockquote><p>父组件</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">"G组件的值"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">"gvalue"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">"changeval"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">val</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  str<span class="token punctuation">.</span>value <span class="token operator">=</span> val<span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>子组件</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>G： {{ val }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> inject<span class="token punctuation">,</span> Ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">let</span> val <span class="token operator">=</span> inject<span class="token operator">&lt;</span>Ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token string">"gvalue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// console.log(val);</span><span class="token comment">// G组件内修改gvalue</span><span class="token keyword">let</span> fn <span class="token operator">=</span> inject<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">s</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">"changeval"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  fn<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token string">"改变后的值"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="Eg"><a href="#Eg" class="headerlink" title="Eg"></a>Eg</h3><h4 id="同步修改-本地存储数据"><a href="#同步修改-本地存储数据" class="headerlink" title="同步修改 本地存储数据"></a>同步修改 本地存储数据</h4><blockquote><p>父组件</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> sData <span class="token operator">=</span> <span class="token function">useStorage</span><span class="token punctuation">(</span><span class="token string">"obj"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> sessionStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sData<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击修改之后就触发了 watch()</span><span class="token keyword">function</span> <span class="token function">changeSData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  sData<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"李四"</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sData<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><blockquote><p>子组件</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">,</span>watch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token comment">// </span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> useStorage<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>    <span class="token literal-property property">key</span><span class="token operator">:</span>string<span class="token punctuation">,</span>    defaultValue<span class="token operator">?</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">,</span>    <span class="token literal-property property">storage</span><span class="token operator">:</span>Storage <span class="token operator">=</span> localStorage<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">const</span> val  <span class="token operator">=</span>storage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">{</span>        data<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        data<span class="token punctuation">.</span>value <span class="token operator">=</span>defaultValue<span class="token punctuation">;</span>        storage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>defaultValue<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// 监听</span>    <span class="token function">watch</span><span class="token punctuation">(</span>        data<span class="token punctuation">,</span>        <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>            <span class="token comment">// console.log(val);</span>            <span class="token comment">// 更新到 storage</span>            storage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span>            <span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span>        <span class="token punctuation">}</span>    <span class="token punctuation">)</span>    <span class="token keyword">return</span> data<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><h3 id="路由传参"><a href="#路由传参" class="headerlink" title="路由传参"></a>路由传参</h3><p>vue3.0新增API：useRouter和useRoute</p><p>一.路由跳转<br>1.首先在需要跳转的页面引入API—useRouter</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span></code></pre><p>2.在跳转页面定义router变量</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>3.用router.push跳转页面</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 字符串</span>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'home'</span><span class="token punctuation">)</span><span class="token comment">// 对象</span>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'home'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 命名的路由</span>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token string">'123'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 带查询参数，变成 /register?userId=123</span>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'register'</span><span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token string">'123'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>4.如果有参数的话，在接收页面引入API–useRoute</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span></code></pre><p>5.在接收页面定义变量route，获取传过来的变量</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//query</span><span class="token keyword">let</span> userId<span class="token operator">=</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>userId<span class="token punctuation">;</span><span class="token comment">//params</span><span class="token keyword">let</span> userId<span class="token operator">=</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>userId<span class="token punctuation">;</span></code></pre><p>二.页面传参需要注意的问题<br>1.如果提供了 path，params 会被忽略，但query 没有这种情况，此时需要提供路由的 name 或手写完整的带有参数的 path</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> userId <span class="token operator">=</span> <span class="token string">'123'</span>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> userId <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; /user/123</span>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/user/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; /user/123</span><span class="token comment">// 这里的 params 不生效</span>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> userId <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; /user</span></code></pre><p>2.上述规则同样适用于 router-link 组件的 to 属性</p><p>3.如果目的地和当前路由相同，只有参数发生了改变 (比如从一个用户资料到另一个 /users/1 -&gt; /users/2)，你需要使用 beforeRouteUpdate 来响应这个变化 (比如抓取用户信息)</p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图片懒加载</title>
      <link href="/2022/09/04/tu-pian-lan-jia-zai/"/>
      <url>/2022/09/04/tu-pian-lan-jia-zai/</url>
      
        <content type="html"><![CDATA[<h1 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h1><p>原理：就是给全部图片 src属性 一个默认的图片路径，真实的图片路径用 data_src属性来指向，监听图片是否出现在可视视口，如果图片出现在可视的视口，在将图片的真实路径指向 src属性，进行渲染。</p><p>技术点：</p><p>1.利用了自定义的指令，具有高复用性；</p><p>2.利用了<code>IntersectionObserver()</code>构造器，可以对图片进行监听是否出现在可视视口；</p><blockquote><p>利用组件进行懒加载，传入图片数组进组件，将图片地址src初始化为默认地址，将真实地址初始化指向一个自定义属性，将对应img标签的添加到监听列表，可以在组件切换时，组件卸载前，停止监听，监听img数组对象，遍历每一项，是否出现在可视区域和交叉区域，没加载过的图片，就进行真实路径和默认路径的替换。</p></blockquote><h3 id="写成自定义指令的方式"><a href="#写成自定义指令的方式" class="headerlink" title="写成自定义指令的方式"></a><strong>写成自定义指令的方式</strong></h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 先是引入默认图片</span><span class="token keyword">import</span> baseImg <span class="token keyword">from</span> <span class="token string">"@/assets/logo.png"</span><span class="token punctuation">;</span><span class="token comment">// 声明一个定时器</span><span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">// 显示图片的函数</span><span class="token keyword">function</span> <span class="token function">showImage</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> imgSrc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 它的功能 等价于 document.createElement('img') </span>    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 图片路径指向真实地址 如果是一张大图，作用于装载大图</span>    img<span class="token punctuation">.</span>src <span class="token operator">=</span> imgSrc<span class="token punctuation">;</span>    <span class="token comment">// onload 事件在 img 图片加载完成后立即执行</span>    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 将默认路径指向真实路径</span>        el<span class="token punctuation">.</span>src <span class="token operator">=</span> imgSrc<span class="token punctuation">;</span>        <span class="token comment">// 已经加载完成</span>        el<span class="token punctuation">.</span>isLoaded <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// console.log(123);</span><span class="token punctuation">}</span><span class="token comment">// 创建一个监听器</span><span class="token comment">// entries 是所有被监听对象的集合</span><span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">entries</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 被监听对象进行遍历</span>    entries<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">entry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log(entry);</span>        <span class="token comment">// isIntersecting：返回一个 布尔值，目标元素与交叉区域观察者对象 (intersection observer) 的根相交，则返回 true</span>        <span class="token comment">// intersectionRatio：目标元素的可见比例，完全可见时为1，完全不可见时小于等于0</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>isIntersecting <span class="token operator">||</span> entry<span class="token punctuation">.</span>intersectionRatio <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 当被监听元素到临界值且未加载,图片时触发。</span>            <span class="token comment">// entry.target 被观察者的标签</span>            <span class="token comment">// entry.target.data_src 真实路径</span>            <span class="token comment">// 已经加载过的为 true</span>            <span class="token comment">// 查看可视视口的图片视口是否已经加载过了，没加载过就执行后面</span>            <span class="token operator">!</span>entry<span class="token punctuation">.</span>target<span class="token punctuation">.</span>isLoaded <span class="token operator">&amp;&amp;</span> <span class="token function">showImage</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>target<span class="token punctuation">,</span> entry<span class="token punctuation">.</span>target<span class="token punctuation">.</span>data_src<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token comment">// 用inserted和bind都行 因为IntersectionObserver时异步的，以防意外还是用inserted好一点</span>    <span class="token comment">// inserted和bind的区别在于inserted时元素已经插入页面，能够直接获取到dom元素的位置信息。</span>    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log(123231231233123);</span>        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>        <span class="token comment">// 初始化时展示默认图片</span>        el<span class="token punctuation">.</span>src <span class="token operator">=</span> baseImg<span class="token punctuation">;</span>        <span class="token comment">// 将真实的地址需要加载的图片地址绑定在dom上</span>        el<span class="token punctuation">.</span>data_src <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token comment">// 将对应dom添加到监听队列</span>        observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 防抖，组件卸载的时候停止监听</span>        <span class="token keyword">const</span> vm <span class="token operator">=</span> vnode<span class="token punctuation">.</span>context<span class="token punctuation">;</span>        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            vm<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'hook:beforeDestroy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// 图片更新时触发</span>    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        el<span class="token punctuation">.</span>isLoaded <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        el<span class="token punctuation">.</span>data_src <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>使用：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item, index) in imgSrc<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- v-imgLazy 绑定需要加载图片的路径 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-imgLazy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> imgLazy <span class="token keyword">from</span> <span class="token string">"@/directive/imgLazy.js"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  <span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">imgLazy</span><span class="token operator">:</span> imgLazy<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><hr><h3 id="监听滚动事件"><a href="#监听滚动事件" class="headerlink" title="监听滚动事件"></a><strong>监听滚动事件</strong></h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 组件挂载完成，监听滚动事件</span><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollFn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 该 goods 组件销毁前先解绑 scroll 事件</span><span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollFn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 滚动处理函数</span><span class="token function">scrollFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 滚动条当前的位置（滚动的位置）</span>    <span class="token comment">// getScrollTop();</span>    <span class="token comment">// 当前可视范围的高度</span>    <span class="token comment">// getClientHeight();</span>    <span class="token comment">// 获取文档完整的高度</span>    <span class="token comment">// getScrollHeight();</span>    <span class="token comment">// 当滚动距离 + 可视高度 &gt;= 文档高度时(到达最底部了) - 需要到达的高度</span>    <span class="token comment">// 精度问题可能导致不能完全相等 属于正常现象</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">getClientHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token function">getScrollHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log("可以加载下一页数据.....");</span>        <span class="token comment">// 判断数据是否到达底部</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>goodsListShow<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>goodsList<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>isReachBottom <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 节流:通过一个变量来控制代码一段时间只执行一次</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//开始加载了</span>            <span class="token comment">// 修改page值</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token comment">// 情况1,开始发送请求 请求page：2 size：8 的数据，由后台直接返回对应的页码的数据给我们</span>            <span class="token comment">// 情况2,开始从 goodsList 中提取 page:2 size:8 数据,追加到 goodListShow 中</span>            <span class="token comment">// 第一页的数据: page:1,size:8  对应 goodsList 中的索引为: 0~7</span>            <span class="token comment">// 第一页的数据: page:2,size:8  对应 goodsList 中的索引为: 8~15</span>            <span class="token comment">// 第一页的数据: page:3,size:8  对应 goodsList 中的索引为: 16~23</span>            <span class="token comment">// 如果从第二页开始循环 , let i=8, 那循环到 15 就停止了, i++</span>            <span class="token comment">// 如果服务器响应比较慢(模拟第一重情况,用定时器来模拟)</span>            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span>                    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span>                    i<span class="token operator">++</span>                <span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// i=8,9,10,11,...15 短路运算,如果已经没有这一项就停下</span>                    <span class="token comment">// 索引超出时,就不追加了</span>                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"要追加的数据为"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>goodsList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>goodsList<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>goodsListShow<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>goodsList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//没有加载了</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 模块分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescript</title>
      <link href="/2022/09/03/typescript/"/>
      <url>/2022/09/03/typescript/</url>
      
        <content type="html"><![CDATA[<h1 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h1><h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><p>超集定义：如果一个集合S2中的每一个元素都在集合S1中，且集合S1中可能包含S2中没有的元素，则集合S1就是S2的一个超集。</p><p>TypeScript是JavaScript的超集，主要学习ts里面的原始类型、字面量类型、数组类型、函数类型、类类型、接口类型、类型别名、联合与交叉类型、枚举类型、泛型等类型元素，以及类型推断、类型断言、类型缩小、类型放大等特性。</p><p>TypeScript 是添加了<strong>类型</strong>系统的 JavaScript，从 TypeScript 的名字就可以看出来，「类型」是其最核心的特性。</p><p>我们知道，JavaScript 是一门非常灵活的编程语言：</p><ol><li>它<strong>没有类型约束</strong>，一个变量可能初始化时是字符串，过一会儿又被赋值为数字。</li><li>由于<strong>隐式类型转换</strong>的存在，有的变量的类型很难在运行前就确定。</li><li>函数是 JavaScript 中的一等公民，可以赋值给变量，也可以当作参数或返回值。</li></ol><p>这种灵活性就像一把双刃剑，一方面使得 JavaScript 蓬勃发展，无所不能，从 2013 年开始就一直蝉联最普遍使用的编程语言排行榜冠军；另一方面也使得它的代码质量参差不齐，维护成本高，运行时错误多。</p><p>而 TypeScript 的类型系统，在很大程度上弥补了 JavaScript 的缺点。</p><h3 id="1-TypeScript-是静态类型的"><a href="#1-TypeScript-是静态类型的" class="headerlink" title="1. TypeScript 是静态类型的"></a>1. TypeScript 是静态类型的</h3><p>类型系统按照「<strong>类型检查的时机</strong>」来分类，可以分为动态类型和静态类型。</p><p><strong>动态类型是指在运行时才会进行类型检查</strong>，这种语言的类型错误往往会导致运行时错误。JavaScript 是一门解释型语言，没有编译阶段，所以它是动态类型，以下这段代码在运行时才会报错：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token number">1</span>foo<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// Uncaught TypeError: foo.split is not a function</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment">// 这句话不会输出</span></code></pre><p><strong>静态类型是指编译阶段就能确定每个变量的类型</strong>。<strong>TypeScript 在运行前需要先编译为 JavaScript，但是在运行之前的编译阶段就会进行类型检查</strong>，所以 TypeScript 是静态类型，这段 TypeScript 代码在编译阶段就会报错了：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token number">1</span>foo<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// Property 'split' does not exist on type 'number'</span></code></pre><p>你可能会奇怪，这段 TypeScript 代码看上去和 JavaScript 没有什么区别呀。</p><p>没错！大部分 JavaScript 代码都只需要经过少量的修改（或者完全不用修改）就变成 TypeScript 代码，这得益于 TypeScript 强大的<strong>类型推论</strong>，即使不去手动声明变量的类型，也能在变量初始化时自动推论出它是一个 number 类型。</p><p>完整的 TypeScript 代码是这样的：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token literal-property property">foo</span><span class="token operator">:</span>number <span class="token operator">=</span> <span class="token number">1</span>foo<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// Property 'split' does not exist on type 'number'</span></code></pre><h3 id="2-TypeScript-是弱类型"><a href="#2-TypeScript-是弱类型" class="headerlink" title="2. TypeScript 是弱类型"></a>2. TypeScript 是弱类型</h3><p><strong>类型系统按照「是否允许隐式类型转换」来分类，可以分为强类型和弱类型</strong>。</p><p>以下这段代码不管是在 JavaScript 中还是在 TypeScript 中都是可以正常运行的，运行时数字 <code>1</code> 会被隐式类型转换为字符串 <code>'1'</code>，加号 <code>+</code> 被识别为字符串拼接，所以打印出结果是字符串 <code>'11'</code>。</p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token comment">// '11'</span></code></pre><p>TypeScript 是完全兼容 JavaScript 的，它不会修改 JavaScript 运行时的特性，所以<strong>它们都是弱类型</strong>。</p><p>作为对比，Python 是强类型，以下代码会在运行时报错：</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'1'</span><span class="token punctuation">)</span></code></pre><h3 id="3-编辑器"><a href="#3-编辑器" class="headerlink" title="3. 编辑器"></a>3. 编辑器</h3><p>TypeScript 最大的优势之一便是增强了编辑器和 IDE 的功能，包括代码补全、接口提示、跳转到定义、重构等。</p><p><strong>建议安装最新node版本：</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">nvm <span class="token function">install</span> <span class="token number">16.13</span>.0nvm use <span class="token number">16.13</span>.0<span class="token comment"># npm淘宝镜像</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org </code></pre><pre class="language-none"><code class="language-none">// 全局安装typescriptnpm install -g typescript// 安装完成后我们可以使用 tsc 命令来执行 TypeScript 的相关代码。tsc -v 查看版本号 // 如果在vscode执行tsc命令报错，看这里https://blog.csdn.net/ddx2019/article/details/106252949// 初始化，添加tsconfig.json(ts配置项)tsc --init// 监听ts文件，编译成js文件tsc -p tsconfig.json --watch</code></pre><h2 id="二、原始类型"><a href="#二、原始类型" class="headerlink" title="二、原始类型"></a>二、原始类型</h2><p><strong>string，number，boolean，null，undefined，symbol</strong></p><p>ES6 引入了一种新的原始数据类型 Symbol ，表示独一无二的值，最大的用法是用来定义对象的唯一属性名。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">export</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 第一行增加这个语句是为了使文件里的变量不污染全局</span><span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 自动进行类型推断</span><span class="token keyword">let</span> num2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// number</span><span class="token keyword">let</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"2"</span><span class="token punctuation">;</span> <span class="token comment">// string</span><span class="token keyword">let</span> bool<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span><span class="token keyword">let</span> sy<span class="token operator">:</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol</span><span class="token keyword">let</span> undef<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span><span class="token keyword">let</span> nul<span class="token operator">:</span><span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// null</span><span class="token keyword">let</span> vd<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// 可以把undefined类型赋值给void类型，但是反过来不行</span><span class="token comment">// 函数没有返回值，那么函数的返回值类型就是void</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>注意：</strong></p><pre><code>   1. **void只用在函数没有返回值的情形下。**      2. **undefined和null最大的价值主要体现在接口类型上，表示可缺省、未定义的属性；null表示对象或者属性是空值。**这个可以先有个印象，后面说到接口会讲         3. **单纯声明 undefined 或者 null 类型的变量是无比鸡肋的，上面的例子只是说明原始类型**            4. **如果不写类型，typescript是可以推断类型的**</code></pre><h2 id="三、非原始类型"><a href="#三、非原始类型" class="headerlink" title="三、非原始类型"></a>三、非原始类型</h2><h3 id="1-object-Object"><a href="#1-object-Object" class="headerlink" title="1. object, Object, {}"></a><strong>1. object, Object, {}</strong></h3><p>object：代表的是非原始类型，也就是不能是string，number，boolean，symbol，null，undefined</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">let</span> obj1<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span><span class="token keyword">let</span> obj2<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token string">"3"</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span><span class="token keyword">let</span> obj3<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span><span class="token keyword">let</span> obj4<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span><span class="token keyword">let</span> obj5<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span><span class="token keyword">let</span> obj6<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span><span class="token keyword">let</span> obj7<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj8<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj9<span class="token operator">:</span> <span class="token function-variable function">object</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>Object ：代表所有拥有 toString、hasOwnProperty 方法的类型，所以所有<strong>原始类型、非原始类型</strong>都可以赋给 Object，严格模式下不包括null，undefined。{}空对象类型和 Object 一样。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">let</span> obj1<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token keyword">let</span> obj2<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token string">"3"</span><span class="token punctuation">;</span> <span class="token keyword">let</span> obj6<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">let</span> obj3<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">let</span> obj4<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span><span class="token keyword">let</span> obj5<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span><span class="token keyword">let</span> obj7<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">"2"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj8<span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj9<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">let</span> obj10<span class="token operator">:</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>a <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token keyword">let</span> obj11<span class="token operator">:</span> <span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'jojo'</span><span class="token punctuation">}</span></code></pre><h3 id="2-数组类型"><a href="#2-数组类型" class="headerlink" title="2. 数组类型"></a>2. 数组类型</h3><p><strong>数组类型的定义：</strong></p><p><strong>1.「类型 + 方括号」表示法</strong></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 数组的项中不允许出现其他的类型：</span><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// Type 'string' is not assignable to type 'number'.</span><span class="token comment">// 数组的一些方法的参数也会根据数组在定义时约定的类型进行限制：</span><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>fibonacci<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Argument of type '"8"' is not assignable to parameter of type 'number'.</span><span class="token comment">// 联合类型：数组里可以出现多种类型的值，用|隔开类型名称</span><span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span></code></pre><p><strong>2.数组泛型</strong></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> fibonacci<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">]</span></code></pre><p><strong>3.元组</strong>（先简单了解）</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span></code></pre><h3 id="3-字面量类型"><a href="#3-字面量类型" class="headerlink" title="3. 字面量类型"></a>3. 字面量类型</h3><p>字面量不仅可以表示值，还可以表示类型</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">let</span> x1<span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>x1 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>x1 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token keyword">let</span> x2<span class="token operator">:</span><span class="token string">'hello'</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>x2 <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span></code></pre><p><strong>注意：TypeScript 支持 3 种字面量类型：string字面量类型、number字面量类型、boolean字面量类型</strong></p><h3 id="4-联合类型"><a href="#4-联合类型" class="headerlink" title="4. 联合类型"></a>4. 联合类型</h3><p>可以把“|”类比为 JavaScript 中的逻辑或 “||”，只不过前者表示可能的类型。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">let</span> a1<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>a1 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// Property 'length' does not exist on type 'true'.</span><span class="token comment">// 区分</span><span class="token keyword">let</span> a2<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span></code></pre><h3 id="5-交叉类型"><a href="#5-交叉类型" class="headerlink" title="5. 交叉类型"></a>5. 交叉类型</h3><p>在 TypeScript 中，还存在一种类似逻辑<strong>与行为</strong>的类型——交叉类型（Intersection Type），它可以把多个类型合并成一个类型，合并后的类型将拥有<strong>所有成员类型</strong>的特性。使用“&amp;”操作符来声明交叉类型(并集)。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token comment">// 思考这里有一个值满足m的类型要求吗？</span><span class="token keyword">let</span> m <span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">&amp;</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token comment">// 一般用于下面这种情况</span><span class="token keyword">let</span> zs<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> height<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>  height<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="6-联合、交叉组合"><a href="#6-联合、交叉组合" class="headerlink" title="6. 联合、交叉组合"></a>6. 联合、交叉组合</h3><p>联合、交叉类型本身就可以直接组合使用，这就涉及 |、&amp; 操作符的优先级问题。**联合操作符 | 的优先级低于交叉操作符 &amp;**，同样，我们可以通过使用小括弧 () 来调整操作符的优先级，这个和js一样。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">let</span> m<span class="token operator">:</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>m <span class="token operator">=</span> <span class="token punctuation">{</span>    id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>m <span class="token operator">=</span> <span class="token punctuation">{</span>    id<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span></code></pre><h2 id="四、any-unknown"><a href="#四、any-unknown" class="headerlink" title="四、any , unknown"></a>四、any , unknown</h2><ul><li><p>any 指的是一个<strong>任意类型</strong>，它是官方提供的一个<strong>选择性绕过静态类型检测</strong>的作弊方式，<strong>非常不建议使用</strong>。</p></li><li><p>unknown 用来描述类型并不确定的变量，和any的区别就是<strong>会进行类型检测</strong>。</p></li></ul><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">let</span> unk<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token string">"2"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    unk <span class="token operator">=</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    unk <span class="token operator">=</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 使用unknown后，typescript会做类型检测</span>unk<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错 </span><span class="token comment">// any会绕过类型检测，所以下面不会有问题提示</span><span class="token keyword">let</span> an1<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>an1<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 通过缩小类型可以通过类型检测</span><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">unknown</span>a <span class="token operator">=</span> <span class="token number">1</span>a <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 也可以用断言通过类型检测</span><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">unknown</span>a <span class="token operator">=</span> <span class="token number">1</span>a <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token keyword">as</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 编译不会报错，但是实际运行报错</span></code></pre><p><strong>注意：</strong></p><ol><li>可以把任何类型的值赋值给unknown，但是unknown类型的值只能赋值给any或者unknown</li><li>unknown比any好的地方，就是它可以通过缩小类型的手段类确定类型</li></ol><h2 id="五、never类型"><a href="#五、never类型" class="headerlink" title="五、never类型"></a>五、never类型</h2><ul><li>never 表示永远不会发生值的类型</li></ul><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">function</span> <span class="token function">throwErrFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">never</span> <span class="token punctuation">{</span>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'出错了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>注意：</strong></p><pre><code>   1. **如果函数里是死循环，返回值类型也是never **      2. **never 是所有类型的子类型**</code></pre><h2 id="六、接口（interface）"><a href="#六、接口（interface）" class="headerlink" title="六、接口（interface）"></a>六、接口（interface）</h2><p>TypeScript 不仅能帮助前端改变思维方式，还能强化面向接口编程的思维和能力，而这正是得益于 Interface 接口类型。</p><h3 id="1-定义对象的类型"><a href="#1-定义对象的类型" class="headerlink" title="1. 定义对象的类型"></a>1. 定义对象的类型</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> obj<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">'jojo'</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token keyword">let</span> obj2<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">'rose'</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token comment">// 我们定义了一个接口 IPersonInfo，接着定义了一个变量 obj3，它的类型是 IPersonInfo。这样，我们就约束了 obj3 的形状必须和接口 IPersonInfo 一致。接口一般首字母大写。有的编程语言中会建议接口的名称加上 I 前缀。</span><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 注意是分号</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> obj3<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token comment">// 赋值的时候，变量的形状必须和接口的形状保持一致。定义的变量比接口少了一些属性或者多一些属性是不允许的：</span><span class="token comment">// let obj4: IPersonInfo = {</span><span class="token comment">//   age: 7</span><span class="token comment">// }</span><span class="token comment">// let obj5: IPersonInfo = {</span><span class="token comment">//   name: 'jack',</span><span class="token comment">//   age: 6,</span><span class="token comment">//   gender: 1</span><span class="token comment">// }</span></code></pre><h3 id="2-可选属性"><a href="#2-可选属性" class="headerlink" title="2. 可选属性"></a>2. 可选属性</h3><p>有时我们希望不要完全匹配一个形状，那么可以用可选属性：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>    age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>可选属性的含义是该属性可以不存在。</strong>但这时仍然<strong>不允许添加未定义的属性</strong>：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>    age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>    gender<span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="3-任意属性"><a href="#3-任意属性" class="headerlink" title="3. 任意属性"></a>3. 任意属性</h3><p>有时候我们希望一个接口允许有任意的属性，可以使用如下方式：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>    gender<span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>需要注意的是，<strong>一旦定义了任意属性，那么确定属性和可选属性的类型都必须是它的类型的子集</strong>：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 使用 [key: string] 定义了任意属性取 string 类型的值。</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>    age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>    gender<span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>上例中，任意属性的值允许是 <code>string</code>，但是可选属性 <code>age</code> 的值却是 <code>number</code>，<code>number</code> 不是 <code>string</code> 的子属性，所以报错了。</p><p><strong>一个接口中只能定义一个任意属性。如果接口中有多个类型的属性，则可以在任意属性中使用联合类型</strong>：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>    age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>    gender<span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="4-只读属性"><a href="#4-只读属性" class="headerlink" title="4. 只读属性"></a>4. 只读属性</h3><p>有时候我们希望对象中的一些字段只能在创建的时候被赋值，那么可以用 <code>readonly</code> 定义只读属性：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>    <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>    id<span class="token operator">:</span> <span class="token number">89757</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>    gender<span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>tom<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">9527</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span></code></pre><p>上例中，使用 <code>readonly</code> 定义的属性 <code>id</code> 初始化后，又被赋值了，所以报错了。</p><p><strong>注意，只读的约束存在于第一次给对象赋值的时候，而不是第一次给只读属性赋值的时候</strong>：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPersonInfo</span> <span class="token punctuation">{</span>    <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 报错 Property 'id' is missing</span><span class="token keyword">let</span> tom<span class="token operator">:</span> IPersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>    gender<span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 报错 Cannot assign to 'id' because it is a read-only property</span>tom<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">89757</span><span class="token punctuation">;</span></code></pre><h3 id="5-定义数组和函数的类型"><a href="#5-定义数组和函数的类型" class="headerlink" title="5. 定义数组和函数的类型"></a>5. 定义数组和函数的类型</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 定义数组的类型</span><span class="token keyword">interface</span> <span class="token class-name">ArrayNumber</span> <span class="token punctuation">{</span>  <span class="token punctuation">[</span>idx<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> arr1<span class="token operator">:</span> ArrayNumber <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>定义函数的类型在函数章节中再详细讲。</p><h3 id="6-继承"><a href="#6-继承" class="headerlink" title="6. 继承"></a>6. 继承</h3><p>多个不同接口之间是可以实现继承的，但是如果继承的接口IAnimal和被继承的接口IPerson有相同的属性，并且类型不兼容，那么就会报错。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">IAnimal</span> <span class="token punctuation">{</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  canEat<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">IStudent</span> <span class="token keyword">extends</span> <span class="token class-name">IPerson</span><span class="token punctuation">,</span> IAnimal <span class="token punctuation">{</span>  score<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> student<span class="token operator">:</span> IStudent <span class="token operator">=</span> <span class="token punctuation">{</span>  age<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>  canEat<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  name<span class="token operator">:</span> <span class="token string">'jojo'</span><span class="token punctuation">,</span>  score<span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>多个不同的接口可以实现继承，组合成一个新的接口，那么如果出现多个相同名字的接口会怎么样？</p><h3 id="7-多个相同接口"><a href="#7-多个相同接口" class="headerlink" title="7. 多个相同接口"></a>7. 多个相同接口</h3><p>多个相同名字的接口，会进行合并，得到一个新的接口；这个接口的特性一般用在扩展第三方库的接口类型。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">PersonInfo</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">PersonInfo</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 如果name不是string类型那么会报错</span>    height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> zs<span class="token operator">:</span> PersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>  height<span class="token operator">:</span> <span class="token number">177</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="七、类型别名（type）"><a href="#七、类型别名（type）" class="headerlink" title="七、类型别名（type）"></a>七、类型别名（type）</h2><p>接口类型的一个作用是将内联类型抽离出来，从而实现类型可复用。其实，我们也可以使用类型别名接收抽离出来的内联类型实现复用。格式：<code>type</code> 别名名称 = 类型定义。</p><h3 id="1-基础使用"><a href="#1-基础使用" class="headerlink" title="1. 基础使用"></a>1. 基础使用</h3><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token comment">// 语法：type 类型名 = 类型值</span><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">'jojo'</span><span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">let</span> c<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token comment">// 对象</span><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">type</span> <span class="token class-name">TPerson</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token comment">// type TPerson = { name: string } &amp; { age: number } // 交叉类型</span><span class="token comment">// type TPerson = { gender: string } // 类型别名不能重名</span><span class="token keyword">let</span> person<span class="token operator">:</span> TPerson <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">'jojo'</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token comment">// 数组</span><span class="token keyword">type</span> <span class="token class-name">TArray1</span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token keyword">let</span> x<span class="token operator">:</span> TArray1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">]</span><span class="token keyword">type</span> <span class="token class-name">TArray2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">let</span> y<span class="token operator">:</span> TArray2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">]</span><span class="token keyword">interface</span> <span class="token class-name">IArr</span> <span class="token punctuation">{</span>  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token keyword">let</span> arr<span class="token operator">:</span> IArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">]</span><span class="token keyword">type</span> <span class="token class-name">TArr</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token keyword">let</span> arr2<span class="token operator">:</span> TArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">]</span></code></pre><p>类型别名和函数的应用在函数章节讲。</p><h3 id="2-特定使用场景"><a href="#2-特定使用场景" class="headerlink" title="2. 特定使用场景"></a>2. 特定使用场景</h3><p>大家可能觉得这个和接口没多大区别，这不是重复了吗？其实不是，类型别名可以针对接口没法覆盖的场景，例如组合类型、交叉类型等。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token comment">// 1. 组合类型</span><span class="token keyword">type</span> <span class="token class-name">NumAndString</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token comment">// 2. 交叉类型</span><span class="token keyword">type</span> <span class="token class-name">SectionType</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>  height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">interface</span> <span class="token class-name">PersonInfo</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 3. 提取接口属性类型</span><span class="token keyword">type</span> <span class="token class-name">PersonHeight</span> <span class="token operator">=</span> PersonInfo<span class="token punctuation">[</span><span class="token string">"height"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> height<span class="token operator">:</span> PersonHeight <span class="token operator">=</span> <span class="token number">1</span><span class="token comment">// 黑魔法</span><span class="token keyword">type</span> <span class="token class-name">BorderColor</span> <span class="token operator">=</span> <span class="token string">'black'</span> <span class="token operator">|</span> <span class="token string">'red'</span> <span class="token operator">|</span> <span class="token string">'green'</span> <span class="token operator">|</span> <span class="token string">'yellow'</span> <span class="token operator">|</span> <span class="token string">'blue'</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// vscode提示字面类型都被保留</span></code></pre><h3 id="3-Interface-与-Type-的区别"><a href="#3-Interface-与-Type-的区别" class="headerlink" title="3. Interface 与 Type 的区别"></a>3. Interface 与 Type 的区别</h3><p>实际上，在大多数的情况下使用接口类型和类型别名的效果等价，但是在某些特定的场景下这两者还是存在很大区别。</p><ol><li><strong>重复定义的接口类型，它的属性会叠加，这个特性使得我们可以极其方便地对全局变量、第三方库的类型做扩展</strong></li><li><strong>如果我们重复定义类型别名，那么就会报错</strong></li></ol><h2 id="八、函数类型"><a href="#八、函数类型" class="headerlink" title="八、函数类型"></a>八、函数类型</h2><p>函数是JS中的一等公民：函数可以赋值给变量，也可以作为函数参数，还可以作为函数返回值。我们有必要系统的学习ts中的函数类型。</p><h3 id="1-函数表达式"><a href="#1-函数表达式" class="headerlink" title="1. 函数表达式"></a>1. 函数表达式</h3><p>在 JavaScript 中，有两种常见的定义函数的方式——函数声明和函数表达式：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 函数声明</span><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 函数表达式</span><span class="token keyword">let</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>一个函数有输入和输出，要在 TypeScript 中对其进行约束，需要把输入和输出都考虑到。</p><p>我们先来看函数表达式的类型定义：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span></code></pre><p><strong>输入多余的或者少于要求的参数，是不被允许的</strong>：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 报错</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 报错</span></code></pre><p><strong>事实上，上面的代码只对等号右侧的匿名函数进行了类型定义，而等号左边的 <code>add</code>，是通过赋值操作进行类型推论而推断出来的。如果需要我们手动给 <code>add</code> 添加类型，则应该是这样：</strong></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span></code></pre><p><strong>不要混淆了 TypeScript 中的 <code>=&gt;</code> 和 ES6 中的 <code>=&gt;</code></strong></p><p><strong>在 TypeScript 的类型定义中，<code>=&gt;</code> 用来表示函数的定义，左边是输入类型，需要用括号括起来，右边是输出类型。</strong></p><p><strong>给函数添加类型可以保证以后对函数名赋值时保证参数个数、参数类型、返回值类型不变。</strong></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span></code></pre><h3 id="2-用接口定义函数的形状"><a href="#2-用接口定义函数的形状" class="headerlink" title="2. 用接口定义函数的形状"></a>2. 用接口定义函数的形状</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IAdd</span> <span class="token punctuation">{</span>  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token keyword">let</span> add<span class="token operator">:</span> <span class="token function-variable function">IAdd</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span></code></pre><h3 id="3-用类型别名定义函数的形状"><a href="#3-用类型别名定义函数的形状" class="headerlink" title="3. 用类型别名定义函数的形状"></a>3. 用类型别名定义函数的形状</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TAdd</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span><span class="token keyword">let</span> add<span class="token operator">:</span> <span class="token function-variable function">TAdd</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span></code></pre><h3 id="4-函数声明"><a href="#4-函数声明" class="headerlink" title="4. 函数声明"></a>4. 函数声明</h3><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 函数声明的类型定义</span><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span></code></pre><p>函数声明没有办法像函数表达式一样用类或者类型别名来定义函数的形状。</p><h3 id="5-函数参数类型"><a href="#5-函数参数类型" class="headerlink" title="5. 函数参数类型"></a>5. 函数参数类型</h3><p>参数一般有：可选参数、默认参数、剩余参数；</p><h4 id="5-1-可选参数"><a href="#5-1-可选参数" class="headerlink" title="5.1. 可选参数"></a>5.1. 可选参数</h4><p>与接口中的可选属性类似，我们用 <code>?</code> 表示可选的参数：</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">function</span> <span class="token function">fullName</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>lastName<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> firstName  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token string">'jojo'</span><span class="token punctuation">,</span> <span class="token string">'Cheng'</span><span class="token punctuation">)</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token string">'jojo'</span><span class="token punctuation">)</span></code></pre><p>需要注意的是，可选参数必须接在必需参数后面。换句话说，<strong>可选参数后面不允许再出现必需参数了</strong>：</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 报错</span><span class="token keyword">function</span> <span class="token function">fullName</span><span class="token punctuation">(</span>firstName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName<span class="token punctuation">}</span></code></pre><h4 id="5-2-默认参数"><a href="#5-2-默认参数" class="headerlink" title="5.2. 默认参数"></a>5.2. 默认参数</h4><p>在 ES6 中，我们允许给函数的参数添加默认值，<strong>TypeScript 会将添加了默认值的参数识别为可选参数</strong>：</p><p><strong>此时就不受「可选参数必须接在必需参数后面」的限制了：</strong></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">fullName</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'jojo'</span><span class="token punctuation">,</span> lastName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> lastName<span class="token punctuation">}</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'cheng'</span><span class="token punctuation">)</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre><h4 id="5-3-剩余参数"><a href="#5-3-剩余参数" class="headerlink" title="5.3. 剩余参数"></a>5.3. 剩余参数</h4><p>注意，rest 参数只能是最后一个参数</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span>nums<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> nums<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 3</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 6</span></code></pre><h3 id="6-this"><a href="#6-this" class="headerlink" title="6. this"></a>6. this</h3><p>函数中的this问题，一直都是javascript最令人头疼的问题，因为this的指向只有函数调用的时候才能确定。还有一些可以改变this指向的方法（apply，call，bind）。</p><p>但是在Typescript中，必须要明确的指定this的类型（严格模式下）。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">type</span> <span class="token class-name">objType</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token function-variable function">person</span><span class="token operator">:</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">,</span> myname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> Window <span class="token operator">|</span> objType <span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>myname <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myname<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>window<span class="token punctuation">.</span>person <span class="token operator">=</span> person<span class="token punctuation">;</span>window<span class="token punctuation">.</span><span class="token function">person</span><span class="token punctuation">(</span><span class="token string">'window name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj<span class="token operator">:</span>objType <span class="token operator">=</span> <span class="token punctuation">{</span>    person<span class="token punctuation">,</span>    myname<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">;</span>obj<span class="token punctuation">.</span><span class="token function">person</span><span class="token punctuation">(</span><span class="token string">'obj name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>单单是上面的代码是有问题的，我们还需要创建一个类型声明文件<strong>global.d.ts</strong>，为window对象上扩展两个属性person、myname；</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>  <span class="token function-variable function">person</span><span class="token operator">:</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  myname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>定义对象的函数属性时，只要实际调用中 this 的指向与指定的 this 指向不同，TypeScript 就能发现 this 指向的错误</strong></p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">ObjType2</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> ObjType2<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> obj2<span class="token operator">:</span>ObjType2 <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'obj2'</span><span class="token punctuation">,</span>    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> obj2<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span><span class="token keyword">let</span> t11 <span class="token operator">=</span> obj2<span class="token punctuation">.</span>say<span class="token punctuation">;</span><span class="token function">t11</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>注意：</strong></p><pre><code>   1. **显式声明函数的返回值类型为 undfined，则会出现错误提示，如果没有返回值，我们用void表示；**      2. **注意：显式注解函数中的 this 类型，它表面上占据了第一个形参的位置，但并不意味着函数真的多了一个参数，因为 TypeScript 转译为 JavaScript 后，“伪形参” this 会被抹掉，这算是 TypeScript 为数不多的特有语法。**</code></pre><h2 id="九、枚举"><a href="#九、枚举" class="headerlink" title="九、枚举"></a>九、枚举</h2><h3 id="1-数字枚举和字符串枚举"><a href="#1-数字枚举和字符串枚举" class="headerlink" title="1. 数字枚举和字符串枚举"></a>1. 数字枚举和字符串枚举</h3><p>枚举的作用在于定义被命名的常量集合，一个默认从 0 开始递增的数字集合，称之为数字枚举。也可以指定值，这里可以指定的值可以是数字或者字符串。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>    Sunday <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>    Monday<span class="token punctuation">,</span>    Tuesday<span class="token punctuation">,</span>    Wednesday<span class="token punctuation">,</span>    Thursday<span class="token punctuation">,</span>    Friday<span class="token punctuation">,</span>    Saturday<span class="token punctuation">}</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">.</span>Sunday<span class="token punctuation">)</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><h2 id="十、泛型"><a href="#十、泛型" class="headerlink" title="十、泛型"></a>十、泛型</h2><h3 id="1-什么是泛型？"><a href="#1-什么是泛型？" class="headerlink" title="1. 什么是泛型？"></a>1. 什么是泛型？</h3><p>泛型（Generics）是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性。</p><h3 id="2-泛型类型参数"><a href="#2-泛型类型参数" class="headerlink" title="2. 泛型类型参数"></a>2. 泛型类型参数</h3><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">function</span> <span class="token function">getValue</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> val<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">getValue1</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> val<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> g1<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> g2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token function">getValue1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getValue3</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> val<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> g3<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">getValue3</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> g4<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">getValue3</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="3-泛型类型"><a href="#3-泛型类型" class="headerlink" title="3. 泛型类型"></a>3. 泛型类型</h3><p>前面我们使用过Array&lt;类型&gt;来定义数组的类型，这里的Array也是一种类型。</p><p>在 TypeScript 中，类型本身就可以被定义为拥有不明确的类型参数的泛型，并且可以接收明确类型作为入参，从而衍生出更具体的类型。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token comment">// 定义数组类型</span><span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> arr1<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">""</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 类型别名</span><span class="token keyword">type</span> <span class="token class-name">typeFn<span class="token operator">&lt;</span><span class="token constant">P</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">P</span><span class="token punctuation">;</span><span class="token keyword">let</span> fntype<span class="token operator">:</span> typeFn<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> n<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> fn1<span class="token operator">:</span>typeFn<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment">// 定义接口类型</span><span class="token keyword">interface</span> <span class="token class-name">TypeItf<span class="token operator">&lt;</span><span class="token constant">P</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">;</span>  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">P</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> t1<span class="token operator">:</span> TypeItf<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> n<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> t2<span class="token operator">:</span> TypeItf<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> n<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="4-泛型约束"><a href="#4-泛型约束" class="headerlink" title="4. 泛型约束"></a>4. 泛型约束</h3><p>把泛型入参限定在一个相对更明确的集合内，以便对入参进行约束。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">TypeItf<span class="token operator">&lt;</span><span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">;</span>  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">P</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> t1<span class="token operator">:</span> TypeItf<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> n<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> t2<span class="token operator">:</span> TypeItf<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> n<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="十一、class（类）"><a href="#十一、class（类）" class="headerlink" title="十一、class（类）"></a>十一、class（类）</h2><p>面向对象实践 OOP 编程思想，在实际工作中，都是极其有用的抽象、封装利器。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">say</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> Person<span class="token punctuation">,</span> song<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> Person <span class="token punctuation">{</span>      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>song<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">'Song'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span></code></pre><h3 id="1-继承"><a href="#1-继承" class="headerlink" title="1. 继承"></a>1. 继承</h3><p>使用extends关键字实现继承</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">class</span> <span class="token class-name">Male</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="2-修饰符（public、private、protected、readonly）"><a href="#2-修饰符（public、private、protected、readonly）" class="headerlink" title="2. 修饰符（public、private、protected、readonly）"></a>2. 修饰符（public、private、protected、readonly）</h3><p>在 TypeScript 中就支持 3 种访问修饰符，分别是 public、private、protected。通过这三个修饰符做到控制属性和方法的访问。</p><ul><li>public：基类、子类、类外部都可以访问；</li><li>protected：基类、子类可以访问，类外部不可以访问；</li><li>private：基类可以访问，子类、类外部不可以访问；</li><li>readonly：只读修饰符</li></ul><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'张三'</span><span class="token punctuation">;</span>    <span class="token keyword">protected</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> height<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'180'</span><span class="token punctuation">;</span>    <span class="token keyword">protected</span> <span class="token function">getPersonInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 基类里面三个修饰符都可以访问</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Male</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 子类只能访问public、protected修饰符的</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Male</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 类外部只能访问public修饰的</span>m<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'李四'</span><span class="token punctuation">;</span> <span class="token comment">// name属性使用只读修饰符，所以不能对name进行赋值修改操作</span></code></pre><h3 id="3-静态属性"><a href="#3-静态属性" class="headerlink" title="3. 静态属性"></a>3. 静态属性</h3><p>基于静态属性的特性，往往会把与类相关的常量、不依赖实例 this 上下文的属性和方法定义为静态属性，从而避免数据冗余，进而提升运行性能。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  <span class="token keyword">static</span> title<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"个人信息"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Person<span class="token punctuation">.</span>title<span class="token punctuation">;</span></code></pre><h3 id="4-抽象类和接口"><a href="#4-抽象类和接口" class="headerlink" title="4. 抽象类和接口"></a>4. 抽象类和接口</h3><p>抽象类，它是一种不能被实例化仅能被子类继承的特殊类。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  <span class="token keyword">abstract</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token keyword">abstract</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token function">extendsFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'扩展方法'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Male</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>接口interface也可以约束类的实现，使用接口与使用抽象类相比，区别在于接口<strong>只能定义类成员的类型</strong>。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Male</span> <span class="token keyword">implements</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="5-类的类型"><a href="#5-类的类型" class="headerlink" title="5. 类的类型"></a>5. 类的类型</h3><p>在声明类的时候，其实也同时声明了一个特殊的类型（确切地讲是一个接口类型），这个类型的名字就是类名，表示类实例的类型。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">class</span> <span class="token class-name">Male</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> Male<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> m1<span class="token operator">:</span> Male <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Male</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> m2<span class="token operator">:</span> Male <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> Male<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>m2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> fn <span class="token operator">=</span> m2<span class="token punctuation">.</span>getName<span class="token punctuation">;</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错，this指向并不是Male对象</span></code></pre><h2 id="十二、工具类型"><a href="#十二、工具类型" class="headerlink" title="十二、工具类型"></a>十二、工具类型</h2><p>打造自己的工具类型，这个时候需要用到一些物料</p><h3 id="1-extends"><a href="#1-extends" class="headerlink" title="1. extends"></a>1. extends</h3><p>extends关键字判断泛型参数P是否是string或者是number其中的一种，最终类型的确定由三元运算的结果决定。</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">type</span> <span class="token class-name">TypeFn<span class="token operator">&lt;</span><span class="token constant">P</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">string</span></span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">?</span> <span class="token constant">P</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">;</span><span class="token keyword">let</span> m<span class="token operator">:</span> TypeFn<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> m1<span class="token operator">:</span> TypeFn<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> m2<span class="token operator">:</span> TypeFn<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code></pre><h3 id="2-类型推断-infer"><a href="#2-类型推断-infer" class="headerlink" title="2. 类型推断  infer"></a>2. 类型推断  infer</h3><p>类型推断infer，相当于声明一个变量接收传入的类型</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">type</span> <span class="token class-name">ObjType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">N</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">A</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token constant">N</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> p<span class="token operator">:</span> ObjType<span class="token operator">&lt;</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> p1<span class="token operator">:</span> ObjType<span class="token operator">&lt;</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h3 id="3-keyof"><a href="#3-keyof" class="headerlink" title="3. keyof"></a>3. keyof</h3><p>Keyof提取 对象属性名、索引名、索引签名的类型；</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">NumAndStr</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token comment">// 如果key是string，下面也会有number，TS帮我们进行了一个兼容处理</span><span class="token punctuation">}</span><span class="token keyword">type</span> <span class="token class-name">TypeKey</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> NumAndStr<span class="token punctuation">;</span> <span class="token comment">// number | 'name' | 'age'</span><span class="token keyword">let</span> t<span class="token operator">:</span>TypeKey <span class="token operator">=</span> <span class="token string">'name'</span><span class="token punctuation">;</span></code></pre><h3 id="4-in"><a href="#4-in" class="headerlink" title="4. in"></a>4. in</h3><p>in是映射类型</p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">type</span> <span class="token class-name">NumAndStr</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token keyword">type</span> <span class="token class-name">TargetType</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token punctuation">[</span>key <span class="token keyword">in</span> NumAndStr<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj<span class="token operator">:</span> TargetType <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'123'</span><span class="token punctuation">,</span>    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span></code></pre><p><strong>注意：</strong></p><ol><li><strong>我们只能在类型别名定义中使用 in，如果在接口(interface)中使用，则会提示一个错误</strong></li><li><strong>in 和 keyof 也只能在类型别名定义中组合使用</strong></li></ol><h3 id="5-typeof"><a href="#5-typeof" class="headerlink" title="5. typeof"></a>5. typeof</h3><p>typeof 的主要用途是：在类型上下文中获取<strong>变量或者属性</strong>的<strong>类型</strong></p><pre class="language-tsx" data-language="tsx"><code class="language-tsx"><span class="token comment">// 推断变量的类型</span><span class="token keyword">let</span> strA <span class="token operator">=</span> <span class="token string">"2"</span><span class="token punctuation">;</span><span class="token keyword">type</span> <span class="token class-name">KeyOfType</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> strA<span class="token punctuation">;</span> <span class="token comment">// string</span><span class="token comment">// 反推出对象的类型作为新的类型</span><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>    <span class="token function">getName</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> person<span class="token punctuation">;</span></code></pre><hr><h1 id="协变"><a href="#协变" class="headerlink" title="协变"></a>协变</h1><ul><li><blockquote><p>父类型：广；子类型：具体（解决办法：）</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token literal-property property">a</span><span class="token operator">:</span>number<span class="token punctuation">;</span>           <span class="token comment">// 子类型</span><span class="token keyword">let</span> <span class="token literal-property property">b</span><span class="token operator">:</span>number <span class="token operator">|</span> string<span class="token punctuation">;</span>  <span class="token comment">// 父类型</span>a <span class="token operator">=</span> b<span class="token punctuation">;</span><span class="token comment">// 父类型给子类型 不可以</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span>  <span class="token comment">//  子类型给父类型 会协变  可以</span></code></pre></li><li><blockquote><p>兄弟类型 ，类型不同也不可以</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token literal-property property">a</span><span class="token operator">:</span>number <span class="token operator">|</span> boolean<span class="token punctuation">;</span> <span class="token keyword">let</span> <span class="token literal-property property">b</span><span class="token operator">:</span>number <span class="token operator">|</span> string<span class="token punctuation">;</span>  a <span class="token operator">=</span> b<span class="token punctuation">;</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span>  </code></pre></li><li><blockquote><p>父： 广； 子： 具体(协变)</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 父类型</span><span class="token keyword">let</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span> age<span class="token operator">:</span> number <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 子类型</span>a <span class="token operator">=</span> b<span class="token punctuation">;</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">// 父类型给子类型 不可以</span></code></pre></li><li><blockquote><p>逆变 <strong>函数参数</strong>   父可以赋值给子</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token keyword">typeof</span> a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">// 父类型</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token keyword">typeof</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">// 子类型</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>fn <span class="token operator">=</span> fn1<span class="token punctuation">;</span><span class="token comment">//  子类型给父类型 不可以</span>fn1 <span class="token operator">=</span> fn<span class="token punctuation">;</span> <span class="token comment">// 父类型给子类型 可以</span></code></pre></li><li><p><code>变量!</code>排除null，undefined的情况</p></li><li><p>出现类型错误，观察前面的同名变量类型是否一样，不一样可以鼠标悬浮在同名变量上复制上面的类型给出错的那部分</p></li><li><p>Partial 工具类型，为每一个属性都添加一个问号</p></li><li><p><strong>拿到的类型必须是什么什么什么什么什么什么类型</strong></p></li><li><p>如果是直接将对象或者数组覆盖的，用ref</p></li><li><p>type类型别名用<code>extend</code>是约束，interface接口用<code>extend</code>是继承</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axios</title>
      <link href="/2022/08/30/axios/"/>
      <url>/2022/08/30/axios/</url>
      
        <content type="html"><![CDATA[<h1 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h1><p><a href="http://www.axios-js.com/zh-cn/docs/">axios官网</a></p><p><strong>注意：</strong>请求时看清请求方式，是<code>body</code>（参数data）还是<code>query</code>（参数params），有时post参数也有可能是<code>query</code></p><p><strong>POST：</strong></p><ul><li><p>参数在url上面（query）</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">//注：参数名称必须为params</span><span class="token keyword">this</span><span class="token punctuation">.</span>$axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/quality/siteAssessmentVer/save'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>params<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">updateAdminRole</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/admin/role/update"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">params</span><span class="token operator">:</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>参数在请求体 body 上面（body）</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">adminLogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/admin/login"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><p><strong>GET：</strong></p><ul><li><p>url 传参有<code>? 和 &amp;</code>（query）</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getAdminList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/admin/list"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>url 传参直接<code>/</code>参数（多见于模板字符串） (path)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getAdminRole</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/admin/role/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></code></pre></li></ul><hr><p>请求头的 <strong>Content-Type</strong> 默认为<code>application/json</code></p><p> Form Data 中的 <strong>Content-Type</strong> 为 <code>application/x-www-form-urlencoded</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> qs <span class="token keyword">from</span> <span class="token string">"qs"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">updateAdminRole1</span> <span class="token operator">=</span> <span class="token punctuation">(</span>    <span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>        <span class="token string">"/admin/role/update"</span><span class="token punctuation">,</span>        qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">arrayFormat</span><span class="token operator">:</span> <span class="token string">"repeat"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="async-amp-await"><a href="#async-amp-await" class="headerlink" title="async &amp; await"></a>async &amp; await</h3><p><strong>request.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 解决统一 axios 域名的问题</span><span class="token comment">// 导入 axios</span><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">"@/store"</span><span class="token punctuation">;</span><span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token comment">// baseURL: "http://192.168.113.249:8081/cms",</span>    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">"/api"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 添加请求拦截器</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 在发送请求之前做些什么</span>    <span class="token comment">// console.log("请求之前....(后面在这里携带token)");</span>    <span class="token keyword">const</span> token <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"x-auth-token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 判断是否存在token，如果存在的话，则每个请求的请求头上都加上token</span>        config<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">"x-auth-token"</span><span class="token punctuation">]</span> <span class="token operator">=</span> token<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> config<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 对请求错误做些什么</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 添加响应拦截器</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 对响应数据做点什么</span>    <span class="token comment">// console.log("响应之前执行....", response);</span>    <span class="token comment">// 统一提示错误信息</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">!=</span> <span class="token number">400</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">!=</span> <span class="token number">407</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// alert(response.data.message);</span>        <span class="token comment">// 在js里面调用提示框</span>        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">"showToast/asyncIsShowToast"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>            <span class="token literal-property property">isShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token literal-property property">title</span><span class="token operator">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"danger"</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// 返回 undefined</span>    <span class="token punctuation">}</span>    <span class="token comment">// 一般可以在这里进行数据的二次处理</span>    <span class="token keyword">return</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>   <span class="token comment">//数据大多数都在data中，直接返回data，可以方便组件获取数据</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 对响应错误做点什么</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 导出 instance 是个对象</span><span class="token keyword">export</span> <span class="token keyword">default</span> instance<span class="token punctuation">;</span></code></pre><p><strong>api.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 解决统一管理接口的问题</span><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">"@/request/request"</span><span class="token punctuation">;</span><span class="token keyword">import</span> qs <span class="token keyword">from</span> <span class="token string">"qs"</span><span class="token punctuation">;</span><span class="token comment">// 请求精品推荐数据 【防止请求多次,用方法，调用了才执行】导出的JingPinAPI是变量</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">JingPinAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/products/recommend"</span><span class="token punctuation">)</span><span class="token comment">// 请求热门数据</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">HotAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/products/hot"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 发送短信验证码请求 {phone:134.....}</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">SendSMSAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>    request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/sendSMS"</span><span class="token punctuation">,</span> qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 手机号验证码登录</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">PhoneReginAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>    request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/phoneRegin"</span><span class="token punctuation">,</span> qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 微信扫码登录</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">WeixinLoginAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>    request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/wechatUsers/PCLogin"</span><span class="token punctuation">,</span> qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//微信绑定手机号</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">BindingAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>    request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/wechatUsers/binding"</span><span class="token punctuation">,</span> qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取用户信息</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">UserProfilesAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/shop/userProfiles"</span><span class="token punctuation">)</span><span class="token comment">//获取商品详情</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">GoodsDetailsAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/products/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//加入购物车</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">CartAddAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>    request<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/shop/carts/add"</span><span class="token punctuation">,</span> qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取所有产品信息 axios.get(url，{params:参数对象})   {did:0,type:0...}</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">ProductsAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/products"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// params:params</span><span class="token comment">//查询购物车</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">CartsAPI</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/shop/carts"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>发请求：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">async</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 请求精品数据 和 热门数据</span>    <span class="token keyword">let</span> res1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">JingPinAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> res2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">HotAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// console.log("res1和res2", res1, res2);</span>    <span class="token comment">//默认显示4条数据</span>   <span class="token comment">// res1 和 res2 是响应回来的数据</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h3 id="调用后接口后执行回调"><a href="#调用后接口后执行回调" class="headerlink" title="调用后接口后执行回调"></a>调用后接口后执行回调</h3><p><strong>request.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// request.js</span><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"axios"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    url <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span>    method <span class="token operator">=</span> <span class="token string">"get"</span><span class="token punctuation">,</span>    data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 无论是get还是post请求，自定义的request函数里都是把参数放在data字段里，不用再去区分是放在params还是放在data里</span>    okFn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 成功回调</span>    failFn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 失败回调</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token comment">// `url` 是用于请求的服务器 URL</span>        url<span class="token punctuation">,</span>        <span class="token comment">// `method` 是创建请求时使用的方法</span>        method<span class="token punctuation">,</span>        <span class="token comment">// `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL</span>        <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">"http://120.24.64.5:8088/mall-admin/"</span><span class="token punctuation">,</span>        <span class="token comment">// 自定义请求头</span>        <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">Authorization</span><span class="token operator">:</span>            localStorage<span class="token punctuation">.</span>tokenHead <span class="token operator">&amp;&amp;</span> localStorage<span class="token punctuation">.</span>token            <span class="token operator">?</span> localStorage<span class="token punctuation">.</span>tokenHead <span class="token operator">+</span> localStorage<span class="token punctuation">.</span>token            <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment">// `params` 是与请求一起发送的 URL 参数</span>        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"post"</span><span class="token punctuation">,</span> <span class="token string">"delete"</span><span class="token punctuation">,</span> <span class="token string">"patch"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token operator">?</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>        <span class="token operator">:</span> data<span class="token punctuation">,</span>        <span class="token comment">// 仅适用 'PUT', 'POST', 'DELETE 和 'PATCH' 请求方法</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"post"</span><span class="token punctuation">,</span> <span class="token string">"delete"</span><span class="token punctuation">,</span> <span class="token string">"patch"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token operator">?</span> data        <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log(res)</span>        <span class="token keyword">let</span> <span class="token punctuation">{</span> code<span class="token punctuation">,</span> message<span class="token punctuation">,</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> okFn <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">okFn</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// token失效 被动退出登录</span>            localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清空所有缓存</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"login"</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> failFn <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">failFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log(err)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> failFn <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">failFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">default</span> request<span class="token punctuation">;</span></code></pre><p><strong>main.js 入口函数(可选)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 引进request，挂载到Vue的原型上</span><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">"./util/request"</span><span class="token punctuation">;</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$request <span class="token operator">=</span> request<span class="token punctuation">;</span></code></pre><p><strong>调用请求</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"admin/login"</span><span class="token punctuation">,</span>    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">"post"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ruleForm<span class="token punctuation">.</span>password<span class="token punctuation">,</span>        <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ruleForm<span class="token punctuation">.</span>name<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">okFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="uni-app小程序写过的一个封装请求"><a href="#uni-app小程序写过的一个封装请求" class="headerlink" title="uni-app小程序写过的一个封装请求"></a>uni-app小程序写过的一个封装请求</h3><p><strong>request.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">// 默认值</span>url <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>successCb <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>failCb <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// console.log(keyword);</span><span class="token comment">// 发送请求和参数</span>uni<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://kumanxuan1.f3322.net:8001/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>method<span class="token punctuation">,</span><span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">'X-Nideshop-Token'</span><span class="token operator">:</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 请求体</span>data<span class="token punctuation">,</span><span class="token comment">// 超时时间</span><span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">60000</span><span class="token punctuation">,</span><span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">// 请求成功</span><span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>errno <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 处理请求成功的逻辑</span><span class="token keyword">if</span> <span class="token punctuation">(</span>successCb <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> successCb <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 执行成功回调，把实参传入</span><span class="token function">successCb</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 接口能发送成功但是响应错误</span><span class="token keyword">if</span> <span class="token punctuation">(</span>failCb <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> failCb <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">failCb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 提示框</span>uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'接口报错了'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span>failCb <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> failCb <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">failCb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'接口发送失败'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">default</span> request</code></pre><p><strong>api.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">API_INDEX</span> <span class="token operator">=</span> <span class="token string">'index/index'</span> <span class="token comment">// 首页接口</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">API_AUTH_LOGINBYWEB</span> <span class="token operator">=</span> <span class="token string">'auth/loginByWeb'</span> <span class="token comment">// 登录接口</span><span class="token keyword">export</span> <span class="token keyword">const</span> API_Search <span class="token operator">=</span> <span class="token string">'search/index'</span> <span class="token comment">// 搜索接口</span><span class="token keyword">export</span> <span class="token keyword">const</span> API_Goods <span class="token operator">=</span> <span class="token string">'goods/list'</span> <span class="token comment">// 商品列表接口</span><span class="token keyword">export</span> <span class="token keyword">const</span> API_Helper <span class="token operator">=</span> <span class="token string">'search/helper'</span> <span class="token comment">// 搜索商品帮助接口</span><span class="token comment">// export const API_Category = 'goods/category' // 商品分类接口</span><span class="token keyword">export</span> <span class="token keyword">const</span> API_Clearhistory <span class="token operator">=</span> <span class="token string">'search/clearhistory'</span> <span class="token comment">// 清除历史记录接口</span><span class="token keyword">export</span> <span class="token keyword">const</span> API_Topic <span class="token operator">=</span> <span class="token string">'topic/list'</span> <span class="token comment">// 请求专题接口</span><span class="token keyword">export</span> <span class="token keyword">const</span> API_Cart <span class="token operator">=</span> <span class="token string">'cart/index'</span> <span class="token comment">// 请求购物车接口</span><span class="token keyword">export</span> <span class="token keyword">const</span> API_Checked <span class="token operator">=</span> <span class="token string">'cart/checked'</span> <span class="token comment">// 请求勾选购物车接口</span><span class="token comment">// export {</span><span class="token comment">// API_INDEX,</span><span class="token comment">// API_AUTH_LOGINBYWEB</span><span class="token comment">// }</span></code></pre><p><strong>请求</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/util/request.js'</span><span class="token keyword">import</span> <span class="token punctuation">{</span>    <span class="token constant">API_INDEX</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/util/api.js'</span><span class="token comment">// 请求首页</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token constant">API_INDEX</span><span class="token punctuation">,</span>    <span class="token comment">// 处理请求成功和请求失败的逻辑</span>    <span class="token function-variable function">successCb</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="微信小程序请求二次封装"><a href="#微信小程序请求二次封装" class="headerlink" title="微信小程序请求二次封装"></a>微信小程序请求二次封装</h3><p><strong>request.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> baseUrl <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 封装网络请求的代码</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 微信小程序的提示框</span>        wx<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'加载中...'</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>        wx<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">url</span><span class="token operator">:</span> baseUrl <span class="token operator">+</span> url<span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> params<span class="token punctuation">.</span>data <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">header</span><span class="token operator">:</span> params<span class="token punctuation">.</span>header <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">method</span><span class="token operator">:</span> params<span class="token punctuation">.</span>method <span class="token operator">||</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>            <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 成功后隐藏提示框</span>                wx<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>errno <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                        <span class="token literal-property property">title</span><span class="token operator">:</span> err <span class="token operator">||</span> <span class="token string">'数据请求失败'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span>                        <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span>                    <span class="token punctuation">}</span><span class="token punctuation">)</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                wx<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                    <span class="token literal-property property">title</span><span class="token operator">:</span> err <span class="token operator">||</span> <span class="token string">'请求错误!'</span><span class="token punctuation">,</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span>                <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 其他可以导入之后，直接请求 request("url",{header:...}).then(res=&gt;{})</span></code></pre><p><strong>api.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">"./request"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">name2</span> <span class="token operator">=</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 其他页面导入 name 后使用 name().then(res=&gt;{})   /  name({}).then(res=&gt;{})</span><span class="token comment">// 或者用 async await,      let res = await name(); / let res = await name({});</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> axios </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二次封装第三方组件</title>
      <link href="/2022/08/30/er-ci-feng-zhuang-di-san-fang-zu-jian/"/>
      <url>/2022/08/30/er-ci-feng-zhuang-di-san-fang-zu-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="二次封装第三方组件"><a href="#二次封装第三方组件" class="headerlink" title="二次封装第三方组件"></a>二次封装第三方组件</h1><h3 id="v-bind-x3D-”-attrs”"><a href="#v-bind-x3D-”-attrs”" class="headerlink" title="v-bind=”$attrs”"></a>v-bind=”$attrs”</h3><h5 id="非-props-属性"><a href="#非-props-属性" class="headerlink" title="非 props 属性"></a>非 props 属性</h5><p>父组件如果要传入非 props 属性。给子组件，子组件可以使用<code>v-bind="$attrs"</code>来接收。(可以用来接收第三方上的非 props 属性)</p><h5 id="props-属性"><a href="#props-属性" class="headerlink" title="props 属性"></a>props 属性</h5><p>如果是传入 props 属性，子组件就一定要在 props 上组成</p><p><strong>用户自己决定的可以写成一个 props</strong></p><p>方便管理和维护的放到 组件的 data里面去</p><p><strong>自定义的按钮组件：</strong></p><p><strong>父组件：</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 非props属性 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-button</span>           <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span>           <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mini<span class="token punctuation">"</span></span>           <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>确定<span class="token punctuation">"</span></span>           <span class="token attr-name">:auto-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>           <span class="token attr-name">:auto-confirm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>           <span class="token attr-name">hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>是否删除<span class="token punctuation">"</span></span>           <span class="token attr-name">@onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span>           <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"拿到数据了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>子组件：</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 通过v-bind="$attrs"接收第三方组件上的、MyButton的非props属性 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$attrs<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{        text        }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>                <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">"按钮"</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token comment">// 要不要在点击后自动loading，也就是说在点击之后要不要自动把loading改为true</span>            <span class="token literal-property property">autoLoading</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>                <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">autoConfirm</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>                <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">hint</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>                <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">{</span>                <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 按钮loading状态</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 需不需要自动loading</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>autoLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token comment">// 需不需要自动confirm</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>autoConfirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$confirm</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hint<span class="token punctuation">,</span> <span class="token string">"提示"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                            <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">"确定"</span><span class="token punctuation">,</span>                            <span class="token literal-property property">cancelButtonText</span><span class="token operator">:</span> <span class="token string">"取消"</span><span class="token punctuation">,</span>                            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span>                        <span class="token punctuation">}</span><span class="token punctuation">)</span>                            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"onClick"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                                <span class="token comment">// this指向的是当前组件</span>                                <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span><span class="token punctuation">)</span>                            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"onClick"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                            <span class="token comment">// this指向的是当前组件</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token comment">//  不需要loading</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>autoConfirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$confirm</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hint<span class="token punctuation">,</span> <span class="token string">"提示"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                            <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">"确定"</span><span class="token punctuation">,</span>                            <span class="token literal-property property">cancelButtonText</span><span class="token operator">:</span> <span class="token string">"取消"</span><span class="token punctuation">,</span>                            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span>                        <span class="token punctuation">}</span><span class="token punctuation">)</span>                            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"onClick"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span><span class="token punctuation">)</span>                            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"onClick"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><img src="/2022/08/30/er-ci-feng-zhuang-di-san-fang-zu-jian/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%89%E9%92%AE%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.png" alt="自定义按钮思维导图"></p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>逻辑</title>
      <link href="/2022/08/17/luo-ji/"/>
      <url>/2022/08/17/luo-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="布局逻辑"><a href="#布局逻辑" class="headerlink" title="布局逻辑"></a>布局逻辑</h1><ol><li>结构相似，写成组件，传参进去；</li><li>flex：同行，一给固定宽度，另一个<code>flex:1</code>占满</li><li>尽量用<code>flex</code>（特别是小程序）</li><li>一块区域的背景，可以用<code>position:fixed</code>的盒子装背景<code>url</code></li><li><code>position</code>和<code>flex</code>互不影响</li><li>第三方组件外部尽量套层盒子进行布局</li><li>块级盒子宽度自动占满<strong>页面宽度</strong></li><li>利用<code>%</code>号的时候，看父级盒子是否有宽高，<code>%</code>是继承谁的宽高</li><li><strong>flex 布局：</strong>给100%需要注意父级元素</li></ol><h4 id="业务逻辑"><a href="#业务逻辑" class="headerlink" title="业务逻辑"></a>业务逻辑</h4><ol><li><p>每个功能模块，尽量互不影响</p></li><li><p>布局→样式→(渲染)→逻辑</p></li><li><p>是否可以利用后台数据进行逻辑判断</p></li><li><p>基本功能完成，多点击操作页面，排查bug</p></li><li><p>控制盒子的显示隐藏：变量，或者放回的数据是否存在，<code>&amp;&amp;</code>且，<code>||</code>或，读出逻辑</p></li><li><p><strong>面包屑：</strong></p><blockquote><p>1.路由跳转，面包屑变化，</p><p>2.监听路由，利用路由元信息(mate)，根据渲染面包屑模板</p></blockquote></li><li><p><strong>路由拦截(某些页面不可登录)：</strong></p><blockquote><p>全局路由守卫(判断token)</p></blockquote></li><li><p><strong>页面的其他操作需要发同一个请求的，可以将请求封装起来，需要就调用</strong></p></li><li><p><strong>组件重载：</strong>需要重新加载某个固定组件，利用**:key值**</p></li><li></li><li></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> 逻辑 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniapp项目</title>
      <link href="/2022/08/17/uniapp-xiang-mu/"/>
      <url>/2022/08/17/uniapp-xiang-mu/</url>
      
        <content type="html"><![CDATA[<h1 id="uniapp项目"><a href="#uniapp项目" class="headerlink" title="uniapp项目"></a>uniapp项目</h1><p>实战项目效果参考地址：<a href="http://www.52coding.cc/net163/home">http://www.52coding.cc/net163/home</a></p><p>实战项目接口文档地址：<a href="http://xiaoyaoji.cn/project/1Ve70KqViGf/1Ve77eMgO9Y">http://xiaoyaoji.cn/project/1Ve70KqViGf/1Ve77eMgO9Y</a></p><h2 id="一-uView"><a href="#一-uView" class="headerlink" title="一. uView"></a>一. uView</h2><p>官网：<a href="https://v1.uviewui.com/">https://v1.uviewui.com/</a></p><p>uView是uni-app生态专用的UI框架，uni-app 是一个使用 Vue.js 开发所有前端应用的框架，开发者编写一套代码， 可发布到iOS、Android、H5、以及各种小程序(微信/支付宝/百度/头条/QQ/钉钉)等多个平台</p><h2 id="二-安装uView"><a href="#二-安装uView" class="headerlink" title="二. 安装uView"></a>二. 安装uView</h2><p><a href="https://v1.uviewui.com/components/install.html">https://v1.uviewui.com/components/install.html</a></p><p>版本号1.8.6</p><h2 id="三-相关配置"><a href="#三-相关配置" class="headerlink" title="三. 相关配置"></a>三. 相关配置</h2><p><a href="https://v1.uviewui.com/components/setting.html">https://v1.uviewui.com/components/setting.html</a></p><h2 id="四-项目tabBar配置"><a href="#四-项目tabBar配置" class="headerlink" title="四. 项目tabBar配置"></a>四. 项目tabBar配置</h2><pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// pages.json</span><span class="token punctuation">{</span>  <span class="token property">"easycom"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"^u-(.*)"</span><span class="token operator">:</span> <span class="token string">"uview-ui/components/u-$1/u-$1.vue"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"pages"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">//pages数组中第一项表示应用启动页，参考：https://uniapp.dcloud.io/collocation/pages</span>    <span class="token punctuation">{</span>      <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/index/index"</span><span class="token punctuation">,</span>      <span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>        <span class="token property">"enablePullDownRefresh"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许下拉刷新</span>        <span class="token property">"app-plus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token property">"titleNView"</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 导航栏配置</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>      <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/topic/topic"</span><span class="token punctuation">,</span>      <span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"专题"</span><span class="token punctuation">,</span>        <span class="token property">"enablePullDownRefresh"</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>      <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/category/category"</span><span class="token punctuation">,</span>      <span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"分类"</span><span class="token punctuation">,</span>        <span class="token property">"enablePullDownRefresh"</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>      <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/cart/cart"</span><span class="token punctuation">,</span>      <span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"购物车"</span><span class="token punctuation">,</span>        <span class="token property">"enablePullDownRefresh"</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>      <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"pages/user/user"</span><span class="token punctuation">,</span>      <span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"我的"</span><span class="token punctuation">,</span>        <span class="token property">"enablePullDownRefresh"</span><span class="token operator">:</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"globalStyle"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"navigationBarTextStyle"</span><span class="token operator">:</span> <span class="token string">"black"</span><span class="token punctuation">,</span>    <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"uni-app"</span><span class="token punctuation">,</span>    <span class="token property">"navigationBarBackgroundColor"</span><span class="token operator">:</span> <span class="token string">"#F8F8F8"</span><span class="token punctuation">,</span>    <span class="token property">"backgroundColor"</span><span class="token operator">:</span> <span class="token string">"#F8F8F8"</span><span class="token punctuation">,</span>    <span class="token property">"app-plus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token property">"titleNView"</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 全局导航栏配置</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"uniIdRouter"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"tabBar"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        <span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/index/index"</span><span class="token punctuation">,</span>        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>        <span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"./static/home.png"</span><span class="token punctuation">,</span>        <span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"./static/home2.png"</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/topic/topic"</span><span class="token punctuation">,</span>        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"专题"</span><span class="token punctuation">,</span>        <span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"./static/topic.png"</span><span class="token punctuation">,</span>        <span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"./static/topic2.png"</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/category/category"</span><span class="token punctuation">,</span>        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"分类"</span><span class="token punctuation">,</span>        <span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"./static/category.png"</span><span class="token punctuation">,</span>        <span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"./static/category2.png"</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/cart/cart"</span><span class="token punctuation">,</span>        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"购物车"</span><span class="token punctuation">,</span>        <span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"./static/cart.png"</span><span class="token punctuation">,</span>        <span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"./static/cart2.png"</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/user/user"</span><span class="token punctuation">,</span>        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"我的"</span><span class="token punctuation">,</span>        <span class="token property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"./static/user.png"</span><span class="token punctuation">,</span>        <span class="token property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"./static/user2.png"</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token property">"color"</span><span class="token operator">:</span> <span class="token string">"#000"</span><span class="token punctuation">,</span>    <span class="token property">"selectedColor"</span><span class="token operator">:</span> <span class="token string">"#9b0000"</span><span class="token punctuation">,</span>    <span class="token property">"fontSize"</span><span class="token operator">:</span> <span class="token string">"26rpx"</span> <span class="token comment">// 仅h5和app生效</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="五-网络请求"><a href="#五-网络请求" class="headerlink" title="五. 网络请求"></a>五. 网络请求</h2><p>uni-app使用<code>uni.request</code>来发送网络请求：</p><pre class="language-js" data-language="js"><code class="language-js">uni<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://kumanxuan1.f3322.net:8001/index/index'</span><span class="token punctuation">,</span>  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>封装请求：</p><p>在根目录新建request文件夹，用来存放和请求相关的文件。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  url <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span>  data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  timeout <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">,</span>  method <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>  dataType <span class="token operator">=</span> <span class="token string">"json"</span><span class="token punctuation">,</span>  successCb <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  failCb <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> _url <span class="token operator">=</span> url  <span class="token keyword">if</span> <span class="token punctuation">(</span>_url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    _url <span class="token operator">=</span> _url<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span>  uni<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://kumanxuan1.f3322.net:8001/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>_url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// 路径</span>    data<span class="token punctuation">,</span> <span class="token comment">// 请求的参数</span>    <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token comment">// "content-type"用于定义网络文件的类型和网页的编码，决定浏览器将以什么形式、什么编码读取这个文件</span>      <span class="token string-property property">"content-type"</span><span class="token operator">:</span> <span class="token string">"application/json"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    timeout<span class="token punctuation">,</span> <span class="token comment">// 请求超时时间</span>    method<span class="token punctuation">,</span> <span class="token comment">// HTTP 请求方法</span>    dataType<span class="token punctuation">,</span> <span class="token comment">// 返回的数据格式</span>    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token comment">// 请求成功回调函数</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> <span class="token punctuation">{</span>        data<span class="token punctuation">,</span>        errmsg<span class="token punctuation">,</span>        errno      <span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> errno <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        successCb <span class="token operator">&amp;&amp;</span> <span class="token function">successCb</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          <span class="token literal-property property">title</span><span class="token operator">:</span> errmsg <span class="token operator">||</span> <span class="token string">"错误！"</span><span class="token punctuation">,</span>          <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>          <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        failCb <span class="token operator">&amp;&amp;</span> <span class="token function">failCb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token comment">// 请求失败回调函数</span>      uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">title</span><span class="token operator">:</span> err<span class="token punctuation">.</span>errMsg <span class="token operator">||</span> <span class="token string">"错误！"</span><span class="token punctuation">,</span>        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>        <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      failCb <span class="token operator">&amp;&amp;</span> <span class="token function">failCb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">default</span> request<span class="token punctuation">;</span></code></pre><p>在request文件夹下新建api.js存放每个接口地址，这样做的好处是如果后端改接口名，而我们项目中有多处调用到改名的接口，那么我们只需要更改这份文件即可：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> apiIndex <span class="token operator">=</span> <span class="token string">"index/index"</span><span class="token punctuation">;</span> <span class="token comment">// 首页接口</span><span class="token keyword">export</span> <span class="token punctuation">{</span> apiIndex <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>首页调用接口：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;!-- pages/index/index.vue --&gt;&lt;script&gt;import request from "../../request/request.js";import { apiIndex } from "../../request/api.js";export default {  created() {    request({      url: apiIndex,      successCb: (res) =&gt; {        console.log(res)      },    });  },};&lt;/script&gt;</code></pre><h2 id="六-注册登录流程"><a href="#六-注册登录流程" class="headerlink" title="六.  注册登录流程"></a>六.  注册登录流程</h2><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span><span class="token operator">&lt;</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"user-container"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>image width<span class="token operator">=</span><span class="token string">"140rpx"</span> height<span class="token operator">=</span><span class="token string">"140rpx"</span> shape<span class="token operator">=</span><span class="token string">"circle"</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">"avatar"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>image<span class="token operator">&gt;</span><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"login-trigger"</span> @click<span class="token operator">=</span><span class="token string">"showLoginPopup"</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>name <span class="token operator">||</span> <span class="token string">'点击登录'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>icon <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"(avatar &amp;&amp; name) ? 'close' : 'arrow-right'"</span> @click<span class="token operator">=</span><span class="token string">"onClickIcon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>icon<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 登录弹窗 <span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>popup v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"loginPopupVisible"</span> mode<span class="token operator">=</span><span class="token string">"center"</span> width<span class="token operator">=</span><span class="token string">"90%"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"form-container"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"top"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"form"</span> ref<span class="token operator">=</span><span class="token string">"form"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"100rpx"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"用户名"</span> placeholder<span class="token operator">=</span><span class="token string">"用户名"</span> prop<span class="token operator">=</span><span class="token string">"name"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token punctuation">.</span>trim<span class="token operator">=</span><span class="token string">"form.name"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"密码"</span> placeholder<span class="token operator">=</span><span class="token string">"密码"</span> prop<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token punctuation">.</span>trim<span class="token operator">=</span><span class="token string">"form.password"</span> type<span class="token operator">=</span><span class="token string">"password"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>form<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span>u<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"error"</span> shape<span class="token operator">=</span><span class="token string">"circle"</span> @click<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">&gt;</span>登录<span class="token operator">/</span>注册<span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>popup<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token keyword">const</span> <span class="token constant">DEFAULT_AVATAR</span> <span class="token operator">=</span><span class="token string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+BAMAAAAQDbi7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURfjz8NTIvOPa0drQxe3l3/Pt6dJ8uJYAAAGKSURBVFjD7ZjNboMwEIT5vccxuZPS3qHJA4SouQPp+z9LkSJVBduw42mEqnrun9de744XoigoKCgoKCjoN5V/VI1Sp5eLH34d4YdePejPb3rUGQ+uJkIXiNVMJcanc35P8uAGEsVtwOQVVAWZyddkfOgAR5NXHZN+7AZs4YEE5DZcHZjsjyq44wMXYOe1f/c9FPg/wqdP4TXjHlD9sjzbfxnZ/3b/2Mn9q+H8y+5/cv8crPyppI4vv8DEwWuu/MV8vHH89En5K6jyBxrAwddU+QIF3Nv5jvMfTfa/3D+ilpx/soac3zJy/oyI7NkdsMD4lhp/LR4AfoQl3PeHkYAa5Xsm+0YNlzAf3ZnTz0poF/j/xl9/NoB+v2H0YPgHskJWWZ/fm8/WJ3uQvEB5pZzSb17WD/yIGdSK9h2FLy8gwJcWEOFuN0qUUGefzK/a6VGMK90t++2qCvHQ59BFNLK4deDCGxnoQX5+BQ3KF9T25y9yDPPTabbF+dKz9qwTSUPyOD59U7bmm634LwhiuCxbAoGfAAAAAElFTkSuQmCC'</span><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'../../request/request.js'</span><span class="token keyword">import</span> <span class="token punctuation">{</span>apiAuthLoginByWeb<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../request/api.js'</span><span class="token keyword">import</span> <span class="token punctuation">{</span>goBackAfterLogin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../util/router.js'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token constant">DEFAULT_AVATAR</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token literal-property property">loginPopupVisible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">// 表单值</span><span class="token literal-property property">form</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 表单验证规则</span><span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'请输入姓名'</span><span class="token punctuation">,</span><span class="token comment">// 可以单个或者同时写两个触发验证方式 </span><span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token string">'blur'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'请输入密码'</span><span class="token punctuation">,</span><span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token string">'blur'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 是否已经设置了校验规则，用于避免重复设置</span><span class="token literal-property property">hasSetRules</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 每次进来这个页面要先检查有没有登录，如果已经登陆了则直接显示登录信息</span><span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">const</span> token <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token keyword">const</span> userInfo <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token operator">&amp;&amp;</span> userInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>avatar <span class="token operator">=</span> userInfo<span class="token punctuation">.</span>avatar<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> userInfo<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 文档解释说必须要在onReady生命周期获取this.$refs.form，因为onLoad生命周期组件可能尚未创建完毕。实测在onReady生命周期无法获取this.$refs.form，需要在$nextTick方法里才能获取。但是要有一个问题，如果页面进来的时候登陆弹窗是隐藏的，那么是没有办法获取到this.$refs.form的，因此放弃在onReady来获取this.$refs.form</span><span class="token comment">// onReady() {</span><span class="token comment">// this.$nextTick(() =&gt; {</span><span class="token comment">// // console.log(this.$refs.form)</span><span class="token comment">// // 设置校验规则</span><span class="token comment">// this.$refs.form.setRules(this.rules);</span><span class="token comment">// })</span><span class="token comment">// },</span><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">// 展示登录弹窗</span><span class="token function">showLoginPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">const</span> token <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token comment">// 只有在未登录的情况下打开登录弹窗</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginPopupVisible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token comment">// 如果还没有设置校验规则需设置</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>hasSetRules<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>hasSetRules <span class="token operator">=</span> <span class="token boolean">true</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token function">setRules</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rules<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 点击图标</span><span class="token function">onClickIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">const</span> token <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 退出登录，最好做二次确认</span>uni<span class="token punctuation">.</span><span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'提示'</span><span class="token punctuation">,</span><span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'是否退出登录'</span><span class="token punctuation">,</span><span class="token literal-property property">confirmColor</span><span class="token operator">:</span> <span class="token string">'rgb(139, 0, 0)'</span><span class="token punctuation">,</span><span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token comment">// 点击确认</span><span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>confirm<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 清空缓存</span>uni<span class="token punctuation">.</span><span class="token function">clearStorageSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 还原页面</span><span class="token keyword">this</span><span class="token punctuation">.</span>avatar <span class="token operator">=</span> <span class="token constant">DEFAULT_AVATAR</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">// 如果没有登录，则打开登录弹窗</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showLoginPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// 登录/注册</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>form<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">valid</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">url</span><span class="token operator">:</span> apiAuthLoginByWeb<span class="token punctuation">,</span><span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token literal-property property">pwd</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>password<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function-variable function">successCb</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">const</span> <span class="token punctuation">{</span>token<span class="token punctuation">,</span>userInfo<span class="token punctuation">}</span> <span class="token operator">=</span> resuni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span>uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">,</span> userInfo<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>avatar <span class="token operator">=</span> userInfo<span class="token punctuation">.</span>avatar<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> userInfo<span class="token punctuation">.</span>username<span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>password <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginPopupVisible <span class="token operator">=</span> <span class="token boolean">false</span>uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'已登录'</span><span class="token punctuation">,</span><span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 登录成功后判断是否需要跳转到之前的页面</span><span class="token function">goBackAfterLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'验证失败'</span><span class="token punctuation">,</span><span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"scss"</span><span class="token operator">&gt;</span><span class="token punctuation">.</span>user<span class="token operator">-</span>container <span class="token punctuation">{</span><span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span><span class="token literal-property property">padding</span><span class="token operator">:</span> 40rpx 20rpx<span class="token punctuation">;</span><span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token number">333</span><span class="token punctuation">;</span><span class="token literal-property property">color</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span><span class="token punctuation">.</span>left <span class="token punctuation">{</span><span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span><span class="token punctuation">.</span>login<span class="token operator">-</span>trigger <span class="token punctuation">{</span>margin<span class="token operator">-</span>left<span class="token operator">:</span> 20rpx<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">.</span>form<span class="token operator">-</span>container <span class="token punctuation">{</span><span class="token literal-property property">padding</span><span class="token operator">:</span> 40rpx 32rpx<span class="token punctuation">;</span><span class="token punctuation">.</span>top <span class="token punctuation">{</span>margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 40rpx<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span></code></pre><h2 id="uni-app没有路由守卫"><a href="#uni-app没有路由守卫" class="headerlink" title="uni-app没有路由守卫"></a>uni-app没有路由守卫</h2><p><strong>需要自己添加</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">checkToken</span><span class="token punctuation">(</span><span class="token punctuation">{</span>cbIfHasToken <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 是否有token</span>pathForGoingBack <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 往回退的页面路径</span>isTabBarPage <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 往回退的页面是否有 tabBar 页面</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">const</span> token <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 有 token 执行回调</span><span class="token function">cbIfHasToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">// 没有就提示跳转用户注册界面</span>uni<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/page/user/user'</span><span class="token punctuation">,</span><span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'pathForGoingBack'</span><span class="token punctuation">,</span> pathForGoingBack<span class="token punctuation">)</span>uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabBarPage'</span><span class="token punctuation">,</span> isTabBarPage<span class="token punctuation">)</span><span class="token comment">// 需要延迟提示</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'请先登录'</span><span class="token punctuation">,</span><span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">goBackPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">const</span> pathForGoingBack <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'pathForGoingBack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> isTabBarPage <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabBarPage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 如果缓存里面有往回跳的路径</span><span class="token keyword">if</span> <span class="token punctuation">(</span>pathForGoingBack<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span>isTabBarPage<span class="token punctuation">)</span> <span class="token punctuation">{</span>uni<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">url</span><span class="token operator">:</span> pathForGoingBack<span class="token punctuation">,</span><span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>uni<span class="token punctuation">.</span><span class="token function">removeStorageSync</span><span class="token punctuation">(</span><span class="token string">'pathForGoingBack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>uni<span class="token punctuation">.</span><span class="token function">removeStorageSync</span><span class="token punctuation">(</span><span class="token string">'isTabBarPage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">// 普通页面</span><span class="token comment">// 不能用 navigateBack,因为跳转到 user 页面的时候，页面栈已经清空只剩下 user 页面</span><span class="token comment">// redirectTo 返回到 pathForGoingBack 对应页面后，再返回会跳转到 pathForGoingBack 的上一页，如果是 navigateTo , 跳转到 pathForGoingBack 对应页面后，再返回会跳转到登录页面</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniapp</title>
      <link href="/2022/08/17/uniapp/"/>
      <url>/2022/08/17/uniapp/</url>
      
        <content type="html"><![CDATA[<h1 id="Uni-App"><a href="#Uni-App" class="headerlink" title="Uni-App"></a>Uni-App</h1><h1 id="day04-uni-app语法"><a href="#day04-uni-app语法" class="headerlink" title="day04-uni-app语法"></a>day04-uni-app语法</h1><h2 id="一-什么是uniapp"><a href="#一-什么是uniapp" class="headerlink" title="一. 什么是uniapp"></a>一. 什么是uniapp</h2><p><code>uni-app</code> 是一个使用 <a href="https://vuejs.org/">Vue.js</a>开发所有前端应用的框架，开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程序（微信/支付宝/百度/头条/飞书/QQ/快手/钉钉/淘宝）、快应用等多个平台。</p><p>为了实现多端兼容，综合考虑编译速度、运行性能等因素，<code>uni-app</code> 约定了如下开发规范：</p><ul><li>页面文件遵循 <a href="https://vue-loader.vuejs.org/zh/spec.html">Vue 单文件组件 (SFC) 规范(opens new window)</a>，可以用vuex，默认不支持vue-router</li><li>组件标签靠近小程序规范，详见<a href="https://uniapp.dcloud.io/component/">uni-app 组件规范</a></li><li>接口能力（JS API）靠近微信小程序规范，但需将前缀 <code>wx</code> 替换为 <code>uni</code>，详见<a href="https://uniapp.dcloud.io/api/">uni-app接口规范</a></li><li>数据绑定及事件处理同 <code>Vue.js</code> 规范，同时补充了App及页面的生命周期（生命周期见4.1）</li><li>为兼容多端运行，建议使用flex布局进行开发</li></ul><p>但是，每个端，有每个端的管理规则，这不是uni-app在技术层面上可以抹平的：</p><ul><li>比如H5端的浏览器有跨域限制；</li><li>比如微信小程序会强制要求https链接，并且所有要联网的服务器域名都要配到微信的白名单中；</li><li>比如App端，iOS对隐私控制和虚拟支付控制非常严格；</li><li>比如App端，Android、国产rom各种兼容性差异，尤其是因为谷歌服务被墙，导致的push、定位等开发混乱的坑；</li></ul><h2 id="二-跨端注意"><a href="#二-跨端注意" class="headerlink" title="二. 跨端注意"></a>二. 跨端注意</h2><p><strong>每个端有每个端的特点，有的能被抹平，有的不可能被抹平。</strong></p><p><strong>注意：跨端，不是把web的习惯迁移到全平台。而是按照uni的写法，然后全平台使用。</strong></p><h3 id="2-1-H5正常但App异常的可能性"><a href="#2-1-H5正常但App异常的可能性" class="headerlink" title="2.1 H5正常但App异常的可能性"></a>2.1 H5正常但App异常的可能性</h3><h4 id="2-1-1-CSS异常"><a href="#2-1-1-CSS异常" class="headerlink" title="2.1.1 CSS异常"></a>2.1.1 CSS异常</h4><ul><li>不支持的选择器</li></ul><p>非H5端不支持*选择器；</p><p>body的元素选择器请改为page，同样，div和ul和li等改为view、span和font改为text、a改为navigator、img改为image…</p><ul><li>组件和页面样式相互影响</li></ul><p>非H5端默认并未启用 scoped，如需要隔离组件样式可以在 style 标签增加 scoped 属性，H5端为了隔离页面间的样式默认启用了 scoped。<strong>不要写scoped，小程序样式有问题</strong></p><ul><li>webview浏览器兼容性</li></ul><p>vue页面在App端，默认是被系统的webview渲染的（不是手机自带浏览器，是rom的webview），在较老的手机上，比如Android4.4、5.0或iOS8，很多css是不支持的，所以不要使用太新的css，会导致界面异常。</p><p>注意这不意味着不能使用flex，Android4.4也支持flex，只是不要使用太新的css。</p><ul><li>原生组件层级问题 H5没有原生组件概念问题，非H5端有原生组件并引发了原生组件层级高于前端组件的概念，要遮挡video、map等原生组件，请使用cover-view组件。</li></ul><h4 id="2-1-2-使用了非H5端不支持的API"><a href="#2-1-2-使用了非H5端不支持的API" class="headerlink" title="2.1.2 使用了非H5端不支持的API"></a>2.1.2 使用了非H5端不支持的API</h4><p>小程序和App的js运行在jscore下而不是浏览器里，没有浏览器专用的js对象，比如document、xmlhttp、cookie、window、location、navigator、localstorage、websql、indexdb、webgl等对象。</p><p>如果你的代码没有直接使用这些，那很可能是引入的三方库使用了这些。如果是后者，去<a href="https://ext.dcloud.net.cn/">插件市场</a>搜索替代方案。</p><h3 id="2-2-H5正常但小程序异常的可能性"><a href="#2-2-H5正常但小程序异常的可能性" class="headerlink" title="2.2  H5正常但小程序异常的可能性"></a>2.2  H5正常但小程序异常的可能性</h3><ol><li>同上</li><li><strong>v-html</strong>在h5和app-vue均支持，但小程序不支持</li><li>小程序要求连接的网址都要配白名单</li></ol><h3 id="2-3-小程序正常但App异常的可能性"><a href="#2-3-小程序正常但App异常的可能性" class="headerlink" title="2.3 小程序正常但App异常的可能性"></a>2.3 小程序正常但App异常的可能性</h3><p>vue页面在App端的渲染引擎默认是系统webview（不是手机自带浏览器，是rom的webview），在较老的手机上，比如Android4.4、5.0或iOS8，一些新出的css语法是不支持的。注意这不意味着不能使用flex，Android4.4也支持flex，只是不要使用太新的css。可以找Android4.4手机或使用pc模拟器实际测试下，大多数国产Android模拟器都是4.4或5.0。</p><p>小程序不存在浏览器兼容问题，它内置了几十M自己的定制webview。所以如果你的H5和小程序界面正常，而App界面异常，大多是因为css兼容性。</p><p>解决这类问题：</p><ol><li>放弃老款手机支持</li><li>不用使用太新的css语法，可以在caniuse查询</li><li>从 uni-app 2.5.3 起，Android端支持引入腾讯x5浏览器内核，可以抹平低端Android的浏览器兼容性问题，<a href="https://ask.dcloud.net.cn/article/36806">详见x5使用指南</a></li></ol><h3 id="2-4-小程序或App正常，但H5异常的可能性"><a href="#2-4-小程序或App正常，但H5异常的可能性" class="headerlink" title="2.4 小程序或App正常，但H5异常的可能性"></a>2.4 小程序或App正常，但H5异常的可能性</h3><ol><li>在 uni-app 2.4.7 以前，H5端不支持微信小程序自定义组件，即wxcomponets下的组件，此时可能产生兼容问题。从 2.4.7 起，H5也支持微信自定义组件，不再存在这这方面兼容问题。</li><li>App端使用了App特有的API和功能，比如plus、Native.js、subNVue、原生插件等</li><li>使用了小程序专用的功能，比如微信卡券、小程序插件、微信小程序云开发。对于云开发，建议使用可跨端的uniCloud。</li></ol><h3 id="2-5-H5-开发注意"><a href="#2-5-H5-开发注意" class="headerlink" title="2.5 H5 开发注意"></a>2.5 H5 开发注意</h3><ul><li><p>APP 和小程序的导航栏和 <code>tabbar</code> 均是原生控件，元素区域坐标是不包含原生导航栏和 <code>tabbar</code> 的；而 H5 里导航栏和 <code>tabbar</code> 是 div 模拟实现的，所以元素坐标会包含导航栏和tabbar的高度。为了优雅的解决多端高度定位问题，<code>uni-app</code> 新增了2个css变量：<code>--window-top</code> 和 <code>--window-bottom</code>，这代表了页面的内容区域距离顶部和底部的距离。举个实例，如果你想在原生<code>tabbar</code> 上方悬浮一个菜单，之前写 <code>bottom:0</code>。这样的写法编译到 h5 后，这个菜单会和 <code>tabbar</code> 重叠，位于屏幕底部。而改为使用 <code>bottom:var(--window-bottom)</code>，则不管在 app 下还是在h5下，这个菜单都是悬浮在 <code>tabbar</code> 上浮的。这就避免了写条件编译代码。当然仍然也可以使用 H5 的条件编译处理界面的不同。</p><pre class="language-Vue" data-language="Vue"><code class="language-Vue">&lt;template&gt;    &lt;view class="content"&gt;      &lt;div class="bottom"&gt;bottom&lt;/div&gt;    &lt;/view&gt;&lt;/template&gt;&lt;style lang="scss"&gt;  page{  .bottom{  position:fixed;  left:0;  right:0;  bottom:calc(var(--window-bottom) + 50rpx);  }  }&lt;/style&gt;</code></pre></li></ul><h3 id="2-6-跨端兼容"><a href="#2-6-跨端兼容" class="headerlink" title="2.6 跨端兼容"></a>2.6 跨端兼容</h3><p>uni-app 已将常用的组件、JS API 封装到框架中，开发者按照 uni-app 规范开发即可保证多平台兼容，大部分业务均可直接满足。</p><p>但每个平台有自己的一些特性，因此会存在一些无法跨平台的情况。</p><ul><li>大量写 if else，会造成代码执行性能低下和管理混乱。</li><li>编译到不同的工程后二次修改，会让后续升级变的很麻烦。</li></ul><p>在 C 语言中，通过 #ifdef、#ifndef 的方式，为 windows、mac 等不同 os 编译不同的代码。 <code>uni-app</code> 参考这个思路，为 <code>uni-app</code> 提供了条件编译手段，在一个工程里优雅的完成了平台个性化实现。</p><p>条件编译是用特殊的注释作为标记，在编译时根据这些特殊的注释，将注释里面的代码编译到不同平台。</p><p><strong>写法：</strong>以 #ifdef 或 #ifndef 加 <strong>%PLATFORM%</strong> 开头，以 #endif 结尾。</p><ul><li>#ifdef：if defined 仅在某平台存在</li><li>#ifndef：if not defined 除了某平台均存在</li><li>**%PLATFORM%**：平台名称</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token comment">// #ifndef VUE3</span><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>App<span class="token punctuation">.</span>mpType <span class="token operator">=</span> <span class="token string">'app'</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token operator">...</span>App<span class="token punctuation">}</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// #endif</span><span class="token comment">// #ifdef VUE3</span><span class="token keyword">import</span> <span class="token punctuation">{</span> createSSRApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createSSRApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>  <span class="token keyword">return</span> <span class="token punctuation">{</span>    app  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// #endif</span></code></pre><h2 id="三-工程目录"><a href="#三-工程目录" class="headerlink" title="三. 工程目录"></a>三. 工程目录</h2><p>下载HBuilder X、创建项目后，点击运行到内置浏览器即可实现代码在浏览器的热更新，点击运行到小程序模拟器，会提示错误，是因为微信开发者工具的安全设置没有开启服务端口。</p><img src="../../../真 · 学习资料/狼/上课视频代码笔记作业/微信小程序/41期笔记/day05-uni-app/images/1.1.png" width="600"><p>在菜单右键新建页面。<code>uni-app</code>会将<code>pages.json -&gt; pages</code>配置项中的第一个页面，作为当前工程的首页（启动页）。</p><p>工程目录如下：</p><pre class="language-none"><code class="language-none">┌─uniCloud              云空间目录，阿里云为uniCloud-aliyun,腾讯云为uniCloud-tcb（详见uniCloud）│─components            符合vue组件规范的uni-app组件目录│  └─comp-a.vue         可复用的a组件├─hybrid                App端存放本地html文件的目录，详见├─platforms             存放各平台专用页面的目录，详见├─pages                 业务页面文件存放的目录│  ├─index│  │  └─index.vue       index页面│  └─list│     └─list.vue        list页面├─static                存放应用引用的本地静态资源（如图片、视频等）的目录，注意：静态资源只能存放于此├─uni_modules           存放[uni_module](/uni_modules)。├─wxcomponents          存放小程序组件的目录，详见├─nativeplugins         App原生插件 详见├─unpackage             非工程代码，一般存放运行或发行的编译结果├─main.js               Vue初始化入口文件├─App.vue               应用配置，用来配置App全局样式以及监听 应用生命周期├─manifest.json         配置应用名称、appid、logo、版本等打包信息，详见├─pages.json            配置页面路由、导航条、选项卡等页面类信息，详见└─uni.scss              这里是uni-app内置的常用样式变量 </code></pre><h2 id="四-页面相关内容"><a href="#四-页面相关内容" class="headerlink" title="四. 页面相关内容"></a>四. 页面相关内容</h2><h3 id="4-1-应用、页面、组件生命周期"><a href="#4-1-应用、页面、组件生命周期" class="headerlink" title="4.1 应用、页面、组件生命周期"></a>4.1 应用、页面、组件生命周期</h3><p>应用（app.vue）生命周期：</p><table><thead><tr><th align="left">函数名</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">onLaunch</td><td align="left">当<code>uni-app</code> 初始化完成时触发（全局只触发一次）</td></tr><tr><td align="left">onShow</td><td align="left">当 <code>uni-app</code> 启动，或从后台进入前台显示</td></tr><tr><td align="left">onHide</td><td align="left">当 <code>uni-app</code> 从前台进入后台</td></tr><tr><td align="left">onError</td><td align="left">当 <code>uni-app</code> 报错时触发</td></tr><tr><td align="left">onUniNViewMessage</td><td align="left">对 <code>nvue</code> 页面发送的数据进行监听，可参考 <a href="https://uniapp.dcloud.io/tutorial/nvue-api?id=communication">nvue 向 vue 通讯(opens new window)</a></td></tr><tr><td align="left">onUnhandledRejection</td><td align="left">对未处理的 Promise 拒绝事件监听函数（2.8.1+）</td></tr><tr><td align="left">onPageNotFound</td><td align="left">页面不存在监听函数</td></tr><tr><td align="left">onThemeChange</td><td align="left">监听系统主题变化</td></tr></tbody></table><p>页面（pages文件夹下的.vue文件）生命周期是小程序的页面生命周期。</p><table><thead><tr><th align="left">函数名</th><th align="left">说明</th><th align="left">平台差异说明</th><th align="left">最低版本</th></tr></thead><tbody><tr><td align="left">onInit</td><td align="left">监听页面初始化，其参数同 onLoad 参数，为上个页面传递的数据，参数类型为 Object（用于页面传参），触发时机早于 onLoad</td><td align="left">百度小程序</td><td align="left">3.1.0+</td></tr><tr><td align="left">onLoad</td><td align="left">监听页面加载，其参数为上个页面传递的数据，参数类型为 Object（用于页面传参），参考<a href="https://uniapp.dcloud.io/api/router#navigateto">示例</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">onShow</td><td align="left">监听页面显示。页面每次出现在屏幕上都触发，包括从下级页面点返回露出当前页面</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">onReady</td><td align="left">监听页面初次渲染完成。注意如果渲染速度快，会在页面进入动画完成前触发</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">onHide</td><td align="left">监听页面隐藏</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">onUnload</td><td align="left">监听页面卸载</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">onResize</td><td align="left">监听窗口尺寸变化</td><td align="left">App、微信小程序、快手小程序</td><td align="left"></td></tr><tr><td align="left">onPullDownRefresh</td><td align="left">监听用户下拉动作，一般用于下拉刷新，参考<a href="https://uniapp.dcloud.io/api/ui/pulldown">示例</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">onReachBottom</td><td align="left">页面滚动到底部的事件（不是scroll-view滚到底），常用于下拉下一页数据。具体见下方注意事项</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">onTabItemTap</td><td align="left">点击 tab 时触发，参数为Object，具体见下方注意事项</td><td align="left">微信小程序、QQ小程序、支付宝小程序、百度小程序、H5、App、快手小程序、京东小程序</td><td align="left"></td></tr><tr><td align="left">onShareAppMessage</td><td align="left">用户点击右上角分享</td><td align="left">微信小程序、QQ小程序、支付宝小程序、字节小程序、飞书小程序、快手小程序、京东小程序</td><td align="left"></td></tr><tr><td align="left">onPageScroll</td><td align="left">监听页面滚动，参数为Object</td><td align="left">nvue暂不支持</td><td align="left"></td></tr><tr><td align="left">onNavigationBarButtonTap</td><td align="left">监听原生标题栏按钮点击事件，参数为Object</td><td align="left">App、H5</td><td align="left"></td></tr><tr><td align="left">onBackPress</td><td align="left">监听页面返回，返回 event = {from:backbutton、 navigateBack} ，backbutton 表示来源是左上角返回按钮或 android 返回键；navigateBack表示来源是 uni.navigateBack ；详细说明及使用：<a href="http://ask.dcloud.net.cn/article/35120">onBackPress 详解 (opens new window)</a>。支付宝小程序只有真机能触发，只能监听非navigateBack引起的返回，不可阻止默认行为。</td><td align="left">app、H5、支付宝小程序</td><td align="left"></td></tr><tr><td align="left">onNavigationBarSearchInputChanged</td><td align="left">监听原生标题栏搜索输入框输入内容变化事件</td><td align="left">App、H5</td><td align="left">1.6.0</td></tr><tr><td align="left">onNavigationBarSearchInputConfirmed</td><td align="left">监听原生标题栏搜索输入框搜索事件，用户点击软键盘上的“搜索”按钮时触发。</td><td align="left">App、H5</td><td align="left">1.6.0</td></tr><tr><td align="left">onNavigationBarSearchInputClicked</td><td align="left">监听原生标题栏搜索输入框点击事件（pages.json 中的 searchInput 配置 disabled 为 true 时才会触发）</td><td align="left">App、H5</td><td align="left">1.6.0</td></tr><tr><td align="left">onShareTimeline</td><td align="left">监听用户点击右上角转发到朋友圈</td><td align="left">微信小程序</td><td align="left">2.8.1+</td></tr><tr><td align="left">onAddToFavorites</td><td align="left">监听用户点击右上角收藏</td><td align="left">微信小程序</td><td align="left">2.8.1+</td></tr></tbody></table><p>组件（components文件夹下的.vue文件）的生命周期与vue标准组件的生命周期相同，这里没有页面级的onLoad等生命周期：</p><table><thead><tr><th align="left"></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left">函数名</td><td align="left">说明</td><td align="left">平台差异说明</td><td align="left">最低版本</td></tr><tr><td align="left">beforeCreate</td><td align="left">在实例初始化之前被调用。<a href="https://cn.vuejs.org/v2/api/#beforeCreate">详见(opens new window)</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">created</td><td align="left">在实例创建完成后被立即调用。<a href="https://cn.vuejs.org/v2/api/#created">详见(opens new window)</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">beforeMount</td><td align="left">在挂载开始之前被调用。<a href="https://cn.vuejs.org/v2/api/#beforeMount">详见(opens new window)</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">mounted</td><td align="left">挂载到实例上去之后调用。<a href="https://cn.vuejs.org/v2/api/#mounted">详见 (opens new window)</a>注意：此处并不能确定子组件被全部挂载，如果需要子组件完全挂载之后在执行操作可以使用<code>$nextTick</code><a href="https://cn.vuejs.org/v2/api/#Vue-nextTick">Vue官方文档(opens new window)</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">beforeUpdate</td><td align="left">数据更新时调用，发生在虚拟 DOM 打补丁之前。<a href="https://cn.vuejs.org/v2/api/#beforeUpdate">详见(opens new window)</a></td><td align="left">仅H5平台支持</td><td align="left"></td></tr><tr><td align="left">updated</td><td align="left">由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。<a href="https://cn.vuejs.org/v2/api/#updated">详见(opens new window)</a></td><td align="left">仅H5平台支持</td><td align="left"></td></tr><tr><td align="left">beforeDestroy</td><td align="left">实例销毁之前调用。在这一步，实例仍然完全可用。<a href="https://cn.vuejs.org/v2/api/#beforeDestroy">详见(opens new window)</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">destroyed</td><td align="left">Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。<a href="https://cn.vuejs.org/v2/api/#destroyed">详见(opens new window)</a></td><td align="left"></td><td align="left"></td></tr></tbody></table><h3 id="4-2-页面通讯"><a href="#4-2-页面通讯" class="headerlink" title="4.2 页面通讯"></a>4.2 页面通讯</h3><h4 id="4-2-1-uni-emit-eventName-OBJECT"><a href="#4-2-1-uni-emit-eventName-OBJECT" class="headerlink" title="4.2.1 uni.$emit(eventName,OBJECT)"></a>4.2.1 uni.$emit(eventName,OBJECT)</h4><p>触发全局的自定义事件。附加参数都会传给监听器回调。</p><table><thead><tr><th>属性</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>eventName</td><td>String</td><td>事件名</td></tr><tr><td>OBJECT</td><td>Object</td><td>触发事件携带的附加参数</td></tr></tbody></table><p><strong>代码示例</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">uni<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">msg</span><span class="token operator">:</span><span class="token string">'页面更新'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="4-2-2-uni-on-eventName-callback"><a href="#4-2-2-uni-on-eventName-callback" class="headerlink" title="4.2.2 uni.$on(eventName,callback)"></a>4.2.2 uni.$on(eventName,callback)</h4><p>监听全局的自定义事件。事件可以由 uni.$emit 触发，回调函数会接收所有传入事件触发函数的额外参数。</p><table><thead><tr><th>属性</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>eventName</td><td>String</td><td>事件名</td></tr><tr><td>callback</td><td>Function</td><td>事件的回调函数</td></tr></tbody></table><p><strong>代码示例</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">uni<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'update'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'监听到事件来自 update ，携带参数 msg 为：'</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="4-2-3-uni-once-eventName-callback"><a href="#4-2-3-uni-once-eventName-callback" class="headerlink" title="4.2.3 uni.$once(eventName,callback)"></a>4.2.3 uni.$once(eventName,callback)</h4><p>监听全局的自定义事件。事件可以由 uni.$emit 触发，但是只触发一次，在第一次触发之后移除监听器。</p><table><thead><tr><th>属性</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>eventName</td><td>String</td><td>事件名</td></tr><tr><td>callback</td><td>Function</td><td>事件的回调函数</td></tr></tbody></table><p><strong>代码示例</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">uni<span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">'update'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'监听到事件来自 update ，携带参数 msg 为：'</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="4-2-4-uni-off-eventName-callback"><a href="#4-2-4-uni-off-eventName-callback" class="headerlink" title="4.2.4 uni.$off([eventName, callback])"></a>4.2.4 uni.$off([eventName, callback])</h4><p>移除全局自定义事件监听器。</p><table><thead><tr><th>属性</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>eventName</td><td>Array＜String＞</td><td>事件名</td></tr><tr><td>callback</td><td>Function</td><td>事件的回调函数</td></tr></tbody></table><p><strong>Tips</strong></p><ul><li>如果没有提供参数，则移除所有的事件监听器；</li><li>如果只提供了事件，则移除该事件所有的监听器；</li></ul><p>代码实例：</p><pre class="language-Vue" data-language="Vue"><code class="language-Vue">&lt;template&gt;  &lt;view class="content"&gt;    &lt;button @click="toA"&gt;toA&lt;/button&gt;    a页面生成的随机数：{{ num }}  &lt;/view&gt;&lt;/template&gt;&lt;script&gt;export default {  data() {    return {      num: "",    };  },  onShow() {    uni.$once("changeNum", (val) =&gt; {      console.log(val);      this.num = val;      // uni.$off('changeNum')    });  },  methods: {    toA() {      uni.navigateTo({        url: "../a/a",      });    },  },};&lt;/script&gt;</code></pre><pre class="language-Vue" data-language="Vue"><code class="language-Vue">&lt;template&gt;  &lt;view&gt;    &lt;button @click="generateRandomNum"&gt;生成随机数&lt;/button&gt;  &lt;/view&gt;&lt;/template&gt;&lt;script&gt;export default {  methods: {    generateRandomNum() {      uni.$emit("changeNum", Math.random());      uni.navigateBack();    },  },};&lt;/script&gt;</code></pre><h3 id="4-3-路由"><a href="#4-3-路由" class="headerlink" title="4.3 路由"></a>4.3 路由</h3><table><thead><tr><th>路由方式</th><th>页面栈表现</th><th>触发时机</th></tr></thead><tbody><tr><td>初始化</td><td>新页面入栈</td><td>uni-app 打开的第一个页面</td></tr><tr><td>打开新页面</td><td>新页面入栈</td><td>调用 API   <a href="https://uniapp.dcloud.io/api/router#navigateto">uni.navigateTo</a>  、使用组件<navigator open-type="navigate"></navigator></td></tr><tr><td>页面重定向</td><td>当前页面出栈，新页面入栈</td><td>调用 API   <a href="https://uniapp.dcloud.io/api/router#redirectto">uni.redirectTo</a>  、使用组件<navigator open-type="redirectTo"></navigator></td></tr><tr><td>页面返回</td><td>页面不断出栈，直到目标返回页</td><td>调用 API  <a href="https://uniapp.dcloud.io/api/router#navigateback">uni.navigateBack</a>   、使用组件<navigator open-type="navigateBack">、用户按左上角返回按钮、安卓用户点击物理back按键</navigator></td></tr><tr><td>Tab 切换</td><td>页面全部出栈，只留下新的 Tab 页面</td><td>调用 API  <a href="https://uniapp.dcloud.io/api/router#switchtab">uni.switchTab</a>  、使用组件<navigator open-type="switchTab">、用户切换 Tab</navigator></td></tr><tr><td>重加载</td><td>页面全部出栈，只留下新的页面</td><td>调用 API  <a href="https://uniapp.dcloud.io/api/router#relaunch">uni.reLaunch</a>  、使用组件<navigator open-type="reLaunch"></navigator></td></tr></tbody></table><h3 id="4-4-页面代码规范"><a href="#4-4-页面代码规范" class="headerlink" title="4.4 页面代码规范"></a>4.4 页面代码规范</h3><p><code>uni-app</code> 支持在 template 模板中嵌套 <code>&lt;template/&gt;</code> 和 <code>&lt;block/&gt;</code>，用来进行 <a href="https://uniapp.dcloud.io/tutorial/vue-basics#listrendering">列表渲染</a> 和 <a href="https://uniapp.dcloud.io/tutorial/vue-basics#condition">条件渲染</a>。</p><p><code>&lt;template/&gt;</code> 和 <code>&lt;block/&gt;</code> 并不是一个组件，它们仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。</p><p><code>&lt;block/&gt;</code> 在不同的平台表现存在一定差异，推荐统一使用 <code>&lt;template/&gt;</code>。</p><h2 id="五-引用组件"><a href="#五-引用组件" class="headerlink" title="五. 引用组件"></a>五. 引用组件</h2><p>传统vue组件，需要安装、引用、注册，三个步骤后才能使用组件。<code>easycom</code>将其精简为一步。 只要组件安装在项目的components目录下，并符合<code>components/组件名称/组件名称.vue</code>目录结构。就可以不用引用、注册，直接在页面中使用。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>children</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>from parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>children</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序</title>
      <link href="/2022/08/07/wei-xin-xiao-cheng-xu/"/>
      <url>/2022/08/07/wei-xin-xiao-cheng-xu/</url>
      
        <content type="html"><![CDATA[<h1 id="微信小程序语法"><a href="#微信小程序语法" class="headerlink" title="微信小程序语法"></a>微信小程序语法</h1><p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%AF%AD%E6%B3%95.png" alt="微信小程序语法"></p><p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/%E7%B2%A4%E6%A0%B8%E9%85%B8%E9%A1%B9%E7%9B%AE-%E5%B0%8F%E7%A8%8B%E5%BA%8F.png" alt="粤核酸项目-小程序"></p><p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/day01%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%AF%AD%E6%B3%95-1660318418601.png" alt="day01微信小程序语法"></p><h2 id="一-小程序工程目录"><a href="#一-小程序工程目录" class="headerlink" title="一. 小程序工程目录"></a>一. 小程序工程目录</h2><h3 id="1-0-新建项目"><a href="#1-0-新建项目" class="headerlink" title="1.0 新建项目"></a>1.0 新建项目</h3><p>首先下载微信开发者工具：<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html">https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html</a></p><p>打开工具，创建小程序项目：</p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/init.png" width="600"><p>AppID是什么？怎么获取？</p><p>AppID(小程序ID)跟人的身份证号一样，这个是小程序的身份证明。是唯一的，不会跟其他的程序重复，我们很多时候需要用到AppID（如小程序上传），那么我们如何获取AppID呢？</p><p>1.进入小程序微信公众平台网址：<a href="https://mp.weixin.qq.com/">https://mp.weixin.qq.com/</a></p><p>2.扫码登录或选择账号密码登录</p><p>3.在开发管理&gt;开发设置查看自己的AppID</p><p>项目目录：</p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/微信图片_20220511093035.png" width="300">我们通过开发者工具快速创建了一个 QuickStart 项目。你可以留意到这个项目里边生成了不同类型的文件:<ol><li><code>.json</code> 后缀的 <code>JSON</code> 配置文件</li><li><code>.wxml</code> 后缀的 <code>WXML</code> 模板文件</li><li><code>.wxss</code> 后缀的 <code>WXSS</code> 样式文件</li><li><code>.js</code> 后缀的 <code>JS</code> 脚本逻辑文件</li></ol><p>接下来我们分别看看这4种文件的作用。</p><h3 id="1-1-JSON-配置"><a href="#1-1-JSON-配置" class="headerlink" title="1.1 JSON 配置"></a>1.1 JSON 配置</h3><p>JSON 是一种数据格式，并不是编程语言，在小程序中，JSON扮演静态配置的角色。</p><p>我们可以看到在项目的根目录有一个 <code>app.json</code> 和 <code>project.config.json</code>，此外在 pages/index 目录下还有一个 <code>index.json</code>，我们依次来说明一下它们的用途。</p><h4 id="1-1-1-app-json"><a href="#1-1-1-app-json" class="headerlink" title="1.1.1 app.json"></a>1.1.1 app.json</h4><p><code>app.json</code> 是当前小程序的<strong>全局</strong>配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等。QuickStart 项目里边的 <code>app.json</code> 配置内容如下：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"pages"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"pages/index/index"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"window"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"backgroundTextStyle"</span><span class="token operator">:</span> <span class="token string">"light"</span><span class="token punctuation">,</span>    <span class="token property">"navigationBarBackgroundColor"</span><span class="token operator">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>    <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"Weixin"</span><span class="token punctuation">,</span>    <span class="token property">"navigationBarTextStyle"</span><span class="token operator">:</span> <span class="token string">"black"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token property">"style"</span><span class="token operator">:</span> <span class="token string">"v2"</span><span class="token punctuation">,</span>  <span class="token property">"sitemapLocation"</span><span class="token operator">:</span> <span class="token string">"sitemap.json"</span><span class="token punctuation">}</span></code></pre><h5 id="1-pages字段"><a href="#1-pages字段" class="headerlink" title="1) pages字段"></a>1) pages字段</h5><p>用于描述当前小程序所有页面路径，这是为了让微信客户端知道当前你的小程序页面定义在哪个目录，初始化项目后默认是在pages文件夹下。</p><p>当我们添加数组项时，编辑器会帮我们自动新建目录：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"pages"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"pages/index/index"</span><span class="token punctuation">,</span> <span class="token string">"pages/list/index"</span><span class="token punctuation">]</span></code></pre><img src="/2022/08/07/wei-xin-xiao-cheng-xu/微信图片_20220511095330.png" width="600"><p>也可以通过在目录上直接右键新建文件夹并新建page来创建新页面，这个时候app.json的pages字段也会自动添加新增页面的路径。</p><p>tips：怎么禁用微信开发者工具的彩虹括号？在<code>settings.json</code>中添加以下代码：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"bracket-pair-colorizer-2.excludedLanguages"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token string">".wxml"</span><span class="token punctuation">,</span>  <span class="token string">".wxss"</span><span class="token punctuation">,</span>  <span class="token string">".js"</span><span class="token punctuation">,</span>  <span class="token string">".json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">"bracket-pair-colorizer-2.colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></code></pre><h5 id="2-window字段"><a href="#2-window字段" class="headerlink" title="2) window字段"></a>2) window字段</h5><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window</a></p><p>  定义小程序所有页面的顶部背景颜色，文字颜色定义等。</p><ul><li><p>backgroundTextStyle：下拉 loading 的样式，值为<code>string</code>类型，仅支持 <code>dark</code> / <code>light</code>。单独写看不出什么效果，因为这个配置的意思是进行下拉刷新的时候的样式。但问题是，小程序默认是关闭下拉刷新功能的，这时候就需要我们手动往window对象中添加：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token string-property property">"enablePullDownRefresh"</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 是否开启当前页面下拉刷新，默认为false。不建议全局开启，不是所有页面都需要下拉刷新的功能。我们可以在page.json定义，对每一个页面进行配置。</span></code></pre><p>这个时候我们就有了下拉刷新的功能。</p><p>当<code>backgroundTextStyle</code>的值为<code>dark</code>的时候，效果如下：</p></li></ul><img src="/2022/08/07/wei-xin-xiao-cheng-xu/微信图片_20220511102040.png" width="800"><p>​但是当把<code>backgroundTextStyle</code>的值设置为<code>light</code>的时候，会发现看不出效果：</p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/微信图片_20220511102359.png" width="400"><p>​这个时候需要配置<code>window</code>的另外一个字段<code>backgroundColor</code>，这个字段用来配置下拉刷新时的窗口背景色：</p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/微信图片_20220511102705.png" width="800"><ul><li><p><code>navigationBarBackgroundColor</code>表示导航栏背景颜色，值为十六进制值颜色类型，<strong>不支持渐变色</strong></p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/微信图片_20220511104431.png" width="800"></li><li><p><code>navigationBarTitleText</code>表示导航栏标题文字内容，值为<code>string</code>类型</p></li><li><p><code>navigationBarTextStyle</code>表示导航栏标题颜色，值为<code>string</code>类型，仅支持 <code>black</code> / <code>white</code></p></li></ul><p><strong>总结：navigationBar开头的属性用来定义导航栏的相关配置，background开头的属性用来定义下拉窗口的相关配置。</strong></p><h5 id="3-style字段"><a href="#3-style字段" class="headerlink" title="3) style字段"></a>3) style字段</h5><p>只有一个合法值：<code>v2</code>。微信小程序使用的ui框架是we ui，<code>v2</code>表示第二版样式。如果不想使用第二版样式，只能直接将style字段删除，不能传入<code>v1</code>。</p><h5 id="4-sitemapLocation字段"><a href="#4-sitemapLocation字段" class="headerlink" title="4) sitemapLocation字段"></a>4) sitemapLocation字段</h5><p>指明 <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html">sitemap.json</a> 的位置；默认为 ‘sitemap.json’ 即在 app.json 同级目录下名字的 <code>sitemap.json</code> 文件。微信现已开放小程序内搜索，开发者可以通过 <code>sitemap.json</code> 配置，或者管理后台页面收录开关来配置其小程序页面是否允许微信索引。当开发者允许微信索引时，微信会通过爬虫的形式，为小程序的页面内容建立索引。当用户的搜索词条触发该索引时，小程序的页面将可能展示在搜索结果中。</p><h5 id="5-tabBar字段"><a href="#5-tabBar字段" class="headerlink" title="5) tabBar字段"></a>5) tabBar字段</h5><p><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar</a></p><p><code>app.json</code>中默认没有<code>tabBar</code>字段，但是该字段很重要。如果小程序是一个多 tab 应用（客户端窗口的底部或顶部有 tab 栏可以切换页面），可以通过 <code>tabBar</code> 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。</p><p>部分配置项对应的修改表现如下图：</p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/tabbar.ce1b3c5b.png" width="600"><p>另外，有一个<code>list</code>字段，用来表示tab 的列表，list 接受一个数组，<strong>只能配置最少 2 个、最多 5 个 tab</strong>。tab 按数组的顺序排序，每个项都是一个对象，其属性值如下：</p><table><thead><tr><th>属性</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>pagePath</td><td>string</td><td>是</td><td>页面路径，必须在 pages 中先定义</td></tr><tr><td>text</td><td>string</td><td>是</td><td>tab 上按钮文字</td></tr><tr><td>iconPath</td><td>string</td><td>否</td><td>图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。<br><strong>当 position 为 top 时，不显示 icon。</strong> <strong>仅支持 .png、.jpg、.jpeg 格式。</strong></td></tr><tr><td>selectedIconPath</td><td>string</td><td>否</td><td>选中时的图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。<br><strong>当 position 为 top 时，不显示 icon。</strong> <strong>仅支持 .png、.jpg、.jpeg 格式。</strong></td></tr></tbody></table><p>我们定义两个tab，一个为首页，一个为列表：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token string-property property">"tabBar"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token string-property property">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>      <span class="token string-property property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/index/index"</span><span class="token punctuation">,</span>      <span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>      <span class="token string-property property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"./images/home1.png"</span><span class="token punctuation">,</span>      <span class="token string-property property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"./images/home2.png"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>      <span class="token string-property property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/list/index"</span><span class="token punctuation">,</span>      <span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"列表"</span><span class="token punctuation">,</span>      <span class="token string-property property">"iconPath"</span><span class="token operator">:</span> <span class="token string">"./images/list1.png"</span><span class="token punctuation">,</span>      <span class="token string-property property">"selectedIconPath"</span><span class="token operator">:</span> <span class="token string">"./images/list2.png"</span>    <span class="token punctuation">}</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string-property property">"selectedColor"</span><span class="token operator">:</span> <span class="token string">"#2F88FF"</span><span class="token punctuation">}</span></code></pre><img src="/2022/08/07/wei-xin-xiao-cheng-xu/微信图片_20220511162709.png" width="600"><h4 id="1-1-2-project-config-json"><a href="#1-1-2-project-config-json" class="headerlink" title="1.1.2 project.config.json"></a>1.1.2 project.config.json</h4><p>通常大家在使用一个工具的时候，都会针对各自喜好做一些个性化配置，例如界面颜色、编译配置等等，当你换了另外一台电脑重新安装工具的时候，你还要重新配置。</p><p>考虑到这点，小程序开发者工具在每个项目的根目录都会生成一个 <code>project.config.json</code>，你在工具上做的任何配置都会写入到这个文件，当你重新安装工具或者换电脑工作时，你只要载入同一个项目的代码包，开发者工具就自动会帮你恢复到当时你开发项目时的个性化配置，其中会包括编辑器的颜色、代码上传时自动压缩等等一系列选项。</p><h4 id="1-1-3-page-json"><a href="#1-1-3-page-json" class="headerlink" title="1.1.3 page.json"></a>1.1.3 page.json</h4><p>这里的 <code>page.json</code> 其实用来表示 pages/index 目录下的 <code>index.json</code> 这类和小程序页面相关的配置。</p><p>如果你整个小程序的风格是蓝色调，那么你可以在 <code>app.json</code> 里边声明顶部颜色是蓝色即可。实际情况可能不是这样，可能你小程序里边的每个页面都有不一样的色调来区分不同功能模块，因此我们提供了 <code>page.json</code>，让开发者可以<strong>独立定义每个页面的一些属性</strong>，例如刚刚说的顶部颜色、是否允许下拉刷新等等。<strong>所有配置项都写在一起，没有单独的window属性。</strong></p><p>其他配置项细节可以参考文档 <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html">页面配置</a> 。</p><h3 id="1-2-WXML-模板"><a href="#1-2-WXML-模板" class="headerlink" title="1.2 WXML 模板"></a>1.2 WXML 模板</h3><p><code>WXML</code> 充当的就是类似 <code>HTML</code> 的角色。往往写 HTML 的时候，经常会用到的标签是 <code>div</code>, <code>p</code>, <code>span</code>，小程序中没有这些组件，取而代之的是<code>view</code>，<code>text</code>等基础组件和其他封装过的组件，如表单组件、导航组件、媒体组件等。模板有<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/data.html">数据绑定</a>、<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/list.html">列表渲染</a>、<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html">条件渲染</a>、<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/template.html">模板</a>、<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/import.html">引用</a>等功能。</p><h3 id="1-3-WXSS-样式"><a href="#1-3-WXSS-样式" class="headerlink" title="1.3 WXSS 样式"></a>1.3 WXSS 样式</h3><p><code>WXSS</code> 具有 <code>CSS</code> 大部分的特性，小程序在 <code>WXSS</code> 也做了一些扩充和修改。</p><ol><li><p>尺寸单位为<code>rpx</code>（responsive pixel）: <strong>可以根据屏幕宽度进行自适应</strong>。<strong>规定屏幕宽为750 rpx</strong>。如在 iPhone6 上，屏幕宽度为375 px，共有750个物理像素，则750 rpx = 375 px = 750物理像素，1 rpx = 0.5 px = 1物理像素。</p><p><strong>建议：</strong>小程序设计稿宽度为750 px，这样子1 px就等于1 rpx，不用换算。</p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/1.3.1.png" width="500"><img src="/2022/08/07/wei-xin-xiao-cheng-xu/1.3.2.png" width="500"></li><li><p>提供了全局样式和局部样式。和前边 <code>app.json</code>, <code>page.json</code> 的概念相同，你可以写一个 <code>app.wxss</code> 作为全局样式，会作用于当前小程序的所有页面，局部页面样式 <code>page.wxss</code> 仅对当前页面生效。<strong>对同一个选择器，页面样式表比公共样式表拥有更高的权重。</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* app.wxss */</span><span class="token selector">view</span> <span class="token punctuation">{</span>  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/* page.wxss */</span><span class="token selector">view</span> <span class="token punctuation">{</span>  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- view元素字体为蓝色 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span> </code></pre></li><li><p>此外 <code>WXSS</code> 仅支持部分 <code>CSS</code> 选择器</p></li></ol><p>更详细的文档可以参考 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html">WXSS</a> 。</p><h3 id="1-4-JS-逻辑交互"><a href="#1-4-JS-逻辑交互" class="headerlink" title="1.4 JS 逻辑交互"></a>1.4 JS 逻辑交互</h3><p>提供了全局的小程序逻辑<code>app.js</code>和针对单个页面的逻辑<code>page.js</code>。</p><p>每个小程序都需要在 <code>app.js</code> 中调用 <code>App</code> 方法注册小程序实例（<strong>必须调用且只能调用一次。不然会出现无法预期的后果</strong>），并可以在其中去绑定生命周期回调函数、设置全局数据<code>globalData</code>等。而在<code>page.js</code>中调用<code>Page</code>方法注册小程序中的一个页面，接受一个 <code>Object</code> 类型参数，其指定页面的初始数据、生命周期回调、事件处理函数等。</p><h3 id="1-5-注册小程序"><a href="#1-5-注册小程序" class="headerlink" title="1.5 注册小程序"></a>1.5 注册小程序</h3><p>每个小程序都需要在 <code>app.js</code> 中调用 <code>App</code> 方法注册小程序实例，绑定生命周期回调函数、错误监听和页面不存在监听函数等。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// app.js</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">onLaunch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 监听小程序初始化，全局只触发一次</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onLaunch"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 监听小程序启动或切前台</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onShow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 会触发下面的onError</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onHide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 监听小程序切后台 </span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onHide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onError</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 小程序发生脚本错误或 API 调用报错时触发</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">globalData</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token literal-property property">string</span><span class="token operator">:</span> <span class="token string">"你好"</span><span class="token punctuation">,</span>    <span class="token literal-property property">boolean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>整个小程序只有一个 App 实例，是全部页面共享的。开发者可以通过 <code>getApp</code> 方法获取到全局唯一的 App 实例，获取 App 上的数据或调用开发者注册在 <code>App</code> 上的函数。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/index/index.js</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>app.globalData的变化没法动态响应在视图上，一般用来存放一些不需要变动的数据。</strong></p><h3 id="1-6-注册页面"><a href="#1-6-注册页面" class="headerlink" title="1.6 注册页面"></a>1.6 注册页面</h3><p>对于小程序中的每个页面，都需要在页面对应的 <code>js</code> 文件中调用<code>Page</code>方法注册，指定页面的初始数据、生命周期回调、事件处理函数等。</p><h4 id="1-6-1-页面初始数据"><a href="#1-6-1-页面初始数据" class="headerlink" title="1.6.1 页面初始数据"></a>1.6.1 页面初始数据</h4><p><code>data</code> 是页面第一次渲染使用的<strong>初始数据</strong>。</p><p>页面加载时，<code>data</code> 将会以<code>JSON</code>字符串的形式由逻辑层传至渲染层，因此<code>data</code>中的数据必须是可以转成<code>JSON</code>的类型：字符串，数字，布尔值，对象，数组。</p><p>渲染层可以通过 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/index.html">WXML</a> 对数据进行绑定。</p><h4 id="1-6-2-页面生命周期"><a href="#1-6-2-页面生命周期" class="headerlink" title="1.6.2 页面生命周期"></a>1.6.2 页面生命周期</h4><p>先跳过，参照第八节页面生命周期。</p><h4 id="1-6-3-页面事件处理函数"><a href="#1-6-3-页面事件处理函数" class="headerlink" title="1.6.3 页面事件处理函数"></a>1.6.3 页面事件处理函数</h4><h5 id="1-6-3-1-onPullDownRefresh"><a href="#1-6-3-1-onPullDownRefresh" class="headerlink" title="1.6.3.1 onPullDownRefresh()"></a>1.6.3.1 onPullDownRefresh()</h5><p>监听用户下拉刷新事件：</p><ul><li><p>需要在<code>app.json</code>的<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window"><code>window</code></a>选项中或<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html">页面配置</a>中开启<code>enablePullDownRefresh</code>。</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// pages/index/index.json</span><span class="token punctuation">{</span>  <span class="token property">"enablePullDownRefresh"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/index/index.js</span><span class="token function">onPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"下拉刷新"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 控制什么时候结束下拉刷新的样式</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">stopPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"已更新"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></li><li><p>可以通过<a href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.startPullDownRefresh.html">wx.startPullDownRefresh</a>触发下拉刷新，调用后触发下拉刷新动画，效果与用户手动下拉刷新一致。注意：调用<code>wx.startPullDownRefresh</code>的时候，也会同时触发<code>onPullDownRefresh</code>方法。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/index/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleRefresh<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击进行刷新<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/index/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">handleRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">startPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"开始下拉刷新"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>当处理完数据刷新后，<a href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.stopPullDownRefresh.html">wx.stopPullDownRefresh</a>可以停止当前页面的下拉刷新。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/index/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleRefresh<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击进行刷新<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/index/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"下拉刷新"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'获取到数据'</span><span class="token punctuation">)</span>      wx<span class="token punctuation">.</span><span class="token function">stopPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">handleRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">startPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h5 id="1-6-3-2-onReachBottom"><a href="#1-6-3-2-onReachBottom" class="headerlink" title="1.6.3.2 onReachBottom()"></a>1.6.3.2 onReachBottom()</h5><p>监听用户上拉触底事件。</p><ul><li>可以在<code>app.json</code>的<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window"><code>window</code></a>选项中或<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html">页面配置</a>中设置触发距离<code>onReachBottomDistance</code>。</li><li>在触发距离内滑动期间，本事件只会被触发一次。</li></ul><pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// pages/index/index.json</span><span class="token comment">// onReachBottomDistance：页面上拉触底事件触发时距页面底部距离，单位为px，默认值为50。</span><span class="token punctuation">{</span>  <span class="token property">"onReachBottomDistance"</span><span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/index/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">onReachBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"触底了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="二-数据绑定"><a href="#二-数据绑定" class="headerlink" title="二. 数据绑定"></a>二. 数据绑定</h2><p><strong>WXML 中的动态数据均来自对应 Page 的 <code>data</code>。</strong></p><p>数据绑定使用 Mustache 语法（双大括号）将变量包起来，可以用于以下场景：</p><h3 id="2-1-页面内容渲染"><a href="#2-1-页面内容渲染" class="headerlink" title="2.1 页面内容渲染"></a>2.1 页面内容渲染</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"hello world"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="2-2-组件属性"><a href="#2-2-组件属性" class="headerlink" title="2.2 组件属性"></a>2.2 组件属性</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{<span class="token punctuation">'</span>item-<span class="token punctuation">'</span>+id}}<span class="token punctuation">"</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item-{{id}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"hello world"</span><span class="token punctuation">,</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="2-3-控制属性"><a href="#2-3-控制属性" class="headerlink" title="2.3 控制属性"></a>2.3 控制属性</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{show}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"hello world"</span><span class="token punctuation">,</span>    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="2-4-关键字"><a href="#2-4-关键字" class="headerlink" title="2.4 关键字"></a>2.4 关键字</h3><p><code>true</code>：boolean 类型的 true，代表真值。</p><p><code>false</code>： boolean 类型的 false，代表假值。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>checkbox</span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{checked}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>checkbox</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">checked</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面的写法等同于：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>checkbox</span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{false}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>checkbox</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>特别注意：如果直接写 checked=”false”，其计算结果是一个字符串，转成 boolean 类型后代表真值。</strong></p><h3 id="2-5-三元运算和逻辑判断"><a href="#2-5-三元运算和逻辑判断" class="headerlink" title="2.5 三元运算和逻辑判断"></a>2.5 三元运算和逻辑判断</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{a &gt; 1 ? true : false}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{a &gt; 1}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="2-6-数据路径运算"><a href="#2-6-数据路径运算" class="headerlink" title="2.6 数据路径运算"></a>2.6 数据路径运算</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{obj.key}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{arr[0]}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"Hello "</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="三-事件"><a href="#三-事件" class="headerlink" title="三. 事件"></a>三. 事件</h2><ul><li>事件是视图层到逻辑层的通讯方式。</li><li>事件可以将用户的行为反馈到逻辑层进行处理。</li><li>事件可以绑定在组件上，当达到触发事件，就会执行逻辑层中对应的事件处理函数。</li><li>事件对象可以携带额外信息，如 id, dataset。</li></ul><h3 id="3-1-事件分类"><a href="#3-1-事件分类" class="headerlink" title="3.1 事件分类"></a>3.1 事件分类</h3><p>事件分为冒泡事件和非冒泡事件：</p><ol><li>冒泡事件：当一个组件上的事件被触发后，该事件会向父节点传递。</li><li>非冒泡事件：当一个组件上的事件被触发后，该事件不会向父节点传递。</li></ol><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#%E4%BA%8B%E4%BB%B6%E5%88%86%E7%B1%BB">WXML的冒泡事件列表</a></p><h3 id="3-2-普通事件绑定"><a href="#3-2-普通事件绑定" class="headerlink" title="3.2 普通事件绑定"></a>3.2 普通事件绑定</h3><p>我们可以用<code>bind</code>来绑定普通事件。</p><p>我们先来看小程序的单击事件<code>bindtap</code>，语法是<code>bind</code>后面跟事件类型<code>tap</code>，除了这么写，还可以写<code>bind:tap</code>（自基础库版本 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a> 起，在大多数组件和自定义组件中， <code>bind</code> 后可以紧跟一个冒号，其含义不变，如 <code>bind:tap</code> 。基础库版本 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.8.1</a> 起，在所有组件中开始提供这个支持。）。</p><p>我们在组件中绑定一个事件处理函数，在相应的Page定义中写上相应的事件处理函数。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>tap me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment">// 不需要和Vue一样将方法写在methods中</span>  <span class="token function">handleTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"点击了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="3-3-基础事件对象"><a href="#3-3-基础事件对象" class="headerlink" title="3.3 基础事件对象"></a>3.3 基础事件对象</h3><p>当组件触发事件时，逻辑层绑定该事件的处理函数会收到一个基础事件对象，我们可以用<code>event</code>来接收。</p><p>事件对象有两个比较重要的属性<code>currentTarget</code>和<code>target</code>，他们都可以用来接收一些属性值集合。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">foo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{<span class="token punctuation">'</span>item-<span class="token punctuation">'</span>+id}}<span class="token punctuation">"</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{<span class="token punctuation">'</span>item-<span class="token punctuation">'</span>+id}}<span class="token punctuation">"</span></span> <span class="token attr-name">data-foo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>tap me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">handleTap</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>在<code>e.target</code>和<code>e.currentTarget</code>里面，我们可以通过<code>id</code>字段获取到<code>id</code>属性的值（<strong>只能获取到id字段，其他自定义字段获取不到</strong>），也可以通过<code>dataset.xx</code>获取到data-xx的值。</p><p><code>currentTarget</code>和<code>target</code>的不同：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.parent</span> <span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> 300rpx<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 300rpx<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #fcf<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.child</span> <span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> 150rpx<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 150rpx<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #cff<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">handleTap</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>界面如下：</p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/微信图片_20220513171224.png" width="400"><p>当我们点击父元素中的子元素时，可以看到控制台打印的信息如下：</p><p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220513171508.png"></p><p>当我们点击父元素（并没有点击到子元素）时，可以看到控制台打印的信息如下：</p><p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220513171709.png"></p><p>说明<code>target</code>是事件触发的组件上的属性集合，而<code>currentTarget</code>是绑定事件的组件上的属性集合。</p><h3 id="3-4-阻止事件冒泡"><a href="#3-4-阻止事件冒泡" class="headerlink" title="3.4 阻止事件冒泡"></a>3.4 阻止事件冒泡</h3><p>除 <code>bind</code> 外，也可以用 <code>catch</code> 来绑定事件。与 <code>bind</code> 不同， <code>catch</code> 会阻止事件向上冒泡。</p><h2 id="四-setData"><a href="#四-setData" class="headerlink" title="四. setData"></a>四. setData</h2><h3 id="4-1-语法"><a href="#4-1-语法" class="headerlink" title="4.1 语法"></a>4.1 语法</h3><p>由于小程序的逻辑层和视图层是两个独立的运行环境、分属不同的线程或进程，不能直接进行数据共享，需要进行数据的序列化、跨线程/进程的数据传输、数据的反序列化，因此<strong>数据传输过程是异步的、非实时的</strong>。</p><p>直接修改 <code>this.data</code> 而不调用 <code>this.setData</code> 是无法改变页面的状态的。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--index.wxml--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChangeNum<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>change num<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">handleChangeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>setData</code> 函数用于改变对应的 <code>this.data</code> 的值（<strong>修改数据是同步</strong>），同时将数据从逻辑层发送到视图层（<strong>视图更新是异步</strong>）。<code>setData</code>接收两个参数，第一个参数为<code>Object</code>类型，表示这次要修改的数据；第二个参数为<strong>setData引起的界面更新渲染完毕后</strong>的回调函数，非必传，了解即可。</p><p>注意：</p><ul><li><p><strong>直接修改 <code>this.data</code> 而不调用 <code>this.setData</code> 是无法改变页面的状态的，因为只有<code>setData</code>可以触发视图更新</strong>。</p></li><li><p><code>Object</code> 以 <code>key: value</code> 的形式表示，将 <code>this.data</code> 中的 <code>key</code> 对应的值改变成 <code>value</code>。</p><p><strong>其中 key 可以以数据路径的形式给出，支持改变数组中的某一项或对象的某个属性，如 array[2].message，a.b.c.d，并且不需要在 <code>this.data</code> 中预先定义。</strong></p></li></ul><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeText<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> Change normal data <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeNum<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> Change normal num <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{array[0].text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeItemInArray<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> Change Array data <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{object.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeItemInObject<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> Change Object data <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{newObj.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addNewField<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> Add new data <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"hello world"</span><span class="token punctuation">,</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token literal-property property">array</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"a"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">object</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"jojo"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">changeText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// this.data.text = "goodbye world"; // 不要直接修改 this.data。小程序的运行环境分成渲染层和逻辑层，其中 WXML 模板和 WXSS 样式工作在渲染层，JS 脚本工作在逻辑层。直接修改this.data只是修改了逻辑层，没有修改到渲染层。</span>    <span class="token comment">// console.log(this.data.text);</span>    <span class="token comment">// 应该使用 setData</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"goodbye world"</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">changeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 或者，可以修改 this.data 之后马上用 setData 设置一下修改了的字段</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>num<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">changeItemInArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 1</span>    <span class="token comment">// this.data.array[0].text = "b";</span>    <span class="token comment">// this.setData({</span>    <span class="token comment">//   array: this.data.array,</span>    <span class="token comment">// });</span>    <span class="token comment">// 2</span>    <span class="token comment">// let array = this.data.array;</span>    <span class="token comment">// array[0].text = "b";</span>    <span class="token comment">// this.setData({</span>    <span class="token comment">//   array,</span>    <span class="token comment">// });</span>    <span class="token comment">// 对于对象或数组字段，可以直接修改一个其下的子字段，这样做通常比修改整个对象或数组更好</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token string-property property">"array[0].text"</span><span class="token operator">:</span> <span class="token string">"b"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">changeItemInObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token string-property property">"object.text"</span><span class="token operator">:</span> <span class="token string">"rose"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">addNewField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// this.setData({</span>    <span class="token comment">//   newObj: { text: "a" },</span>    <span class="token comment">// });</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token string-property property">"newObj.text"</span><span class="token operator">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="4-2-数据双向绑定"><a href="#4-2-数据双向绑定" class="headerlink" title="4.2 数据双向绑定"></a>4.2 数据双向绑定</h3><p>在 WXML 中，普通的属性的绑定是单向的。如果使用 <code>this.setData({ inputVal: 'hello' })</code> 来更新 <code>value</code> ，<code>this.data.inputVal</code> 和输入框的中显示的值都会被更新为 <code>hello</code> ；但如果用户修改了输入框里的值，却不会同时改变 <code>this.data.inputVal</code> 。</p><p>我们可以自己实现数据双向绑定（类似于Vue的:value和@input）：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{inputVal}}<span class="token punctuation">"</span></span> <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleInput<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>------<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{inputVal}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">inputVal</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">handleInput</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">inputVal</span><span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>inputVal<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>除了绑定一个字段，还可以绑定<code>data路径</code>：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{obj.msg}}<span class="token punctuation">"</span></span> <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleInput<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>------<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{obj.msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">handleInput</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token string-property property">"obj.msg"</span><span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="4-3-合理使用setData"><a href="#4-3-合理使用setData" class="headerlink" title="4.3 合理使用setData"></a>4.3 合理使用setData</h3><p><code>setData</code> 是小程序开发中使用最频繁、也是最容易引发性能问题的接口。</p><p><code>setData</code> 的过程，大致可以分成几个阶段：</p><ul><li>逻辑层虚拟 DOM 树的遍历和更新，触发组件生命周期和 observer 等；</li><li>将 data 从逻辑层传输到视图层；</li><li>视图层虚拟 DOM 树的更新、真实 DOM 元素的更新并触发页面渲染更新。</li></ul><p><strong>每次 setData 都会触发逻辑层虚拟 DOM 树的遍历和更新，也可能会导致触发一次完整的页面渲染流程。</strong></p><p><strong>使用建议：</strong></p><ol><li><p><code>data</code> 应只包括<code>和渲染相关的数据</code>。</p><p><code>setData</code> 应只用来进行渲染相关的数据更新。用 <code>setData</code> 的方式更新渲染无关的字段，会触发额外的渲染流程，或者增加传输的数据量，影响渲染耗时：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token constant">HOURS</span> <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">// good</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">hours</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token comment">// bad</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>对连续的 <code>setData</code> 调用尽可能的进行合并。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// bad</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token comment">// ...</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// good</span><span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    flag<span class="token punctuation">,</span>    <span class="token comment">// ...</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p><code>setData</code> 应只传发生变化的数据。setData 应只传入发生变化的字段，建议以<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#Page-prototype-setData-Object-data-Function-callback">数据路径</a>形式改变数组中的某一项或对象的某个属性，如：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{arr[0].msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{obj.person.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChangeData<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>click to change data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"hello"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">person</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jojo"</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">handleChangeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token string-property property">"arr[0].msg"</span><span class="token operator">:</span> <span class="token string">"goodbye"</span><span class="token punctuation">,</span>      <span class="token string-property property">"obj.person.name"</span><span class="token operator">:</span> <span class="token string">"rose"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><h2 id="五-列表渲染"><a href="#五-列表渲染" class="headerlink" title="五. 列表渲染"></a>五. 列表渲染</h2><h3 id="5-1-wx-for"><a href="#5-1-wx-for" class="headerlink" title="5.1 wx:for"></a>5.1 wx:for</h3><p>在组件上使用 <code>wx:for</code> 控制属性绑定一个数组，即可使用数组中各项的数据重复渲染该组件。</p><p>默认数组的当前项的下标变量名默认为 <code>index</code>，数组当前项的变量名默认为 <code>item</code>。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{person}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{index}} : {{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">person</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jojo"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"rose"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jack"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>使用 <code>wx:for-item</code> 可以指定数组当前元素的变量名，</p><p>使用 <code>wx:for-index</code> 可以指定数组当前下标的变量名：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{person}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for-item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ele<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for-index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>i<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{i}} : {{ele.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><p>Vue的写法：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div id="app"&gt;    &lt;div v-for="(item, index) in person" :key="item.name"&gt;      {{ index }}:{{ item.name }}    &lt;/div&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  data() {    return {      person: [{ name: "jojo" }, { name: "rose" }, { name: "jack" }],    };  },};&lt;/script&gt;</code></pre><h3 id="5-2-block-wx-for"><a href="#5-2-block-wx-for" class="headerlink" title="5.2 block wx:for"></a>5.2 block wx:for</h3><p>可以将 <code>wx:for</code> 用在<code>&lt;block/&gt;</code>标签上，以渲染一个包含多节点的结构块。</p><p><strong>注意：</strong> <code>&lt;block/&gt;</code> 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{person}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>    {{index}} : {{item.name}}  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">person</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jojo"</span><span class="token punctuation">,</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"rose"</span><span class="token punctuation">,</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jack"</span><span class="token punctuation">,</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="5-3-嵌套列表"><a href="#5-3-嵌套列表" class="headerlink" title="5.3 嵌套列表"></a>5.3 嵌套列表</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{obj}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{item.type}}：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{item.names}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for-item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{el.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"person"</span><span class="token punctuation">,</span>        <span class="token literal-property property">names</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jojo"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"rose"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jack"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"animal"</span><span class="token punctuation">,</span> <span class="token literal-property property">names</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"bird"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"dog"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="5-4-wx-key"><a href="#5-4-wx-key" class="headerlink" title="5.4 wx:key"></a>5.4 wx:key</h3><p>如果列表中项目的位置会动态改变或者有新的项目添加到列表中，并且希望列表中的项目保持自己的特征和状态（如 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html">input</a> 中的输入内容，<a href="https://developers.weixin.qq.com/miniprogram/dev/component/switch.html">switch</a> 的选中状态），需要使用 <code>wx:key</code> 来指定列表中项目的唯一的标识符。</p><p><code>wx:key</code> 的值以两种形式提供：</p><ol><li>字符串，代表在 for 循环的 array 中 item 的某个 property，该 property 的值需要是列表中唯一的字符串或数字，且不能动态改变，例如id。</li><li>保留关键字 <code>*this</code> 代表在 for 循环中的 item 本身，<strong>这种表示需要 item 本身是一个唯一的字符串或者数字</strong>。</li></ol><p>当数据改变触发渲染层重新渲染的时候，会校正带有 key 的组件，框架会确保他们被重新排序，而不是重新创建，以确保使组件保持自身的状态，并且提高列表渲染时的效率。</p><p><strong>如不提供 <code>wx:key</code>，会报一个 warning， 如果明确知道该列表是静态，或者不必关注其顺序，可以选择忽略。</strong></p><h2 id="六-条件渲染"><a href="#六-条件渲染" class="headerlink" title="六. 条件渲染"></a>六. 条件渲染</h2><h3 id="6-1-wx-if"><a href="#6-1-wx-if" class="headerlink" title="6.1 wx:if"></a>6.1 wx:if</h3><p>在框架中，使用 <code>wx:if=""</code> 来判断是否需要渲染该代码块：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{flag}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="6-2-block-wx-if"><a href="#6-2-block-wx-if" class="headerlink" title="6.2 block wx:if"></a>6.2 block wx:if</h3><p>因为 <code>wx:if</code> 是一个控制属性，需要将它添加到一个标签上。如果要一次性判断多个组件标签，可以使用一个 <code>&lt;block/&gt;</code> 标签将多个组件包装起来，并在上边使用 <code>wx:if</code> 控制属性。<strong>注意：</strong> <code>&lt;block/&gt;</code> 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{flag}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>goodbye world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="6-3-wx-elif，wx-else"><a href="#6-3-wx-elif，wx-else" class="headerlink" title="6.3 wx:elif，wx:else"></a>6.3 wx:elif，wx:else</h3><p>也可以用 <code>wx:elif</code> 和 <code>wx:else</code> 来添加一个 else 块：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{score &gt;= 90}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>优秀<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>elif</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{score &gt;= 60 &amp;&amp; score &lt; 90}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>还行<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>else</span><span class="token punctuation">&gt;</span></span>差<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">75</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="6-4-wx-if-vs-hidden"><a href="#6-4-wx-if-vs-hidden" class="headerlink" title="6.4 wx:if vs hidden"></a>6.4 wx:if vs hidden</h3><p>因为 <code>wx:if</code> 之中的模板也可能包含数据绑定，所以当 <code>wx:if</code> 的条件值切换时，框架有一个局部渲染的过程，因为它会确保条件块在切换时销毁或重新渲染。</p><p>同时 <code>wx:if</code> 也是<strong>惰性的</strong>，如果在初始渲染条件为 <code>false</code>，框架什么也不做，在条件第一次变成真的时候才开始局部渲染。</p><p>相比之下，<code>hidden</code> 就简单的多，组件始终会被渲染，只是简单的控制显示与隐藏。</p><p>一般来说，<code>wx:if</code> 有更高的切换消耗而 <code>hidden</code> 有更高的初始渲染消耗。因此，如果需要频繁切换的情景下，用 <code>hidden</code> 更好，如果在运行时条件不大可能改变则 <code>wx:if</code> 较好。</p><p>注意：<code>hidden</code>和display属性冲突。</p><h2 id="七-页面路由"><a href="#七-页面路由" class="headerlink" title="七.页面路由"></a>七.页面路由</h2><p>对于路由的触发方式以及页面生命周期函数如下：</p><table><thead><tr><th>路由方式</th><th>触发时机</th><th>调用API时，路径后是否可以携带参数</th><th>路由前页面会触发的生命周期</th><th>路由后页面会触发的生命周期</th></tr></thead><tbody><tr><td>初始化</td><td>小程序打开的第一个页面</td><td>\</td><td>\</td><td>onLoad, onShow，onReady</td></tr><tr><td>打开新页面</td><td>调用 API <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html">wx.navigateTo</a><br>使用组件<navigator open-type="navigateTo"></navigator></td><td>是。<br>参数与路径之间使用 <code>?</code> 分隔，<br>参数键与参数值用 <code>=</code> 相连，<br>不同参数用 <code>&amp;</code> 分隔；<br>如 ‘path?key=value&amp;key2=value2’</td><td>onHide</td><td>onLoad, onShow，onReady</td></tr><tr><td>页面重定向</td><td>调用 API <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html">wx.redirectTo</a><br>使用组件<navigator open-type="redirectTo"></navigator></td><td>同wx.navigateTo</td><td>onUnload</td><td>onLoad, onShow，onReady</td></tr><tr><td>页面返回</td><td>调用 API <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateBack.html">wx.navigateBack</a><br>使用组件<navigator open-type="navigateBack"><br>用户按左上角返回按钮</navigator></td><td>否</td><td>onUnload</td><td>onShow</td></tr><tr><td>Tab 切换</td><td>调用 API <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html">wx.switchTab</a><br>使用组件<navigator open-type="switchTab"><br>用户切换 Tab</navigator></td><td>否</td><td></td><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/route.html">各种情况请参考</a></td></tr><tr><td>重启动</td><td>调用 API <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.reLaunch.html">wx.reLaunch</a><br>使用组件 <navigator open-type="reLaunch"></navigator></td><td>同wx.navigateTo</td><td>onUnload</td><td>onLoad, onShow，onReady</td></tr></tbody></table><p><strong>注意：</strong></p><ul><li><code>navigateTo</code>, <code>redirectTo</code> 只能打开非 tabBar 页面。</li><li><code>switchTab</code> 只能打开 tabBar 页面。</li><li><code>reLaunch</code> 关闭所有页面，打开到应用内的某个页面。</li><li>页面底部的 tabBar 由页面决定，即只要是定义为 tabBar 的页面，底部都有 tabBar。</li><li>调用页面路由带的参数可以在目标页面的<code>onLoad</code>中获取。</li></ul><p>新建tabBar页面a，非tabBar页面b、c和d。</p><p>a跳转到 tabBar 页面index：</p><p><code>switchTab</code> ：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/a/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>switchTab<span class="token punctuation">"</span></span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../index/index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>跳转到 tabBar 页面index<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toIndex<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>跳转到 tabBar 页面index<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/a/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">toIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"../index/index"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>a跳转到非tabBar页面b：</p><p><code>navigateTo</code>：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/a/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navigate<span class="token punctuation">"</span></span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../b/index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>跳转到非tabBar页面b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toB<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>跳转到非tabBar页面b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/a/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">toB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"../b/index"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>从b页面返回上一页：</p><p><code>navigateBack</code>：</p><p>navigateBack:fail cannot navigate back at first page。 <strong>navigateBack的目标页面不能是页面栈的第一个页面！</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/b/index.wxml --&gt;</span><span class="token comment">&lt;!-- delta，当 open-type 为 'navigateBack' 时有效，表示回退的层数，不填写时默认为1，类型为数字 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navigateBack<span class="token punctuation">"</span></span> <span class="token attr-name">delta</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{1}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>返回上一页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>goBack<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>返回上一页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/b/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">delta</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 返回的页面数，如果 delta 大于现有页面数，则返回到首页。</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// wx.navigateBack(); 简写，返回1层</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>接上例，以下跳转流程为A到B ， B到C，C到D：</p><ul><li><p>wx.reLaunch()：关闭所有页面，打开到应用内的某个页面。(该页面将会没有返回按钮，因为所有页面都被干掉了)。</p><p>案例：关闭已加载的所有页面，只保留D页面。</p><p>流程：A navigateTo B , B navigateTo C ,C reLaunch D。</p><p>D页面之前的所有页面都会被关闭,只有D页面存在。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/c/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>relaunchToD<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>relaunch to d<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/c/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">relaunchToD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">reLaunch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"../d/index"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>wx.redirectTo()：关闭当前页面，跳转到应用内的某个页面。</p><p>流程：A navigateTo B , B navigateTo C , C redirectTo D。</p><p>案例：在页面D点击返回，会直接回到B。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/c/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>redirectToD<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>redirect to d<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/c/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">redirectToD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">redirectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"../d/index"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><p><code>页面栈</code>的概念：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/route.html">https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/route.html</a></p><h2 id="八-页面生命周期"><a href="#八-页面生命周期" class="headerlink" title="八.页面生命周期"></a>八.页面生命周期</h2><ul><li>onLoad(Object query)<br>页面加载时触发。一个页面只会调用一次，<strong>可以在 onLoad 的参数中获取打开当前页面路径中的参数</strong>。</li><li>onShow()<br>页面显示/切入前台时触发。</li><li>onReady()<br>页面初次渲染完成时触发。一个页面只会调用一次，代表页面已经准备妥当，<strong>可以和视图层进行交互</strong>。<br>注意：对界面内容进行设置的 API 如wx.setNavigationBarTitle，请在onReady之后进行。</li><li>onHide()<br>页面隐藏/切入后台时触发。 如 wx.navigateTo 或底部 tab 切换到其他页面，小程序切入后台等。</li><li>onUnload()<br>页面卸载时触发。如wx.redirectTo、wx.navigateBack、wx.reLaunch到其他页面时。</li></ul><p>初始进入页面时，触发的顺序是onLoad &gt; onShow &gt; onReady。但是，这并不意味着，onLoad中的所有逻辑执行完后，才会去触发其他生命周期。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/c/index.js</span><span class="token comment">// 以下3种跳转方式都可以在d页面的onLoad中获取到参数</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">relaunchToD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">reLaunch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../d/index?from=c&amp;num=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">0</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">redirectToD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">redirectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../d/index?from=c&amp;num=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">0</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">navigateToD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../d/index?from=c&amp;num=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">0</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/d/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">/**   * 生命周期函数--监听页面加载   */</span>  <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"d onLoad"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以在 onLoad 的参数中获取打开当前页面路径中的参数</span>        <span class="token comment">// onLoad中已经可以访问this.data和更新数据</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"3秒到了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">/**   * 生命周期函数--监听页面初次渲染完成   */</span>  <span class="token function">onReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"d onReady"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">/**   * 生命周期函数--监听页面显示   */</span>  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"d onShow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>下面流程为从页面D返回到页面C，可以发现返回页面C时，页面C不会再触发onLoad和onReady：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/c/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"c onLoad"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"c onShow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"c onReady"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="九-模板（拓展自习）"><a href="#九-模板（拓展自习）" class="headerlink" title="九. 模板（拓展自习）"></a>九. 模板（拓展自习）</h2><p>WXML提供模板（template），可以在模板中定义代码片段，然后在不同的地方调用。</p><p><strong>注意：不同于自定义组件，模板一般只编写结构。</strong></p><h3 id="9-1-定义和使用模板"><a href="#9-1-定义和使用模板" class="headerlink" title="9.1 定义和使用模板"></a>9.1 定义和使用模板</h3><p>使用 <code>name</code> 属性作为模板的名字，然后在<code>&lt;template/&gt;</code>内定义代码片段，如：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- template/common.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tagAndText<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token property">margin-bottom</span><span class="token punctuation">:</span>20rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span>28rpx<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>0.2em<span class="token punctuation">;</span><span class="token property">margin-right</span><span class="token punctuation">:</span> 0.5em<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>多买优惠<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 28rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>满2件，总价打7折<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="9-2-使用模板"><a href="#9-2-使用模板" class="headerlink" title="9.2 使用模板"></a>9.2 使用模板</h3><p><code>import</code>可以在任意文件中使用目标文件定义的<code>template</code>；在<code>&lt;template/&gt;</code>内使用 <code>is</code> 属性，声明需要使用的模板。如：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../template/common.wxml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">padding-left</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tagAndText<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tagAndText<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tagAndText<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="9-3-模板传值"><a href="#9-3-模板传值" class="headerlink" title="9.3 模板传值"></a>9.3 模板传值</h3><p>使用 is 属性，声明需要的使用的模板，然后将模板所需要的 data 传入：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- template/common.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tagAndText<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token property">margin-bottom</span><span class="token punctuation">:</span>20rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span>28rpx<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>0.2em<span class="token punctuation">;</span><span class="token property">margin-right</span><span class="token punctuation">:</span> 0.5em<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>{{tag || '多买优惠'}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 28rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>{{text || '满2件，总价打7折'}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../template/common.wxml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">padding-left</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tagAndText<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- 不能这么写 --&gt;</span>  <span class="token comment">&lt;!-- &lt;template is="tagAndText" tag="京东物流" text="次日必达"&gt;&lt;/template&gt; --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tagAndText<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{tag:<span class="token punctuation">'</span>京东物流<span class="token punctuation">'</span>,text:<span class="token punctuation">'</span>次日必达<span class="token punctuation">'</span>}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="十-WXS语法"><a href="#十-WXS语法" class="headerlink" title="十. WXS语法"></a>十. WXS语法</h2><p><code>WXS</code>（<em>WeiXin Script</em>）是小程序的一套脚本语言，结合 <code>WXML</code>，可以构建出页面的结构。</p><p><code>WXS</code> 与<code>JavaScript</code>是不同的语言，有自己的语法，并不和<code> JavaScript</code> 一致。</p><h3 id="10-1-WXS-有什么用？"><a href="#10-1-WXS-有什么用？" class="headerlink" title="10.1 WXS 有什么用？"></a>10.1 WXS 有什么用？</h3><p>微信为何要脱离 <code>JavaScript</code> ，单独创造一套语言呢？这要从微信小程序的底层逻辑（运行环境）讲起。</p><p>小程序的运行环境分为逻辑层和视图层，分别由2个线程管理，其中：<br><code>WXML</code> 模板和 <code>WXSS </code>样式工作在视图层，界面使用 WebView 进行渲染<br><code>JavaScript</code>代码工作在逻辑层，运行在JsCore或v8里<br>小程序在视图层与逻辑层两个线程间提供了数据传输和事件系统。这样的分离设计，带来了显而易见的好处：<br>逻辑和视图分离，即使业务逻辑计算非常繁忙，也不会阻塞渲染和用户在视图层上的交互。<br>但同时也带来了明显的<strong>坏处</strong>：<br><strong>视图层（WebView ）中不能运行JS，而逻辑层JS又无法直接修改页面DOM，</strong>数据更新及事件系统只能靠线程间通讯，但跨线程通信的成本极高，特别是需要频繁通信的场景。</p><p>从本质来讲，<code>WXS</code>是一种被限制过的、运行在视图层webview里的js。它并不是真的发明了一种新语言。</p><p><code>WXS</code>具备如下特征：<br><code>WXS</code>是可以在视图层（webview）中运行的JS。<br><code>WXS</code>是被限制过的<code>JavaScript</code>，可以进行一些简单的逻辑运算<br>故可以得出<code>WXS</code>的适用场景，主要包括：<br>数据格式处理，比如文本、日期格式化，或者国际化。<br>类比<code>Vue</code>，微信小程序的<code>WXS</code>语法 可以当做<code>Vue</code>的计算属性和<code>Vue filter过滤器</code>使用。因为<code>WXS</code>中的函数可以写在<code>{{}}</code>中 。</p><h3 id="10-2-WXS-模块"><a href="#10-2-WXS-模块" class="headerlink" title="10.2 WXS 模块"></a>10.2 WXS 模块</h3><p>WXS 代码可以编写在 <code>wxml</code> 文件中的 <code>&lt;wxs&gt;</code> 标签内，或以 <code>.wxs</code> 为后缀名的文件内。</p><p>每一个 <code>.wxs</code> 文件和<code> &lt;wxs&gt;</code> 标签都是一个单独的模块。每个模块都有自己独立的作用域。即在一个模块里面定义的变量与函数，默认为私有的，对其他模块不可见。一个模块要想对外暴露其内部的私有变量与函数，只能通过 <code>module.exports</code> 实现。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- &lt;view&gt;¥36.80元&lt;/view&gt; 目标 --&gt;</span><span class="token comment">&lt;!-- &lt;view&gt;{{price.toFixed(2)}}&lt;/view&gt; 不支持 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wxs</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../wxs/price.wxs<span class="token punctuation">"</span></span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>priceModule<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wxs</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{priceModule.priceFn(price)}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">36.8</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// priceFn.wxs</span><span class="token keyword">function</span> <span class="token function">priceFn</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token string">"¥"</span> <span class="token operator">+</span> num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"元"</span><span class="token punctuation">;</span>  <span class="token comment">// return `¥${num.toFixed(2)}元`; // 不支持</span><span class="token punctuation">}</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">priceFn</span><span class="token operator">:</span> priceFn<span class="token punctuation">,</span>  <span class="token comment">// priceFn, // 不支持</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="10-3-WXS语法参考"><a href="#10-3-WXS语法参考" class="headerlink" title="10.3  WXS语法参考"></a>10.3  WXS语法参考</h3><p><strong>注意：<code>WXS</code>基本不支持<code>ES6</code>语法。</strong></p><ul><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/02variate.html">变量</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/03annotation.html">注释</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/04operator.html">运算符</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/05statement.html">语句</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/06datatype.html">数据类型</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/07basiclibrary.html">基础类库</a></li></ul><h2 id="十一-数据缓存"><a href="#十一-数据缓存" class="headerlink" title="十一. 数据缓存"></a>十一. 数据缓存</h2><h3 id="11-1-wx-setStorageSync-string-key-any-data"><a href="#11-1-wx-setStorageSync-string-key-any-data" class="headerlink" title="11.1 wx.setStorageSync(string key, any data)"></a>11.1 wx.setStorageSync(string key, any data)</h3><p>将数据存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，是<code>wx.setStorage</code>的同步版本。</p><p>除非用户主动删除或因存储空间原因被系统清理，否则数据都一直可用。</p><p>单个 key 允许存储的最大数据长度为 1MB，所有数据存储上限为 10MB。</p><p>参数说明：</p><ul><li>string key：本地缓存中指定的 key</li><li>any data：需要存储的内容。只支持原生类型、Date、及能够通过<code>JSON.stringify</code>序列化的对象</li></ul><pre class="language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'key1'</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span>wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'key2'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">str</span><span class="token operator">:</span><span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token literal-property property">boolean</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="11-2-wx-setStorage-Object-object"><a href="#11-2-wx-setStorage-Object-object" class="headerlink" title="11.2 wx.setStorage(Object object)"></a>11.2 wx.setStorage(Object object)</h3><p>将数据存储在本地缓存中指定的 key 中。会覆盖掉原来该 key 对应的内容，是<code>wx.setStorageSync</code>的异步版本，支持Promise风格调用。</p><p>除非用户主动删除或因存储空间原因被系统清理，否则数据都一直可用。</p><p>单个 key 允许存储的最大数据长度为 1MB，所有数据存储上限为 10MB。</p><p> 参数说明：</p><table><thead><tr><th>属性</th><th>类型</th><th>默认值</th><th>必填</th><th>说明</th><th>最低版本</th></tr></thead><tbody><tr><td>key</td><td>string</td><td></td><td>是</td><td>本地缓存中指定的 key</td><td></td></tr><tr><td>data</td><td>any</td><td></td><td>是</td><td>需要存储的内容。<br>只支持原生类型、Date、及能够通过<code>JSON.stringify</code>序列化的对象。</td><td></td></tr><tr><td>encrypt</td><td>boolean</td><td>false</td><td>否</td><td>是否开启加密存储。<br>只有异步的 setStorage 接口支持开启加密存储。<br>开启后，将会对 data 使用 AES128 加密，接口回调耗时将会增加。<br>若开启加密存储，setStorage 和 getStorage 需要同时声明 encrypt 的值为 true。<br>此外，由于加密后的数据会比原始数据膨胀1.4倍，因此开启 encrypt 的情况下，单个 key 允许存储的最大数据长度为 0.7MB，所有数据存储上限为 7.1MB</td><td>2.21.3</td></tr><tr><td>success</td><td>function</td><td></td><td>否</td><td>接口调用成功的回调函数</td><td></td></tr><tr><td>fail</td><td>function</td><td></td><td>否</td><td>接口调用失败的回调函数</td><td></td></tr><tr><td>complete</td><td>function</td><td></td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td><td></td></tr></tbody></table><pre class="language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">setStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"key3"</span><span class="token punctuation">,</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="11-3-wx-setStorageSync-和-wx-setStorage的区别"><a href="#11-3-wx-setStorageSync-和-wx-setStorage的区别" class="headerlink" title="11.3 wx.setStorageSync 和 wx.setStorage的区别"></a>11.3 wx.setStorageSync 和 wx.setStorage的区别</h3><p>存完缓存需要立刻取缓存需要用同步（虽然也可以用异步的回调获取缓存，但是后续的逻辑都要写在回调函数中），存完缓存短时间不需取缓存可以用异步。可以简单这么理解，同步会阻塞js代码向下执行。</p><h3 id="11-4-wx-getStorageSync-string-key"><a href="#11-4-wx-getStorageSync-string-key" class="headerlink" title="11.4  wx.getStorageSync(string key)"></a>11.4  wx.getStorageSync(string key)</h3><p><code>wx.getStorage</code>的同步版本，从本地缓存中同步获取指定 key 的内容。</p><p>参数说明：</p><ul><li>string key：本地缓存中指定的 key</li></ul><pre class="language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'key1'</span><span class="token punctuation">)</span></code></pre><h3 id="11-5-wx-getStorage-Object-object"><a href="#11-5-wx-getStorage-Object-object" class="headerlink" title="11.5 wx.getStorage(Object object)"></a>11.5 wx.getStorage(Object object)</h3><p><code>wx.getStorageSync</code>的异步版本，从本地缓存中异步获取指定 key 的内容，支持Promise风格调用。</p><table><thead><tr><th>属性</th><th>类型</th><th>默认值</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>key</td><td>string</td><td></td><td>是</td><td>本地缓存中指定的 key</td></tr><tr><td>success</td><td>function</td><td></td><td>否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td>function</td><td></td><td>否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>function</td><td></td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><h3 id="11-6-wx-removeStorageSync-string-key"><a href="#11-6-wx-removeStorageSync-string-key" class="headerlink" title="11.6 wx.removeStorageSync(string key)"></a>11.6 wx.removeStorageSync(string key)</h3><p><code>wx.removeStorage</code> 的同步版本，从本地缓存中移除指定 key。</p><p>参数说明：</p><ul><li>string key：本地缓存中指定的 key</li></ul><pre class="language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">removeStorageSync</span><span class="token punctuation">(</span><span class="token string">'key1'</span><span class="token punctuation">)</span></code></pre><h3 id="11-7-wx-removeStorage-Object-object"><a href="#11-7-wx-removeStorage-Object-object" class="headerlink" title="11.7 wx.removeStorage(Object object)"></a>11.7 wx.removeStorage(Object object)</h3><p><code>wx.removeStorageSync</code> 的异步版本，从本地缓存中移除指定 key，支持Promise风格调用。</p><table><thead><tr><th>属性</th><th>类型</th><th>默认值</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>key</td><td>string</td><td></td><td>是</td><td>本地缓存中指定的 key</td></tr><tr><td>success</td><td>function</td><td></td><td>否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td>function</td><td></td><td>否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>function</td><td></td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><pre class="language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">removeStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"key3"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"删除缓存成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="11-8-wx-clearStorageSync"><a href="#11-8-wx-clearStorageSync" class="headerlink" title="11.8 wx.clearStorageSync()"></a>11.8 wx.clearStorageSync()</h3><p>清除所有缓存，wx.clearStorage的同步版本。</p><pre class="language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">clearStorageSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="11-9-wx-clearStorage-Object-object"><a href="#11-9-wx-clearStorage-Object-object" class="headerlink" title="11.9 wx.clearStorage(Object object)"></a>11.9 wx.clearStorage(Object object)</h3><p>清除所有缓存，wx.clearStorageSync的异步版本，支持Promise风格调用。</p><table><thead><tr><th>属性</th><th>类型</th><th>默认值</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>success</td><td>function</td><td></td><td>否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td>function</td><td></td><td>否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>function</td><td></td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><pre class="language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">clearStorageSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="十二-自定义组件"><a href="#十二-自定义组件" class="headerlink" title="十二.自定义组件"></a>十二.自定义组件</h2><p>开发者可以将页面内的功能模块抽象成自定义组件，以便在不同的页面中重复使用；也可以将复杂的页面拆分成多个低耦合的模块，有助于代码维护。自定义组件在使用时与基础组件非常相似。</p><h3 id="12-1-介绍"><a href="#12-1-介绍" class="headerlink" title="12.1 介绍"></a>12.1 介绍</h3><h4 id="12-1-1-创建自定义组件"><a href="#12-1-1-创建自定义组件" class="headerlink" title="12.1.1 创建自定义组件"></a>12.1.1 创建自定义组件</h4><p>类似于页面，一个自定义组件由 <code>json</code> <code>wxml</code> <code>wxss</code> <code>js</code> 4个文件组成。要编写一个自定义组件，首先需要在 <code>json</code> 文件中进行自定义组件声明（将 <code>component</code> 字段设为 <code>true</code> 可将这一组文件设为自定义组件）：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token comment">// components/child/child.json</span><span class="token punctuation">{</span>  <span class="token property">"component"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span></code></pre><p>同时，还要在 <code>wxml</code> 文件中编写组件模板，在 <code>wxss</code> 文件中加入组件样式，它们的写法与页面的写法类似。具体细节和注意事项参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html">组件模板和样式</a> 。</p><p>在自定义组件的 <code>js</code> 文件中，需要使用 <code>Component()</code> 来注册组件，并提供组件的属性定义、内部数据和自定义方法。</p><p>组件的属性值和内部数据将被用于组件 <code>wxml</code> 的渲染，其中，属性值是可由组件外部传入的。更多细节参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/component.html">Component构造器</a> 。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// components/child/child.js</span><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment">/**   * 组件的属性列表   */</span>  <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">otherText</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"goodbye"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">otherText</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token comment">// 简化的定义方式</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">/**   * 组件的初始数据   */</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">ownText</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="12-1-2-使用自定义组件"><a href="#12-1-2-使用自定义组件" class="headerlink" title="12.1.2 使用自定义组件"></a>12.1.2 使用自定义组件</h4><p>使用已注册的自定义组件前，首先要在页面的 <code>json</code> 文件中进行引用声明。此时需要提供每个自定义组件的标签名和对应的自定义组件文件路径：</p><p>pages/index/index.json文件：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"usingComponents"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"child"</span><span class="token operator">:</span> <span class="token string">"../../components/child/child"</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>这样，在页面的 <code>wxml</code> 中就可以像使用基础组件一样使用自定义组件。节点名即自定义组件的标签名，节点属性即传递给组件的属性值。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/index/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>这里是调用自定义组件的页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">other-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>再见<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="12-2-组件模板"><a href="#12-2-组件模板" class="headerlink" title="12.2 组件模板"></a>12.2 组件模板</h3><p>组件模板的写法与页面模板相同。组件模板与组件数据结合后生成的节点树，将被插入到组件的引用位置上。</p><p>在组件模板中可以提供一个 <code>&lt;slot&gt;</code> 节点，用于承载组件引用时提供的子节点。</p><h4 id="12-2-1-模板数据绑定"><a href="#12-2-1-模板数据绑定" class="headerlink" title="12.2.1 模板数据绑定"></a>12.2.1 模板数据绑定</h4><p>与普通的 WXML 模板类似，可以使用数据绑定，这样就可以向子组件的属性传递动态数据。</p><h4 id="12-2-2-组件-wxml-的-slot"><a href="#12-2-2-组件-wxml-的-slot" class="headerlink" title="12.2.2 组件 wxml 的 slot"></a>12.2.2 组件 wxml 的 slot</h4><p>在组件的 <code>wxml</code>中可以包含 <code>slot</code> 节点，用于承载组件使用者提供的 <code>wxml</code> 结构。</p><p><strong>默认情况下，一个组件的 <code>wxml</code> 中只能有一个 <code>slot</code> 。</strong></p><p><strong>注意：微信小程序的<code>slot</code>不支持默认值！</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- components/child/child.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>这里是组件的内部节点<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{ownText}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{otherText}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/index/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>这里是调用自定义组件的页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">other-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>再见<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>这是通过slot添加的文本<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>需要使用<code>多 slot</code> 时，必须在组件 js 中声明启用，在<code>options</code>字段中，将<code>multipleSlots</code>设置为<code>true</code>(注意这里不是在json文件中配置)：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">multipleSlots</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 在组件定义时的选项中启用多 slot 支持</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>此时，可以在这个组件的 <code>wxml</code> 中使用<code>多个 slot</code> ，以不同的 <code>name</code> 来区分。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- components/child/child.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>这里是组件的内部节点<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{ownText}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>before<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{otherText}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>after<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// components/child/child.js</span><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">multipleSlots</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">otherText</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"goodbye"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">ownText</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/index/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>这里是调用自定义组件的页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">other-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>再见<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>before<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>先插入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>after<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>后插入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="12-2-3-组件样式"><a href="#12-2-3-组件样式" class="headerlink" title="12.2.3 组件样式"></a>12.2.3 组件样式</h4><p>组件对应的 <code>wxss</code> 文件的样式，<strong>默认</strong>只对组件 <code>wxml</code>内的节点生效。编写组件样式时，需要注意：<strong>组件页面不能使用 id 选择器</strong>！</p><h3 id="12-3-组件间通信与事件"><a href="#12-3-组件间通信与事件" class="headerlink" title="12.3 组件间通信与事件"></a>12.3 组件间通信与事件</h3><p>组件间的基本通信方式有以下两种：</p><ul><li><code>WXML</code> 数据绑定：用于父组件向子组件的指定属性设置数据。</li><li>事件：用于子组件向父组件传递数据，可以传递任意数据。</li></ul><h4 id="12-3-1-触发事件"><a href="#12-3-1-触发事件" class="headerlink" title="12.3.1 触发事件"></a>12.3.1 触发事件</h4><p>自定义组件触发事件时，需要使用 <code>triggerEvent</code> 方法，指定事件名、<code>detail</code>对象和事件选项：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- components/child/child.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击这个按钮将触发“myEvent”事件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// components/child/child.js</span><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment">// 注意：自定义组件中的方法需要写在methods中，而page页面的js的方法则不需要</span>  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">handleTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// this.triggerEvent("myEvent", 'hello');</span>      <span class="token comment">// this.triggerEvent("myEvent", [1,2,3]);</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">"myEvent"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Vue的写法是this.$emit("myEvent", { a: 1, b: 2 })</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="12-3-2-监听事件"><a href="#12-3-2-监听事件" class="headerlink" title="12.3.2 监听事件"></a>12.3.2 监听事件</h4><p>自定义组件可以触发任意的事件，引用组件的页面可以监听这些事件。监听自定义组件事件的方法与监听基础组件事件的方法完全一致：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/index/index.wxml --&gt;</span><span class="token comment">&lt;!-- Vue的写法是@myEvent="handleMyEvent" --&gt;</span><span class="token comment">&lt;!-- 这里也可以写成bindmyEvent="handleMyEvent" --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name"><span class="token namespace">bind:</span>myEvent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleMyEvent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/index/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">handleMyEvent</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>自定义组件仍然可以拥有<code>id</code>属性和<code>data-xx</code>属性，属性集合仍然在事件对象的<code>currentTarget</code>和<code>target</code>属性集合里：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--pages/index/index.wxml--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>myEvent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleMyEvent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span></code></pre><p>也可以直接在自定义组件标签上绑定微信小程序原生事件，属性集合仍然在事件对象的<code>currentTarget</code>和<code>target</code>属性集合里，但是此时<code>detail</code>事件对象里没有子组件传递给父组件的参数：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--pages/index/index.wxml--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span></code></pre><p>与Vue的子组件触发事件做对比：</p><p>子组件触发事件：</p><pre class="language-vue" data-language="vue"><code class="language-vue">// App.vue&lt;template&gt;  &lt;div&gt;    &lt;child @myEvent="handleClick"&gt;&lt;/child&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import Child from './Comp.vue'export default{    components:{      Child    },    methods:{      handleClick(a,b,c){        console.log(a,b,c)      }    }  }&lt;/script&gt;</code></pre><pre class="language-vue" data-language="vue"><code class="language-vue">// Comp.vue&lt;template&gt;  &lt;button @click="handleClick"&gt;    child  &lt;/button&gt;&lt;/template&gt;&lt;script&gt;export default{    methods:{      handleClick(){        this.$emit('myEvent',1,2,3)      }    }  }&lt;/script&gt;</code></pre><h4 id="12-3-3-组件事件阻止冒泡"><a href="#12-3-3-组件事件阻止冒泡" class="headerlink" title="12.3.3 组件事件阻止冒泡"></a>12.3.3 组件事件阻止冒泡</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--components/child.wxml--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">catchtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// components/child.js</span><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">handleTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">"myEvent"</span><span class="token punctuation">,</span> <span class="token string">"child"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--index.wxml--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleParent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name"><span class="token namespace">bind:</span>myEvent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChild<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">handleChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"child"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">handleParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"parent"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="12-4-组件生命周期"><a href="#12-4-组件生命周期" class="headerlink" title="12.4 组件生命周期"></a>12.4 组件生命周期</h3><p>组件的生命周期，指的是组件自身的一些函数，这些函数在特殊的时间点或遇到一些特殊的框架事件时被自动触发。</p><h4 id="12-4-1-定义组件生命周期"><a href="#12-4-1-定义组件生命周期" class="headerlink" title="12.4.1 定义组件生命周期"></a>12.4.1 定义组件生命周期</h4><p>生命周期方法可以直接定义在 <code>Component</code> 构造器的第一级参数中。自小程序基础库版本 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.2.3</a> 起，组件的的生命周期也可以<strong>在 <code>lifetimes</code> 字段内进行声明</strong>（<strong>这是推荐的方式，其优先级最高</strong>）。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">lifetimes</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 组件实例刚刚被创建好时执行</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 在组件实例进入页面节点树时执行</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">detached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 在组件实例被从页面节点树移除时执行</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 以下是旧式的定义方式，可以保持对 &lt;2.2.3 版本基础库的兼容</span>  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 组件实例刚刚被创建好时执行</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 在组件实例进入页面节点树时执行</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">detached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 在组件实例被从页面节点树移除时执行</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// ...</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>组件实例刚刚被创建好时， <code>created</code> 生命周期被触发。此时可以访问<code>this.data</code> ，但是<strong>此时还不能调用 setData 。</strong> </p><p>在组件完全初始化完毕、进入页面节点树后， <code>attached</code> 生命周期被触发，<strong>此时可以调用 setData 。</strong> </p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// components/child/child.js</span><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">lifetimes</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 组件实例刚刚被创建好时执行</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"created"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 无效</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">ownText</span><span class="token operator">:</span> <span class="token string">"hi"</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 在组件实例进入页面节点树时执行</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"attached"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 有效</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">ownText</span><span class="token operator">:</span> <span class="token string">"hi"</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">detached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 在组件实例被从页面节点树移除时执行</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"detached"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>在组件离开页面节点树后， <code>detached</code> 生命周期被触发：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- pages/index/index.wxml --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{showChild}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toggleChild<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>控制child显示隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// pages/index/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">showChild</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">toggleChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">showChild</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>showChild<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="12-4-2-学过的生命周期"><a href="#12-4-2-学过的生命周期" class="headerlink" title="12.4.2 学过的生命周期"></a>12.4.2 学过的生命周期</h4><p>到这里基本我们学完了重要的生命周期，总结一下：</p><p>全局生命周期：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// app.js</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">onLaunch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 监听小程序初始化，全局只触发一次</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onLaunch"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 监听小程序启动或切前台</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onShow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onHide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 监听小程序切后台 </span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onHide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>页面生命周期：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// page.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment">// 监听页面加载</span>  <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onLoad"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 监听页面初次渲染完成</span>  <span class="token function">onReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onReady"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 监听页面显示   </span>  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onShow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 页面隐藏/切入后台时触发。 如 wx.navigateTo 或底部 tab 切换到其他页面，小程序切入后台等。   </span>  <span class="token function">onHide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onHide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 页面卸载时触发。如wx.redirectTo、wx.navigateBack、wx.reLaunch到其他页面时。</span>  <span class="token function">onUnload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onUnload"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="图片缩放问题"><a href="#图片缩放问题" class="headerlink" title="图片缩放问题"></a>图片缩放问题</h3><p>官方文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/component/image.html#%E5%B1%9E%E6%80%A7%E8%AF%B4%E6%98%8E">https://developers.weixin.qq.com/miniprogram/dev/component/image.html#%E5%B1%9E%E6%80%A7%E8%AF%B4%E6%98%8E</a></p><p><img src="/2022/08/07/wei-xin-xiao-cheng-xu/image-20220815171341459.png" alt="image-20220815171341459"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>interview</title>
      <link href="/2022/08/05/interview/"/>
      <url>/2022/08/05/interview/</url>
      
        <content type="html"><![CDATA[<h1 id="面试"><a href="#面试" class="headerlink" title="面试"></a>面试</h1><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><hr><h4 id="简述Chome盒模型与IE盒模型的区别："><a href="#简述Chome盒模型与IE盒模型的区别：" class="headerlink" title="简述Chome盒模型与IE盒模型的区别："></a>简述Chome盒模型与IE盒模型的区别：</h4><p>Chome：内容 = content</p><p>IE：内容 = content + padding + border</p><hr><h4 id="行内元素："><a href="#行内元素：" class="headerlink" title="行内元素："></a>行内元素：</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>del</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="行内块元素："><a href="#行内块元素：" class="headerlink" title="行内块元素："></a>行内块元素：</h4><pre class="language-html" data-language="html"><code class="language-html">img、textarea、input</code></pre><h4 id="块级元素："><a href="#块级元素：" class="headerlink" title="块级元素："></a>块级元素：</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>address</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><hr><h4 id="BFC：块级格式化上下文，"><a href="#BFC：块级格式化上下文，" class="headerlink" title="BFC：块级格式化上下文，"></a>BFC：块级格式化上下文，</h4><p>流体特征：块级水平元素，水平方向自动填充外部容器，内部子元素不会影响到外部的元素</p><p>©</p><blockquote><p>body 根元素</p><p>浮动元素：float 除 none 以外的值</p><p>绝对定位元素：position (absolute、fixed)</p><p>display 为 inline-block、table-cells、flex</p><p>overflow 除了 visible 以外的值 (hidden、auto、scroll)</p></blockquote><hr><h4 id="什么是弹性布局："><a href="#什么是弹性布局：" class="headerlink" title="什么是弹性布局："></a>什么是弹性布局：</h4><p>解决 子元素 布局方法，提供最大的灵活性，子元素<code>float、clear、vertical-align</code>失效，<code>align-self</code>定义子元素的位置</p><hr><h4 id="html5-的新特性："><a href="#html5-的新特性：" class="headerlink" title="html5 的新特性："></a>html5 的新特性：</h4><blockquote><p>1.Canvas </p><p>2.SVG 绘图</p><p>3.地理定位</p><p>4.Web worker(运行在后台的js)</p><p>5.web Storage(cookie，sessionStorage，localStorage)</p><p>6.Web Socket(全双工通信，服务器主动→客户端)</p></blockquote><hr><h4 id="position有哪些属性？7个"><a href="#position有哪些属性？7个" class="headerlink" title="position有哪些属性？7个"></a>position有哪些属性？7个</h4><hr><h4 id="请说出1px，1rem，1vh，1em各自代表的含义？"><a href="#请说出1px，1rem，1vh，1em各自代表的含义？" class="headerlink" title="请说出1px，1rem，1vh，1em各自代表的含义？"></a>请说出1px，1rem，1vh，1em各自代表的含义？</h4><p>px：像素，相对屏幕分辨率</p><p>em：相对于当前对象→相对(继承)父级元素字体大小→相对于浏览器默认</p><p>rem：相对于根 html 元素(字体大小)，其他元素rem</p><p>vw/vh：相当于屏幕的宽度和高度的 1%，宽度用%，高度vh</p><hr><h4 id="什么是SPA？"><a href="#什么是SPA？" class="headerlink" title="什么是SPA？"></a>什么是SPA？</h4><p>单页面web应用。只初始化加载html，js，css。不会因为用户的操作，进行页面的重新加载跳转，利用js动态的切换html元素。UI用户交互。展示逻辑先加载，利于内容的切换。</p><p>优点：前后端的分离；</p><p>缺点：不利于SEO，首页加载相对慢，导航不可用</p><hr><h4 id="简述优雅降级与渐进增强："><a href="#简述优雅降级与渐进增强：" class="headerlink" title="简述优雅降级与渐进增强："></a>简述优雅降级与渐进增强：</h4><p>优雅降级：构建完整的功能，对低版本浏览器进行兼容；复杂开始，减少用户体验(针对高级完善的浏览器)</p><p>渐进增强：低版本构建页面，保证基本功能，对高级浏览器交互改进追加功能；基础开始，不断扩充，适应需要。(关注内容本身)</p><hr><h4 id="重绘与重排："><a href="#重绘与重排：" class="headerlink" title="重绘与重排："></a>重绘与重排：</h4><p>1.重绘：元素外观改变，浏览器重新绘制，常见：background，visibility，outline</p><p>2.重排：渲染树重新计算，常见：几何属性，节点，offset，client系列，改浏览器大小</p><p>区别：1.重绘不一定重排。</p><p>减小重排：</p><blockquote><p>1.样式修改，多次合一次</p><p>2.多次重排，<code>position</code>为ab，fixed</p><p>3.内存操作节点，完成再添加文档</p><p>4.复杂操作，节点隐藏</p></blockquote><hr><h4 id="解释下浮动和它的工作原理？清除浮动的方法"><a href="#解释下浮动和它的工作原理？清除浮动的方法" class="headerlink" title="解释下浮动和它的工作原理？清除浮动的方法"></a>解释下浮动和它的工作原理？清除浮动的方法</h4><p>浮动：脱离文档流，不占空间，停留(遇到两种)</p><p>清除浮动的方法：</p><blockquote><p>1.浮动元素后面空标签：clear:both，(有弊端)</p><p>2.超出隐藏</p><p>3.<code>after</code>伪元素，</p><p>4.浮动外部(父)元素</p></blockquote><hr><h4 id="盒子页面水平居中"><a href="#盒子页面水平居中" class="headerlink" title="盒子页面水平居中"></a>盒子页面水平居中</h4><p>已知宽高：定位，四个0，margin：auto</p><p>未知宽高：定位，两50%，两个-50%</p><hr><h4 id="前端性能优化方案："><a href="#前端性能优化方案：" class="headerlink" title="前端性能优化方案："></a>前端性能优化方案：</h4><blockquote><p>1.dom操作少</p><p>2.http请求少</p><p>3.js优化，冗余代码少</p><p>4.代码，图片，资源压缩</p><p>5.缓存</p><p>6.cdn加速</p></blockquote><hr><h4 id="css选择器优先级顺序"><a href="#css选择器优先级顺序" class="headerlink" title="css选择器优先级顺序"></a>css选择器优先级顺序</h4><p>7种：#id；.class；属性；伪类；伪元素；标签；*；</p><hr><h4 id="css3的新特性："><a href="#css3的新特性：" class="headerlink" title="css3的新特性："></a>css3的新特性：</h4><p>圆角，阴影，文字阴影，线性渐变，旋转缩放移动倾斜，缩放，位移，媒体查询，多栏布局，背景</p><hr><h4 id="空元素：内容：br，meta，hr，link，input，img"><a href="#空元素：内容：br，meta，hr，link，input，img" class="headerlink" title="空元素：内容：br，meta，hr，link，input，img"></a>空元素：内容：br，meta，hr，link，input，img</h4><hr><h4 id="如何实现浏览器内多个标签页之间的通讯："><a href="#如何实现浏览器内多个标签页之间的通讯：" class="headerlink" title="如何实现浏览器内多个标签页之间的通讯："></a>如何实现浏览器内多个标签页之间的通讯：</h4><p>1.定时器+cookie；使用定时器刷新，检查cookie(同域可读)是否被修改(浪费资源)</p><p>2.<code>localstorage</code>:非当前页面修改<code>localstorage</code>时触发。</p><hr><h4 id="为什么要初始化css样式："><a href="#为什么要初始化css样式：" class="headerlink" title="为什么要初始化css样式："></a>为什么要初始化css样式：</h4><p>1.浏览器差异，标签默认值不同</p><p>2.提高编码质量</p><hr><h4 id="css3新增的伪类有那些-5"><a href="#css3新增的伪类有那些-5" class="headerlink" title="css3新增的伪类有那些:5"></a>css3新增的伪类有那些:5</h4><hr><h4 id="对canvas，svg，webgl的理解："><a href="#对canvas，svg，webgl的理解：" class="headerlink" title="对canvas，svg，webgl的理解："></a>对<code>canvas</code>，<code>svg</code>，<code>webgl</code>的理解：</h4><p>1.h5新增加元素对象，画布，js有api，2d，不依赖，高数据帧率</p><p>2.<code>SVG</code>给数据可以绘制点，线，图，基于XML标记语言，矢量图，底数据帧率，图形图表</p><p>3.<code>WebGL</code>，3d绘图，第三方库</p><hr><h4 id="浏览器如何渲染UI？"><a href="#浏览器如何渲染UI？" class="headerlink" title="浏览器如何渲染UI？"></a>浏览器如何渲染UI？</h4><p>1.html，解析，DOM树</p><p>2.css，解析，规则</p><p>3.dom树 + css规则 = 渲染树</p><p>4.布局阶段，节点，页面定位</p><p>5.GPU  遍历渲染树节点，元素呈现</p><hr><h4 id="em、rem区别："><a href="#em、rem区别：" class="headerlink" title="em、rem区别："></a>em、rem区别：</h4><p>em：相对于当前对象→相对(继承)父级元素字体大小→相对于浏览器默认</p><p>rem：相对于根元素HTML的字体大小</p><hr><h4 id="解释cssprites-精灵图-如可使用："><a href="#解释cssprites-精灵图-如可使用：" class="headerlink" title="解释cssprites(精灵图)如可使用："></a>解释cssprites(精灵图)如可使用：</h4><p>小图整合到大图上，减轻服务器图片数量请求</p><hr><h4 id="伪类和伪元素的区别："><a href="#伪类和伪元素的区别：" class="headerlink" title="伪类和伪元素的区别："></a>伪类和伪元素的区别：</h4><p>伪类：</p><blockquote><p>选择dom树之外的信息，普通选择器不能选择，添加选择器特殊效果</p><p>:hover:active:visited:link:visited:first-child:focus:lang 等</p><p>状态变化，到达一定状态得到伪类样式</p><p>基于文档外的抽象</p></blockquote><p>伪元素：</p><blockquote><p>dom树未定义的虚拟元素</p><p>创建不在文档中的元素</p><p>::before 和 ::after 指定元素内容的前后</p><p>基于元素的抽象，不在文档中，特殊效果添加到选择器中</p></blockquote><p>区别：</p><blockquote><p>css2都是：表示</p><p>css3:伪元素::，伪类:</p><p>定义：伪类：假的类，添加类；伪元素：假的元素，添加元素</p></blockquote><p>相同：</p><blockquote><p>都是dom树以外的元素，不在源文件中</p><p>伪类基于dom元素产生不同状态，dom某一特征</p><p>伪元素创建dom不存在的抽象对象，可以访问到</p></blockquote><hr><h4 id="浏览器的工作原理：7"><a href="#浏览器的工作原理：7" class="headerlink" title="浏览器的工作原理：7"></a>浏览器的工作原理：7</h4><p>1.用户界面；2.浏览器引擎；3.数据存储；4.渲染引擎；5.网络；6.js解释器；7.UI后端</p><img src="https://pic4.zhimg.com/80/v2-acb485cbc3d3e140e4ed7863d776abdb_720w.jpg" alt="img" style="zoom:80%;"><hr><h4 id="浏览器内核的理解："><a href="#浏览器内核的理解：" class="headerlink" title="浏览器内核的理解："></a>浏览器内核的理解：</h4><p>渲染引擎：获得网页内容html等，整理，计算页面显示，输出；不同内核不同网页语法，渲染效果不同</p><p>JS引擎：解析执行js，实现动效，独立出来</p><hr><h4 id="常见的浏览器内核：4"><a href="#常见的浏览器内核：4" class="headerlink" title="常见的浏览器内核：4"></a>常见的浏览器内核：4</h4><p>trident：ie；Gecko；Presto；Webkit：谷歌</p><hr><h4 id="一个页面上有大量的图片，加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验："><a href="#一个页面上有大量的图片，加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验：" class="headerlink" title="一个页面上有大量的图片，加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验："></a>一个页面上有大量的图片，加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验：</h4><blockquote><p>1.路由懒加载</p><p>2.图片预加载(幻灯片，相册)</p><p>3.压缩图</p><p>4.缩略图</p></blockquote><hr><h4 id="seo优化："><a href="#seo优化：" class="headerlink" title="seo优化："></a>seo优化：</h4><blockquote><p>1.合理title(重点)、descript(概括)、keywords(关键字)，权重减小，</p><p>2.语义化，搜索引擎理解</p><p>3.搜索引擎上到下，重要html内容在前面，被抓取</p><p>4.重要内容不要js输出，爬不到js内容</p><p>5.少用 iframe</p><p>6.非修饰图片加alt</p><p>7.提高网站速度</p></blockquote><hr><h4 id="实现0-5px边框：3"><a href="#实现0-5px边框：3" class="headerlink" title="实现0.5px边框：3"></a>实现0.5px边框：3</h4><p>1.<br>2.<br>3. </p><hr><h4 id="less-和-sass-的区别："><a href="#less-和-sass-的区别：" class="headerlink" title="less 和 sass 的区别："></a>less 和 sass 的区别：</h4><p>less：基于js，客户端处理；<code>@</code>；没有输出设置；不支持条件语句</p><p>sass：基于ruby，服务器处理；<code>$</code>；4种输出选项(nested，compact，compressed，expanded)；支持条件语句(if,else,for)</p><hr><h4 id="了解-xhtml和html有什么区别"><a href="#了解-xhtml和html有什么区别" class="headerlink" title="(了解)xhtml和html有什么区别:"></a>(了解)xhtml和html有什么区别:</h4><p>功能：xhtml 兼容各大浏览器，手机，pda，</p><p>书写：xhtml语法更严谨</p><ol><li>标签小写；</li><li>标签成对</li><li>标签顺序，先进后出</li><li>所有属性使用双引号</li><li>不允许使用target=”_blank”(改写为rel=”external”，并搭配JavaScript实现此效果)</li></ol><hr><h4 id="了解-img标签上title与alt属性的区别是什么"><a href="#了解-img标签上title与alt属性的区别是什么" class="headerlink" title="(了解)img标签上title与alt属性的区别是什么?"></a>(了解)img标签上title与alt属性的区别是什么?</h4><p>title：为该属性提供信息</p><p>alt：当图片不显示是用文字代表</p><hr><h4 id="了解-a标签中-active-hover-link-visited-正确的设置顺序是什么"><a href="#了解-a标签中-active-hover-link-visited-正确的设置顺序是什么" class="headerlink" title="(了解)a标签中 active hover link visited 正确的设置顺序是什么?"></a>(了解)a标签中 active hover link visited 正确的设置顺序是什么?</h4><p>lvha</p><hr><h4 id="了解-什么是FOUC（无样式内容闪烁）？你如何来避免FOUC？"><a href="#了解-什么是FOUC（无样式内容闪烁）？你如何来避免FOUC？" class="headerlink" title="(了解)什么是FOUC（无样式内容闪烁）？你如何来避免FOUC？"></a>(了解)什么是FOUC（无样式内容闪烁）？你如何来避免FOUC？</h4><p>FOUC(Flash Of Unstyled Content)–文档样式闪烁</p><p>ie先加载html文档的dom，再导入外部css，中间一段时间没有样式。</p><p>解决方法：<code>&lt;head&gt;</code>之间加入一个<code>&lt;link&gt;</code>或者<code>&lt;script&gt;</code>元素</p><hr><h4 id="了解-如何处理HTML5新标签的浏览器兼容性问题"><a href="#了解-如何处理HTML5新标签的浏览器兼容性问题" class="headerlink" title="(了解)如何处理HTML5新标签的浏览器兼容性问题"></a>(了解)如何处理HTML5新标签的浏览器兼容性问题</h4><p>法一：js 新增标签(创建出来的是内联元素，转块级和给宽高)</p><p>法二：静态资源 html5shiv 包。载入后，初始化新标签的css</p><hr><h4 id="了解-HTML5的离线储存怎么使用，工作原理能不能解析一下？"><a href="#了解-HTML5的离线储存怎么使用，工作原理能不能解析一下？" class="headerlink" title="(了解)HTML5的离线储存怎么使用，工作原理能不能解析一下？"></a>(了解)HTML5的离线储存怎么使用，工作原理能不能解析一下？</h4><hr><h4 id="了解-页面导入样式时，使用link和-import有什么区别"><a href="#了解-页面导入样式时，使用link和-import有什么区别" class="headerlink" title="(了解)页面导入样式时，使用link和@import有什么区别"></a>(了解)页面导入样式时，使用link和@import有什么区别</h4><p>link：XHTML标签，加载css还用于定义rss，rel链接属性。页面加载时，link同时加载。没有兼容问题。支持js修改样式</p><p>@import：属于css提供，加载css。页面加载完，css后加载。ie5以上才能被识别。不支持js修改样式</p><hr><h3 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h3><hr><h4 id="严格模式：-代码，严格解析，错误处理"><a href="#严格模式：-代码，严格解析，错误处理" class="headerlink" title="严格模式： 代码，严格解析，错误处理"></a>严格模式： 代码，严格解析，错误处理</h4><blockquote><p>优点：</p><p>1.消除，语法，不合理，不严谨，怪异行为</p><p>2.消除，不安全，安全</p><p>3.效率，速度</p><p>4.铺垫</p></blockquote><blockquote><p>缺点：压缩，”use strict” 文件中间，浪费字节</p></blockquote><hr><h4 id="console-log-0-1-0-2-x3D-0-3-：二进制相加，超52位，精确"><a href="#console-log-0-1-0-2-x3D-0-3-：二进制相加，超52位，精确" class="headerlink" title="console.log(0.1+0.2) != 0.3 ? ：二进制相加，超52位，精确"></a>console.log(0.1+0.2) != 0.3 ? ：二进制相加，超52位，精确</h4><hr><h4 id="pop-push-unshift-shift-的区别"><a href="#pop-push-unshift-shift-的区别" class="headerlink" title="pop(), push(), unshift(), shift()的区别"></a>pop(), push(), unshift(), shift()的区别</h4><hr><h4 id="和-区别"><a href="#和-区别" class="headerlink" title="== 和 ===区别"></a><code>==</code> 和 <code>===</code>区别</h4><hr><h4 id="事件冒泡和事件捕获区别？"><a href="#事件冒泡和事件捕获区别？" class="headerlink" title="事件冒泡和事件捕获区别？"></a>事件冒泡和事件捕获区别？</h4><p>事件冒泡：下至上，父子元素，同一事件</p><p>事件捕获：上至下，指定元素，传递</p><hr><h4 id="ES5的时候，数据类型：六"><a href="#ES5的时候，数据类型：六" class="headerlink" title="ES5的时候，数据类型：六"></a>ES5的时候，数据类型：六</h4><p>symbol ：类型对象不相等，始创建传入相同值，属性名冲突，标记</p><hr><h4 id="什么是typescript："><a href="#什么是typescript：" class="headerlink" title="什么是typescript："></a>什么是typescript：</h4><p>1.超集，可选的静态类型，类，面向对象</p><p>2.扩展，大型，兼容</p><hr><h4 id="模块化编程：内部，module变量，exports接口"><a href="#模块化编程：内部，module变量，exports接口" class="headerlink" title="模块化编程：内部，module变量，exports接口"></a>模块化编程：内部，module变量，exports接口</h4><hr><h4 id="简述javascript原型："><a href="#简述javascript原型：" class="headerlink" title="简述javascript原型："></a>简述javascript原型：</h4><p>构造函数，prototype，指向</p><p>原型链：<code>__proto__</code>，属性方法，指向原型链最终端<code>null</code>，串</p><p>有什么特点：1.继承，2.构造→原型；2.原型→构造，3.构造→实例，4.实例→原型</p><hr><h4 id="javascript中的作用域："><a href="#javascript中的作用域：" class="headerlink" title="javascript中的作用域："></a>javascript中的作用域：</h4><p>定义变量的区域，规定查找变量，访问全选</p><p>变量声明提升：声明(变和函)，</p><hr><h4 id="this对象的理解："><a href="#this对象的理解：" class="headerlink" title="this对象的理解："></a>this对象的理解：</h4><p>call()和apply()区别：传参不同，函数体内this，apply:带下标的集合，call:不固定的；call传参格式内部需要，性能好</p><hr><h4 id="js-的typeof返回几种数据类型：7"><a href="#js-的typeof返回几种数据类型：7" class="headerlink" title="js 的typeof返回几种数据类型：7"></a>js 的typeof返回几种数据类型：7</h4><hr><h4 id="闭包：函数执行，返回函数，外部变量引用，持被执行函数变量"><a href="#闭包：函数执行，返回函数，外部变量引用，持被执行函数变量" class="headerlink" title="闭包：函数执行，返回函数，外部变量引用，持被执行函数变量"></a>闭包：函数执行，返回函数，外部变量引用，持被执行函数变量</h4><blockquote><p>读取函数内变量</p><p>内存，不污染，内存消耗，性能，内存泄漏，释放内存null</p></blockquote><blockquote><p>闭包的原理：函数执行两个阶段(预编译阶段和执行阶段)闭包对象</p><p>函数作用域链的特性：</p></blockquote><blockquote><p>优点：内部函数访问外部，变量。免污染。私有成员</p><p>缺点：内存消耗，无法垃圾回收，使用量，泄漏。处理速度，作用域链的长度。得到以外的值</p></blockquote><blockquote><p>应用场景： 1.模块封装。2.循环中创建闭包，防止拿到意外值</p></blockquote><hr><h4 id="简述js继承的方式：混入式，原型式，原型链，构造函数，组合"><a href="#简述js继承的方式：混入式，原型式，原型链，构造函数，组合" class="headerlink" title="简述js继承的方式：混入式，原型式，原型链，构造函数，组合"></a>简述js继承的方式：混入式，原型式，原型链，构造函数，组合</h4><hr><h4 id="给String添加一个trim-方法：在它原型对象上replace-amp-amp-正则"><a href="#给String添加一个trim-方法：在它原型对象上replace-amp-amp-正则" class="headerlink" title="给String添加一个trim()方法：在它原型对象上replace&amp;&amp;正则"></a>给String添加一个trim()方法：在它原型对象上<code>replace</code>&amp;&amp;正则</h4><hr><h4 id="深拷贝和浅拷贝的区别："><a href="#深拷贝和浅拷贝的区别：" class="headerlink" title="深拷贝和浅拷贝的区别："></a>深拷贝和浅拷贝的区别：</h4><blockquote><p>浅拷贝：添加新指针，已存在内存</p><p>浅复制：指向内存地址，原改变，也改变</p><p>深拷贝：新指针，新内存</p><p>深复制：新内存地址，原改变，不改变</p></blockquote><hr><h4 id="如何实现深拷贝：序列化，存磁盘，反序列化"><a href="#如何实现深拷贝：序列化，存磁盘，反序列化" class="headerlink" title="如何实现深拷贝：序列化，存磁盘，反序列化"></a>如何实现深拷贝：序列化，存磁盘，反序列化</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>缺点：忽略undefined，symbol，function</p><p>实现：递归+判断类型 (数字 字符串 function是不需要拷贝的)</p><hr><h4 id="javascript-的垃圾回收机制："><a href="#javascript-的垃圾回收机制：" class="headerlink" title="javascript 的垃圾回收机制："></a>javascript 的垃圾回收机制：</h4><p>释放内存：释放所有不再使用的内存，使之成为自由内存，并可以被重新利用</p><p>垃圾：内存，没使用，没回收，浏览器结束；</p><p>垃圾收集：创建→释放</p><p>内存生命周期：系统分配(高级)，使用(变量)，释放(高级)</p><p>算法策略：标记清除，标记整理，引用计数，分代</p><p>内存泄漏：全局变量(没有var)，(忘)定时器回调函数，闭包，dom引用没清理，计时器(字符串参数)，控制台日志，两个对象彼此引用保留(循环)</p><hr><h4 id="介绍下-promise-的特性、优缺点："><a href="#介绍下-promise-的特性、优缺点：" class="headerlink" title="介绍下 promise 的特性、优缺点："></a>介绍下 promise 的特性、优缺点：</h4><p>特征：解决异步请求回调地狱</p><blockquote><p>1.三种状态</p><p>2.回调函数参数，resolve(成功执行then方法，实例)，reject(失败执行catch方法，error实例)</p><p>3.then(接收两个参数，是状态的回调)和catch方法返回一个新的 Promise实例</p><p>4.finally方法，没参数</p><p>5.all方法，参数是多个promise实例(数组)，一个触发catch，本身就调用了catch</p><p>6.race方法，一个状态改变，就返回(谁快就是谁)</p></blockquote><p>优点：</p><blockquote><p>1.作用于浏览器，统一异步的api</p><p>2.Promise 更适合处理一次性的结果，链式处理</p><p>3.回调地狱，异步代码同步化</p><p>4.异常处理方式</p></blockquote><p>缺点：</p><blockquote><p>1.无法中途取消</p><p>2.不设置回调会出错</p><p>3.pending不知进展阶段</p></blockquote><hr><h4 id="XMLhttprequest对象：ajax核心，支持异步请求，js请求响应，局部更新"><a href="#XMLhttprequest对象：ajax核心，支持异步请求，js请求响应，局部更新" class="headerlink" title="XMLhttprequest对象：ajax核心，支持异步请求，js请求响应，局部更新"></a>XMLhttprequest对象：ajax核心，支持异步请求，js请求响应，局部更新</h4><hr><h4 id="cookies，sessionStorage-和-localStorage-的区别？"><a href="#cookies，sessionStorage-和-localStorage-的区别？" class="headerlink" title="cookies，sessionStorage 和 localStorage 的区别？"></a><code>cookies</code>，<code>sessionStorage</code> 和 <code>localStorage</code> 的区别？</h4><blockquote><p>cookies：浏览器自动携带请求，体积小，后端设置，前端修改不了，设置过期时间，做状态保存，浏览器第一次访问服务器给，第二次请求携带</p><p>sessionStorage：服务器内存中，关闭浏览器</p><p>localStorage：关闭浏览器不消失，手动</p></blockquote><hr><h4 id="浏览器缓存策略：强制缓存和协商缓存，强缓优先于协商缓存。"><a href="#浏览器缓存策略：强制缓存和协商缓存，强缓优先于协商缓存。" class="headerlink" title="浏览器缓存策略：强制缓存和协商缓存，强缓优先于协商缓存。"></a>浏览器缓存策略：强制缓存和协商缓存，强缓优先于协商缓存。</h4><ul><li>强缓存，服务器通知浏览器一个缓存时间，在缓存时间内，下次请求，直接用缓存，不在时间内，执行比较缓存策略。</li><li>协商缓存，让客户端与服务器之间能实现缓存文件是否更新的验证、提升缓存的复用率，将缓存信息中的Etag和Last-Modified 通过请求发送给服务器，由服务器校验，返回304状态码时，浏览器直接使用缓存。</li></ul><p><img src="/2022/08/05/interview/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5.png" alt="浏览器的缓存策略"></p><hr><h4 id="同源策略与跨域："><a href="#同源策略与跨域：" class="headerlink" title="同源策略与跨域："></a>同源策略与跨域：</h4><p>同源是约定，浏览器安全功能；跨域：协议，域名，端口</p><hr><h4 id="跨域解决方案："><a href="#跨域解决方案：" class="headerlink" title="跨域解决方案："></a>跨域解决方案：</h4><p>后端：cors，代理；前端：JSONP，利用script标签跨域，</p><hr><h4 id="从浏览器地址栏输入URL到显示页面的步骤："><a href="#从浏览器地址栏输入URL到显示页面的步骤：" class="headerlink" title="从浏览器地址栏输入URL到显示页面的步骤："></a>从浏览器地址栏输入URL到显示页面的步骤：</h4><blockquote><p>1.dns，ip</p><p>2.响应数据，html</p><p>3.语法解析，dom结构</p><p>4.渲染</p></blockquote><hr><h4 id="JavaScript-中的作用域："><a href="#JavaScript-中的作用域：" class="headerlink" title="JavaScript 中的作用域："></a>JavaScript 中的作用域：</h4><p>变量唯一，嵌套，内存访问外层</p><hr><h4 id="解释-JavaScript-中的-null-和-undefined："><a href="#解释-JavaScript-中的-null-和-undefined：" class="headerlink" title="解释 JavaScript 中的 null 和 undefined："></a>解释 JavaScript 中的 null 和 undefined：</h4><p>null：空对象</p><p>undefined：null派生，声明未赋值</p><hr><h4 id="浏览器的事件循环："><a href="#浏览器的事件循环：" class="headerlink" title="*浏览器的事件循环："></a>*浏览器的事件循环：</h4><hr><h4 id="事件冒泡："><a href="#事件冒泡：" class="headerlink" title="事件冒泡："></a>事件冒泡：</h4><p>怎么阻止事件冒泡： event.cancelBubble 或 event.stopPropagation()</p><hr><h4 id="什么是防抖和节流？有什么区别？如何实现？"><a href="#什么是防抖和节流？有什么区别？如何实现？" class="headerlink" title="什么是防抖和节流？有什么区别？如何实现？"></a>什么是防抖和节流？有什么区别？如何实现？</h4><p>防抖：进行某个行为，一段时间内，没有行为，才响应给用户。</p><p>实现原理：每次触发事件，都触发延时调用，取消之前的延迟调用</p><p>节流：高频事件触发，限制在一段时间内只执行一次</p><p>实现原理：变量，控制一段代码，一时间内只执行一次</p><p>区别：节流：保证一定时间内都会执行，防抖：最后一次触发，执行(像打拳一样)</p><hr><h4 id="JSONP-的原理："><a href="#JSONP-的原理：" class="headerlink" title="JSONP 的原理："></a>JSONP 的原理：</h4><p><code>script</code>标签，<code>src</code>属性跨域，jsonp插入<code>script</code>，url参数，get请求</p><blockquote><p>1.创，2.插，3.返回方法调用，参数是数据，4.前端拿到传来的 方法调用</p></blockquote><hr><h4 id="异步加载JS的方式："><a href="#异步加载JS的方式：" class="headerlink" title="异步加载JS的方式："></a>异步加载JS的方式：</h4><blockquote><p>1.<code>defer</code>只能是<code>ie</code>(按顺序执行)</p><p>2.async(不会顺序)</p><p>3.创建script，插入dom，加载完callBack</p></blockquote><hr><h4 id="常见web安全及防护原理："><a href="#常见web安全及防护原理：" class="headerlink" title="*常见web安全及防护原理："></a>*常见web安全及防护原理：</h4><hr><h4 id="那些操作会造成内存泄漏"><a href="#那些操作会造成内存泄漏" class="headerlink" title="那些操作会造成内存泄漏"></a>那些操作会造成内存泄漏</h4><p>内存泄漏：创建的对象不再拥有或者需要，仍然存在</p><p>那些：全局变量(没有var)，(忘)定时器回调函数，闭包，dom引用没清理，计时器(字符串参数)，控制台日志，两个对象彼此引用保留(循环)</p><hr><h4 id="事件传播的三个阶段是什么：捕获，目标，冒泡"><a href="#事件传播的三个阶段是什么：捕获，目标，冒泡" class="headerlink" title="事件传播的三个阶段是什么：捕获，目标，冒泡"></a>事件传播的三个阶段是什么：捕获，目标，冒泡</h4><hr><h4 id="同步和异步的区别"><a href="#同步和异步的区别" class="headerlink" title="同步和异步的区别?"></a>同步和异步的区别?</h4><p>同步：浏览器请求，页面刷新</p><p>异步：浏览器后端请求，页面不刷新</p><hr><h4 id="前端如何压缩图片："><a href="#前端如何压缩图片：" class="headerlink" title="前端如何压缩图片："></a>前端如何压缩图片：</h4><blockquote><p>1.拿到上传的图片文件，</p><p>2.转成img</p><p>3.canvas压缩</p></blockquote><hr><h4 id="了解-WebSocket和HTTP的区别："><a href="#了解-WebSocket和HTTP的区别：" class="headerlink" title="(了解)WebSocket和HTTP的区别："></a>(了解)WebSocket和HTTP的区别：</h4><hr><h4 id="了解-怎么禁止js访问cookie："><a href="#了解-怎么禁止js访问cookie：" class="headerlink" title="(了解)怎么禁止js访问cookie："></a>(了解)怎么禁止js访问cookie：</h4><p>设置HttpOnly，在 cookie 设置 HttpOnly 属性，防止xss攻击</p><hr><h4 id="了解-对AMD、CMD的理解："><a href="#了解-对AMD、CMD的理解：" class="headerlink" title="(了解)对AMD、CMD的理解："></a>(了解)对AMD、CMD的理解：</h4><p>模块化编程，AMD，异步模块定义(依赖前置)，CMD，通用模块定义(CMD依赖就近)</p><hr><h4 id="了解-new操作符到底干了什么？"><a href="#了解-new操作符到底干了什么？" class="headerlink" title="(了解)new操作符到底干了什么？"></a>(了解)new操作符到底干了什么？</h4><p>1.创建空对象</p><p>2.this = 创建的对象</p><p>3.实例原型=构造原型</p><p>4.定义实例属性和方法</p><p>5.返回this</p><hr><h4 id="了解-xml和json的区别："><a href="#了解-xml和json的区别：" class="headerlink" title="(了解)xml和json的区别："></a>(了解)xml和json的区别：</h4><p>面积：json 小</p><p>传输速度：json快</p><p>结构清晰：json</p><p>交互：json 和 js 交互性</p><hr><h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><hr><h4 id="箭头函数注意点："><a href="#箭头函数注意点：" class="headerlink" title="箭头函数注意点："></a>箭头函数注意点：</h4><p>1.this，2.不argument，3.不构造，不new，不yieId，不Generator</p><hr><h4 id="Set，Map数据结构区别："><a href="#Set，Map数据结构区别：" class="headerlink" title="Set，Map数据结构区别："></a>Set，Map数据结构区别：</h4><blockquote><p>Set：重组</p><p>1.不重复(去重)，2.类数组，3.遍历，方法</p><p>Map：存储</p><p>1.键值对类集合，2.遍历，转换</p></blockquote><hr><h4 id="Promise构造函数是同步执行还是异步执行，那么-then-方法呢？"><a href="#Promise构造函数是同步执行还是异步执行，那么-then-方法呢？" class="headerlink" title="Promise构造函数是同步执行还是异步执行，那么 then 方法呢？"></a>Promise构造函数是同步执行还是异步执行，那么 then 方法呢？</h4><hr><h4 id="setTimeout、Promise、Async-x2F-Await-的区别："><a href="#setTimeout、Promise、Async-x2F-Await-的区别：" class="headerlink" title="setTimeout、Promise、Async/Await 的区别："></a>setTimeout、Promise、Async/Await 的区别：</h4><blockquote><p>setTimeout的回调，异步宏任务</p><p>Promise.then的回调，相应宏任务的微任务队列</p><p>异步代码同步化，Async函数异步代码，async返回值是promises，await后执行，微任务队列，让同步代码先执行，跳出整个 async 函数来执行后面js栈的代码。</p></blockquote><hr><h4 id="var为什么代码提升：解决函数互调"><a href="#var为什么代码提升：解决函数互调" class="headerlink" title="var为什么代码提升：解决函数互调"></a><code>var</code>为什么代码提升：解决函数互调</h4><hr><h4 id="var、let、const区别："><a href="#var、let、const区别：" class="headerlink" title="var、let、const区别："></a><code>var、let、const</code>区别：</h4><blockquote><p>重复声明变量：var ✅、let, const❌</p><p>块级作用域：var ❌、let , const✅</p><p>window 相映射：var ✅、let,const ❌</p><p>声明提升：var ✅、let ,const❌(暂存死区) [定义该变量之前的区域就是暂存性死区]</p><p>声明必赋值：const</p><p>定义不可变的量：const</p></blockquote><hr><h4 id="get和post的区别：HTTP、请求"><a href="#get和post的区别：HTTP、请求" class="headerlink" title="get和post的区别：HTTP、请求"></a>get和post的区别：HTTP、请求</h4><blockquote><p>简快高效：get</p><p>安全性：get &lt; post</p><p>参数可见：get ✅、post❌</p><p>参数类型限制：get ✅、post❌</p><p>体积：get &lt; post</p><p>缓存：get(304) ✅、post❌</p><p>参数保存历史记录：get ✅、post❌</p><p>浏览器回退时：get 无害 、post 再请求</p><p>浏览器主动catch：get ✅、post(手动)❌</p></blockquote><p>什么时候用post：</p><blockquote><p>修改、服务器、数据</p><p>1.无法用缓存</p><p>2.发送大数据</p><p>3.发送未知字符</p></blockquote><hr><h4 id="请谈谈你对ES6的理解："><a href="#请谈谈你对ES6的理解：" class="headerlink" title="请谈谈你对ES6的理解："></a>请谈谈你对ES6的理解：</h4><blockquote><p>声明变量：let 和 const（…）</p><p>解构赋值：对(典中典三位)，</p><p><code>Number</code>数字类型扩展</p><blockquote><p>数值分隔符</p><p>Number.isFinite()</p><p>Number.isNaN</p></blockquote><p><code>Function</code>函数类型扩展</p><blockquote><p>rest 参数(获取多余参数，就是<code>...</code>，不需要<code>arguments</code>)</p><p>箭头函数</p></blockquote><p><code>Array</code>数组类型扩展</p><blockquote><p>扩展运算符</p><p>Array.from 方法可以将(类数组对象，可遍历对象包括(Set/Map)) 转数组</p><p>Array.of() 一组值，转换为数组。</p></blockquote><p>Set  和  Map(键如何类型)</p><p>Proxy：元编程，拦截，过滤修改</p><p>Promise（all，race）</p><p>class：糖，原型对象清晰，面向对象</p><p>ES6模块化：<code>import、export</code></p><p>原始数据类型Symbol：对象属性名冲突，标记，防止冲突</p><p>for-of：遍历得值</p><p>模板字符串</p></blockquote><hr><h4 id="async-和-await："><a href="#async-和-await：" class="headerlink" title="async 和 await："></a>async 和 await：</h4><p>异步代码同步化，async返回值是promises，await后执行，微任务队列，让同步代码先执行，跳出整个 async 函数来执行后面js栈的代码。</p><h3 id="vue2"><a href="#vue2" class="headerlink" title="vue2"></a>vue2</h3><blockquote><p>Observer : 它的作用是给对象的属性添加 getter 和 setter，用于依赖收集和派发更新</p><p>Dep : 用于收集当前响应式对象的依赖关系,每个响应式对象包括子对象都拥有一个 Dep 实例（里面 subs 是 Watcher 实例数组）,当数据有变更时,会通过 dep.notify()通知各个 watcher。</p><p>Watcher : 观察者对象 , 实例分为渲染 watcher (render watcher),计算属性 watcher (computed watcher),侦听器 watcher（user watcher）三种。</p><h4 id="Watcher-和-Dep-的关系"><a href="#Watcher-和-Dep-的关系" class="headerlink" title="Watcher 和 Dep 的关系"></a>Watcher 和 Dep 的关系</h4><p>watcher 中实例化了 dep 并向 dep.subs 中添加了订阅者,dep 通过 notify 遍历了 dep.subs 通知每个 watcher 更新。</p></blockquote><hr><h4 id="用Vue实现样式绑定，可以用class或者内联样式："><a href="#用Vue实现样式绑定，可以用class或者内联样式：" class="headerlink" title="用Vue实现样式绑定，可以用class或者内联样式："></a>用Vue实现样式绑定，可以用class或者内联样式：</h4><p>绑定class：<code>[]</code> 或者 <code>{}</code></p><p>绑定style：<code>{}</code> 或者 <code>[{}]</code></p><hr><h4 id="vue-router-中常用的路由模式实现原理"><a href="#vue-router-中常用的路由模式实现原理" class="headerlink" title="vue-router 中常用的路由模式实现原理"></a>vue-router 中常用的路由模式实现原理</h4><p>hash：location.hash url # 后面，不包含在请求中，不影响后端，不加载页面</p><p>添加监听事件，改变hash，历史记录，更新视图，不请求页面</p><p>特点：兼容好，不美观</p><p>history: <code>HTML5</code>中 pushState() 和 replaceState() 方法，应用于历史记录站，back，forward，go基础上，修改历史记录。</p><p>共同特点：修改历史记录栈，url改变，不刷新页面，前端路由：更新视图不重新请求页面提供基础。</p><p>特点：美观，怕<strong>刷新</strong>，<strong>f5</strong>，刷新是实实在在地去请求服务器的，出现404，后端进行配置</p><hr><h4 id="vue-router几种导航钩子：5"><a href="#vue-router几种导航钩子：5" class="headerlink" title="vue-router几种导航钩子：5"></a>vue-router几种导航钩子：5</h4><p>1.全局each；2.全局解析resolve；3.全局后置each；4.路由独享enter；5.组件内守卫RouteEnter,Update,Leave</p><hr><h4 id="前端路由和后端路由的区别："><a href="#前端路由和后端路由的区别：" class="headerlink" title="前端路由和后端路由的区别："></a>前端路由和后端路由的区别：</h4><p>路由：不同url，不同的页面和内容</p><p>前端路由：重点：页面不刷新；把不用路由对应内容页面给前端做，跳转锚点路由</p><p>SPA普及：前后端分离，项目前端路由，页面不刷新</p><p>优点：</p><p>1.体验好，后台网速无关，每次后台获取，快速展现；</p><p>2.输入url访问；</p><p>3.前后端分离，方便开发</p><p>缺点：前进后退会重新请求，每利用缓存，滚动条</p><p>后端路由：切换url，向后台发请求，拼接html，传给前端。页面刷新，白屏，前后端不分离</p><p>优点：减少前端压力，html和数据拼接在服务器</p><p>缺点：项目庞大，服务器压力大；url输入不能访问；网速，白屏，用户体验</p><hr><h4 id="refs-和-el的用法"><a href="#refs-和-el的用法" class="headerlink" title="$refs 和 $el的用法:"></a>$refs 和 $el的用法:</h4><p>1.ref:在普通元素，this.$refs获取到dom元素</p><p>2.在子组件上，获取到组件实例，调用组件方法</p><p>vm.$el: 获取 vue 实例关联的dom元素，$el获取组件中的dom元素</p><hr><h4 id="vue常用的修饰符："><a href="#vue常用的修饰符：" class="headerlink" title="vue常用的修饰符："></a>vue常用的修饰符：</h4><p>.stop：不事件冒泡</p><p>.prevent：提交事件不重载</p><p>.self：不事件捕获</p><p>.capture：事件监听</p><hr><h4 id="vue中v-if与v-show的区别以及使用场景"><a href="#vue中v-if与v-show的区别以及使用场景" class="headerlink" title="vue中v-if与v-show的区别以及使用场景"></a>vue中v-if与v-show的区别以及使用场景</h4><p>v-if：dom节点是否存在，局部编译卸载，惰性，切换消耗；条件很少改变</p><p>v-show：display样式，简单的css切换，初始无论什么条件编译，dom元素保留，初始渲染消耗；频繁切换</p><hr><h4 id="v-if和v-for为什么避免一起用"><a href="#v-if和v-for为什么避免一起用" class="headerlink" title="v-if和v-for为什么避免一起用"></a>v-if和v-for为什么避免一起用</h4><p>优先级：v-for高于v-if，先循环在显示隐藏</p><p>过滤列表中的项目：替换为属性，先过滤在循环</p><p>避免渲染本该被隐藏的列表：v-if 移动到父级容器上</p><hr><h4 id="Vuex-为什么要分模块并且加命名空间"><a href="#Vuex-为什么要分模块并且加命名空间" class="headerlink" title="Vuex 为什么要分模块并且加命名空间"></a>Vuex 为什么要分模块并且加命名空间</h4><p>分模块：单一的状态树，所有状态集中到一个对象，store臃肿；store分割模块，每个模块有自己的 state，mutation，action，getter，嵌套子模块</p><p>命名空间：默认：mutation，action，getter注册全局命名空间，多模块对同一mutation，action做响应；模块封装度和复用性，添加命名，组成，所有mutation，action，getter，根据注册路径进行调整</p><hr><h4 id="使用过-Vue-SSR-吗？说说-SSR"><a href="#使用过-Vue-SSR-吗？说说-SSR" class="headerlink" title="使用过 Vue SSR 吗？说说 SSR"></a>使用过 Vue SSR 吗？说说 SSR</h4><p>ssr 服务器端渲染，服务器标签渲染html，html返回给客户端</p><p>优点：seo，首屏加载快</p><p>缺点：开发受限，只支持bC和c两钩子，外部扩展库特殊处理，nodejs运行环境，服务器负载</p><hr><h4 id="vue-中使用了哪些设计模式"><a href="#vue-中使用了哪些设计模式" class="headerlink" title="vue 中使用了哪些设计模式"></a>vue 中使用了哪些设计模式</h4><p>1.工厂(传参创实例)；2.单例(只有一个实例)；3.观察者(响应式数据)；4.发布订阅(vue事件机制)；5.修饰(@)；策略(不同场景不同行为)</p><hr><h4 id="Vue-的性能优化："><a href="#Vue-的性能优化：" class="headerlink" title="Vue 的性能优化："></a>Vue 的性能优化：</h4><ol><li>对象层级不过深</li><li>不响应式不放data中</li><li>if 、show</li><li>computed、watch</li><li>for要有key，避免if</li><li>大数据列表和表格性能优化-虚拟列表/虚拟表格</li><li>组件销毁后，内部变量事件销毁，防泄漏</li><li>图片懒加载</li><li>路由懒加载</li><li>第三发插件按需引入</li><li>keep-alive 缓存</li><li>防抖节流</li><li>ssr or 预渲染</li></ol><hr><h4 id="Vue-mixin-的使用场景和原理："><a href="#Vue-mixin-的使用场景和原理：" class="headerlink" title="Vue.mixin 的使用场景和原理："></a>Vue.mixin 的使用场景和原理：</h4><p>原理：不同组件，类似的代码，功能相对独立，抽离；组件初始化，采用策略模式对不同的属性进行合并，同名选项，恰当的方式合并，代码混入在每个组件相对独立；</p><p>mixins和vuex区别：值，变量是否受其他组件影响</p><p>mixins和组件的区别：合并混入成一个新组件，父子组件是相对独立的</p><hr><h4 id="keep-alive-使用场景和原理"><a href="#keep-alive-使用场景和原理" class="headerlink" title="keep-alive 使用场景和原理"></a>keep-alive 使用场景和原理</h4><p>内置的组件，组件的缓存，切换组件不会对当前组件进行卸载</p><p>两属性：include/exclude、允许组件缓存</p><p>两生命周期：activated/deactivated，当前组件是否是活跃状态</p><hr><h4 id="vue-set-方法原理："><a href="#vue-set-方法原理：" class="headerlink" title="vue.set 方法原理："></a>vue.set 方法原理：</h4><p>不会触发视图层更新的两种情况：</p><ol><li>响应式对象新增加属性</li><li>数组索引修改数组某项值</li></ol><p>原理：响应式数据，会给对象和数组<code>__ob__</code>属性，表示Observe实例。对象新增加属性，进行响应式跟踪，触发对象<code>__ob__</code>的dep收集到的watcher去更新，当修改数组索引，调用数组本身的splice更新数组</p><hr><h4 id="Vue-extend-作用和原理"><a href="#Vue-extend-作用和原理" class="headerlink" title="Vue.extend 作用和原理"></a>Vue.extend 作用和原理</h4><p>官解：使用vue构造器，创建一个子类，参数是包含组件选项的对象</p><p>子类构造器，vue 的核心api，使用原型继承返回vue子类，将传入组件的options和父类options进行合并</p><hr><h4 id="写过自定义指令吗-原理是什么"><a href="#写过自定义指令吗-原理是什么" class="headerlink" title="写过自定义指令吗 原理是什么"></a>写过自定义指令吗 原理是什么</h4><p>本质上：装饰器，vue对html元素的扩展，增加自定义功能，vue编译dom，会找到指令对象，执行相关方法；</p><p>五个生命函数：bind，inserted，update，componentUpdated，unbind</p><p>原理：</p><blockquote><p>ast语法树，遇到指令给当前的元素添加 <code>directives </code>属性</p><p><code>genDirectives</code>生成指令代码</p><p>patch前将指令的钩子提取到cbs中，在patch过程中调用对应的钩子</p><p>执行对应钩子，调用对应的方法</p></blockquote><p>©</p><p>与组件的区别：组件内部一般有html元素(特定样式、逻辑和功能的实体)；自定义指令一般让已存在的dom元素执行某种操作</p><hr><h4 id="Vue-模板编译原理："><a href="#Vue-模板编译原理：" class="headerlink" title="Vue 模板编译原理："></a>Vue 模板编译原理：</h4><p>将template转化成 render 函数的过程</p><blockquote><p>模板字符串转换成 element asts(解析器)</p><p>ast进行静态节点标记，虚拟dom的渲染优化(优化器)</p><p>使用 element asts 生成 render 函数代码字符串(代码生成器)</p></blockquote><hr><h4 id="生命周期钩子是如何实现的"><a href="#生命周期钩子是如何实现的" class="headerlink" title="生命周期钩子是如何实现的"></a>生命周期钩子是如何实现的</h4><p>核心：利用发布订阅模式，把用户传入生命周期钩子订阅好(内用数组存储)，创建组件实例的过程中会执行对应的钩子方法(发布)</p><hr><h4 id="vue-router如何响应路由参数的变化："><a href="#vue-router如何响应路由参数的变化：" class="headerlink" title="vue-router如何响应路由参数的变化："></a>vue-router如何响应路由参数的变化：</h4><p>路由参数的变化：使用路由参数，<code>/user/foo</code>到<code>/user/bar</code>，组件实例被复用，两个路由渲染同一个组件，复用更高效，组件的钩子函数不调用</p><p>检测路由参数变化的方法：</p><p>法一：watch 监听；</p><p>法二：导航守卫；</p><hr><h4 id="Vue中data中变量的数据值发生改变，界面没有跟着更新，是什么原因（Vue数据双向绑定失效）"><a href="#Vue中data中变量的数据值发生改变，界面没有跟着更新，是什么原因（Vue数据双向绑定失效）" class="headerlink" title="Vue中data中变量的数据值发生改变，界面没有跟着更新，是什么原因（Vue数据双向绑定失效）"></a>Vue中data中变量的数据值发生改变，界面没有跟着更新，是什么原因（Vue数据双向绑定失效）</h4><p>data 里面定义对象，里面键值没有，getter/setter 函数没有监听到属性值数据变化。</p><p>解决方法：Vue.set(obj，key，value)；thsi.$set(obj，key，value)</p><hr><h4 id="多层父子组件通讯"><a href="#多层父子组件通讯" class="headerlink" title="多层父子组件通讯"></a>多层父子组件通讯</h4><p>嵌套层级比较多的情况下，传递的事件和属性多，代码混乱，利用<code>provide/inject</code></p><hr><h4 id="父子组件通讯方式有哪些？"><a href="#父子组件通讯方式有哪些？" class="headerlink" title="父子组件通讯方式有哪些？"></a>父子组件通讯方式有哪些？</h4><blockquote><p>父→子：自定义属性 ：props</p><p>子→父：自定义事件：$emit</p><p>兄→兄：EventBus</p><p>Vuex</p><p>v-model【组件之间也可以进行双向数据绑定，本质就是绑定一个属性和事件】</p></blockquote><hr><h4 id="简述-Vue-的生命周期"><a href="#简述-Vue-的生命周期" class="headerlink" title="简述 Vue 的生命周期"></a>简述 Vue 的生命周期</h4><p>创建前/后，载入前/后，更新前/后，销毁前/后（常用有8）</p><ul><li><strong>beforeCreated：</strong>data，methods等属性还未被创建,可执行安装插件操作，例如vue.use(vuex)</li><li><strong>created：</strong>data，methods中未操作dom的方法可以正常使用，DOM结点还未渲染，发送axios请求。</li><li><strong>beforeMount：</strong>虚拟DOM已经生成，但还未挂载到真实DOM，无法获取DOM结点。</li><li><strong>mounted：</strong>DOM树上已经存在结点，页面渲染成功，我们也可以执行操作DOM操作了，也可以执行发送请求等业务。</li><li><strong>beforeCreated：</strong>当响应式数据(data)发生变化时，页面重新渲染数据之前</li><li><strong>updated：</strong>页面渲染完过后</li><li><strong>beforeDestroy：</strong>组件销毁之前，解除一些全局或自定义事件</li><li><strong>destoryed：</strong>生命周期销毁</li><li><strong>actived和deactived：</strong>mounted()和destoryed()钩子执行业务的效果</li><li><strong>errorCaptured：</strong>当捕获一个来自子孙组件的错误时被调用</li></ul><p><strong>vue3：</strong></p><ul><li>**setup()**函数在beforecreate()函数执行之前,已经执行。</li><li><strong>beforeUnmount、unmounted</strong></li></ul><hr><h4 id="第一次页面加载会触发哪几个钩子？4"><a href="#第一次页面加载会触发哪几个钩子？4" class="headerlink" title="第一次页面加载会触发哪几个钩子？4"></a>第一次页面加载会触发哪几个钩子？4</h4><hr><h4 id="Vue实现数据双向绑定的原理"><a href="#Vue实现数据双向绑定的原理" class="headerlink" title="Vue实现数据双向绑定的原理:"></a>Vue实现数据双向绑定的原理:</h4><p>通过<code>Object.defineProperty()</code>对数据劫持结合发布订阅模式，实现。</p><hr><h4 id="Vuex刷新页面数据丢失怎么解决？（Vuex数据持久化存储）"><a href="#Vuex刷新页面数据丢失怎么解决？（Vuex数据持久化存储）" class="headerlink" title="Vuex刷新页面数据丢失怎么解决？（Vuex数据持久化存储）"></a>Vuex刷新页面数据丢失怎么解决？（Vuex数据持久化存储）</h4><p>Vuex<strong>本质</strong>：一个保存在<strong>内存中的对象</strong></p><blockquote><p>法一：vuex数据保存到浏览器中(三个缓存)</p><p>法二：页面刷新再次请求数据</p><p>法三：父页面先请求数据，页面刷新前vuex数据保存到<code>sessionStorage</code></p><p>法四：使用插件：vuex-persistedstate</p></blockquote><hr><h4 id="简单讲述-vuex"><a href="#简单讲述-vuex" class="headerlink" title="简单讲述 vuex"></a>简单讲述 vuex</h4><p>状态管理模式，采用集中储存和管理所有组件的状态和数据，方便组件使用。</p><p>5属性</p><blockquote><p>state：存放数据状态(不可直接修改)</p><p>getters：类似计算属性，过滤数据</p><p>mutations：方法动态修改store中的状态数据</p><p>actions：异步操作数据，异步执行 mutations</p><p>modules：模块化</p></blockquote><hr><h4 id="Vue-如可自定义一个过滤器"><a href="#Vue-如可自定义一个过滤器" class="headerlink" title="Vue 如可自定义一个过滤器"></a>Vue 如可自定义一个过滤器</h4><p>局部过滤器：filters:{}</p><p>全局过滤器：Vue.filter(){}</p><hr><h4 id="对-keep-alive-的了解"><a href="#对-keep-alive-的了解" class="headerlink" title="对 keep-alive 的了解"></a>对 keep-alive 的了解</h4><p>包裹动态组件，缓存不活动的组件实例，避免组件重新渲染，保存组件状态</p><hr><h4 id="Vue-组件-data-为什么必须是函数"><a href="#Vue-组件-data-为什么必须是函数" class="headerlink" title="Vue 组件 data 为什么必须是函数"></a>Vue 组件 data 为什么必须是函数</h4><p>函数，复用组件，返回一次新data，每个组件创建私有的数据空间，每个组件实例维护自己的数据。对象，所有组件公用一份 data，造成一变全变</p><hr><h4 id="Vue-中怎么自定义指令"><a href="#Vue-中怎么自定义指令" class="headerlink" title="Vue 中怎么自定义指令"></a>Vue 中怎么自定义指令</h4><p>全局注册：Vue.directive()</p><p>局部注册：directives:{}</p><hr><h4 id="nextTick-是做什么的"><a href="#nextTick-是做什么的" class="headerlink" title="nextTick 是做什么的"></a>nextTick 是做什么的</h4><p>$nextTick 是 dom 更新循环结束之后执行延迟回调，在修改数据之后使用 <code>$nextTick</code> 就可以在回调获取更新后的dom</p><hr><h4 id="route-和-router-的区别"><a href="#route-和-router-的区别" class="headerlink" title="$route 和 $router 的区别"></a><code>$route</code> 和 <code>$router</code> 的区别</h4><p>$router：为 VueRouter的实例，导航到不同url，使用$router.push方法</p><p>$route：当前 router 跳转对象里面 获取参数</p><hr><h4 id="vue-cli生成的项目文件夹assets和public-static-的区别"><a href="#vue-cli生成的项目文件夹assets和public-static-的区别" class="headerlink" title="vue-cli生成的项目文件夹assets和public(static) 的区别"></a>vue-cli生成的项目文件夹assets和public(static) 的区别</h4><p>2：static；3：public</p><p>相同：都是存放静态资源，文件，图片，样式</p><p>不同点：</p><p>assets：与代码一同打包压缩上传服务器</p><p>public(static)：不会进行打包，直接上传</p><hr><h4 id="DOM渲染在哪个周期中就已经完成"><a href="#DOM渲染在哪个周期中就已经完成" class="headerlink" title="DOM渲染在哪个周期中就已经完成"></a>DOM渲染在哪个周期中就已经完成</h4><p>mounted</p><hr><h4 id="Virtual-DOM（虚拟DOM）是什么？"><a href="#Virtual-DOM（虚拟DOM）是什么？" class="headerlink" title="Virtual DOM（虚拟DOM）是什么？"></a>Virtual DOM（虚拟DOM）是什么？</h4><p>以js对象为基础的树，对象属性描述节点，对dom抽象，一系列操作映射真实dom</p><hr><h4 id="为何需要Virtual-DOM"><a href="#为何需要Virtual-DOM" class="headerlink" title="为何需要Virtual DOM"></a>为何需要Virtual DOM</h4><blockquote><p>具备平台优势：js为对象，不依赖真实平台环境，有跨平台能力</p><p>操作原生dom慢，js效率高：dom 操作放到 js 层</p><p>js 和 dom 之间做了一个缓存：</p><p>提升渲染性能：大量数据更新，对视图进行合理、高效的更新</p></blockquote><hr><h4 id="Virtual-DOM的diff算法"><a href="#Virtual-DOM的diff算法" class="headerlink" title="Virtual DOM的diff算法"></a>Virtual DOM的diff算法</h4><blockquote><p>表示dom树结构，构建真正的dom树，插入文档</p><p>状态变更，构造新对象树，新旧比较(diff)，记录差异</p><p>差异应用到步骤1的dom树上，视图更新</p></blockquote><p>通过同层的树节点进行比较，不是对树逐层遍历，时间复杂度只有O(n)</p><hr><h4 id="如何让CSS只在当前组件中起作用-scoped"><a href="#如何让CSS只在当前组件中起作用-scoped" class="headerlink" title="如何让CSS只在当前组件中起作用: scoped"></a>如何让CSS只在当前组件中起作用: scoped</h4><hr><h4 id="修改第三方库的样式"><a href="#修改第三方库的样式" class="headerlink" title="修改第三方库的样式"></a>修改第三方库的样式</h4><blockquote><p>/deep/</p><p>&gt;&gt;&gt;</p><p>::v-deep</p></blockquote><hr><h4 id="讲一讲MVVM"><a href="#讲一讲MVVM" class="headerlink" title="讲一讲MVVM:"></a>讲一讲MVVM:</h4><p><code>Model-View-ViewModel</code></p><blockquote><p>Model：数据模型</p><p>View：UI 组件</p><p>ViewModel：桥梁，数据绑定viewModel层自动将数据渲染到页面，视图变化通知vm层更新数据</p></blockquote><hr><h4 id="单向数据流和双向数据流"><a href="#单向数据流和双向数据流" class="headerlink" title="单向数据流和双向数据流"></a>单向数据流和双向数据流</h4><p>单向数据流：一个上传数据和一个下传数据进行单向数据通信，相互独立，单向数据流只能从一个方向来修改</p><p>双向数据流：Model中可以修改自己或其他Model的状态，用户的页面操作也可能修改状态，触发一连串的状态</p><hr><h4 id="说一下MVC的理解"><a href="#说一下MVC的理解" class="headerlink" title="说一下MVC的理解"></a>说一下MVC的理解</h4><p>模型-视图-控制器，m和v代码分离，不同的表现形式，mvc对应html，css，js</p><hr><h4 id="那你知道Vue3-x响应式数据原理吗？"><a href="#那你知道Vue3-x响应式数据原理吗？" class="headerlink" title="那你知道Vue3.x响应式数据原理吗？"></a>那你知道Vue3.x响应式数据原理吗？</h4><p>Proxy 代替 Object.defineProperty。直接监听对象和数组的变化，达13种拦截方法</p><p><strong>Proxy只会代理对象的第一层，那么Vue3又是怎样处理这个问题的呢？（拓展）</strong></p><p>判断当前Reflect.get的返回值是否为Object，如果是则再通过<code>reactive</code>方法做代理， 这样就实现了深度观测。</p><p><strong>监测数组的时候可能触发多次get/set，那么如何防止触发多次呢？（拓展）</strong></p><p>我们可以判断key是否为当前被代理对象target自身属性，也可以判断旧值与新值是否相等，只有满足以上两个条件之一时，才有可能执行trigger。</p><hr><h4 id="再说一下vue2-x中如何监测数组变化"><a href="#再说一下vue2-x中如何监测数组变化" class="headerlink" title="再说一下vue2.x中如何监测数组变化"></a>再说一下vue2.x中如何监测数组变化</h4><p>函数劫持的方式，重写数组的方法，将data中的数组进行原型链重写，指向自己定义的数组原型方法，调用数组api，可以通知依赖更新，对数组中的引用类型，进行递归遍历监控，实现检测数组的变化</p><hr><h4 id="Computed和Watch"><a href="#Computed和Watch" class="headerlink" title="Computed和Watch"></a><strong>Computed和Watch</strong></h4><p>Computed：本质有缓存的watcher，依赖属性变化就更新视图，用于计算比较消耗性能的，当模板中的表达式过于复杂，可以放到计算属性中</p><p>Watch：没有缓存性，观察作用，监听某些数据执行回调，深度监听，deep：true(性能消耗)；字符串形式监听</p><hr><h4 id="再说一下虚拟Dom以及key属性的作用"><a href="#再说一下虚拟Dom以及key属性的作用" class="headerlink" title="再说一下虚拟Dom以及key属性的作用"></a>再说一下虚拟Dom以及key属性的作用</h4><p>频繁操作dom元素是很昂贵的，原生js对象描述一个dom节点；</p><p>key：尽可能复用dom元素。新旧孩子节点保存映射关系，key是唯一的标识</p><hr><h4 id="Vue中组件生命周期调用顺序说一下"><a href="#Vue中组件生命周期调用顺序说一下" class="headerlink" title="Vue中组件生命周期调用顺序说一下"></a>Vue中组件生命周期调用顺序说一下</h4><p>调用：先父后子；渲染完成：先子后父</p><p>销毁：先父后子；销毁完成：先子后父</p><p>更新：先父后子；更新完：先子后父</p><hr><h4 id="组件设计应遵循什么原则"><a href="#组件设计应遵循什么原则" class="headerlink" title="组件设计应遵循什么原则"></a>组件设计应遵循什么原则</h4><blockquote><p>就近管理</p><p>高复用性</p><p>分层设计（展示层，业务层，持久层，数据层）</p><p>灵活扩展，丰富props 和 slot插槽</p></blockquote><hr><h4 id="SSR了解吗"><a href="#SSR了解吗" class="headerlink" title="SSR了解吗"></a>SSR了解吗</h4><p>服务器端渲染。vue，客户端，服务端，返回</p><p>更好seo；首屏加载快；只支持两钩子；外部扩展库，nodejs环境；服务器负载</p><hr><h4 id="在vuejs中实现防止模板渲染时闪烁的方法"><a href="#在vuejs中实现防止模板渲染时闪烁的方法" class="headerlink" title="在vuejs中实现防止模板渲染时闪烁的方法"></a>在vuejs中实现防止模板渲染时闪烁的方法</h4><p>利用：v-cloak，配合dispaly :none</p><hr><h4 id="你对Vue-js的template编译的理解？"><a href="#你对Vue-js的template编译的理解？" class="headerlink" title="你对Vue.js的template编译的理解？"></a>你对Vue.js的template编译的理解？</h4><p>转化 ast树，得到render函数，返回VNode</p><hr><h4 id="谈谈Vue-extend和Vue-component"><a href="#谈谈Vue-extend和Vue-component" class="headerlink" title="谈谈Vue.extend和Vue.component"></a>谈谈Vue.extend和Vue.component</h4><p>Vue.extend：返回 扩展实例构造器，预设部分vue实例构造器，服务于Vue.component</p><p>Vue.component() 注册全局的组件，判断第二个传进来的是Vue.extend还是普通对象(自动调用Vue.extend)</p><hr><h4 id="什么是vue的计算属性？"><a href="#什么是vue的计算属性？" class="headerlink" title="什么是vue的计算属性？"></a>什么是vue的计算属性？</h4><p>模板中太多逻辑让模板过重，难于维护。需要对数据进行复杂处理，使用多次。</p><p>好处：</p><ol><li>数据处理结构清晰</li><li>依赖于数据更新，结果自动更新</li><li>this指向vm实例</li><li>模板中写属性名字</li><li>getter 获取数据，set 方法修改数据</li><li>对比 methods(依赖数据不变也会重新计算)，computed(有缓存)</li></ol><hr><h3 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h3><hr><h4 id="小程序登录流程"><a href="#小程序登录流程" class="headerlink" title="小程序登录流程"></a>小程序登录流程</h4><ol><li>wx.login 获取临时code</li><li>将 code 通过<code>wx.request() </code>发送给后端，后端调用微信接口，返回token给前端</li><li>前端 token 缓存起来</li></ol><hr><h4 id="微信小程序双向绑定和vue的异同？"><a href="#微信小程序双向绑定和vue的异同？" class="headerlink" title="微信小程序双向绑定和vue的异同？"></a>微信小程序双向绑定和vue的异同？</h4><p>小程序 this.data 属性不能同步到视图，需要调用 this.setData()</p><hr><h4 id="小程序应用的生命周期"><a href="#小程序应用的生命周期" class="headerlink" title="小程序应用的生命周期"></a>小程序应用的生命周期</h4><blockquote><p>onLaunch() 首次触发</p><p>onShow() 初始化完成，后台进入前台</p><p>onHide() 前台进入后台</p><p>onError() 发生脚本错误</p></blockquote><hr><h4 id="小程序页面的生命周期函数？"><a href="#小程序页面的生命周期函数？" class="headerlink" title="小程序页面的生命周期函数？"></a>小程序页面的生命周期函数？</h4><blockquote><p>onLoad() 加载</p><p>onShow() 显示</p><p>onReady() 初次渲染完成</p><p>onHide() 隐藏</p><p>onUnload() 卸载，跳转到其他页面</p></blockquote><hr><h4 id="应用与页面生命周期触发的顺序"><a href="#应用与页面生命周期触发的顺序" class="headerlink" title="应用与页面生命周期触发的顺序"></a>应用与页面生命周期触发的顺序</h4><p>首次触发 应用生命</p><p>应用：onLaunch → onShow → 页面: onLoad → onShow → onReady</p><hr><h4 id="简述微信小程序原理"><a href="#简述微信小程序原理" class="headerlink" title="简述微信小程序原理"></a>简述微信小程序原理</h4><ol><li>本质：单页面应用，所有渲染和事件都在一个页面内进行，可调用原生接口</li><li>架构：数据驱动，UI 和数据分离，数据更改实现页面更新</li><li>技术：js wxml wxss</li><li>功能：webview 和 appService；展示 UI 和 处理业务逻辑、数据、接口</li><li>两部分，两进程，通过系统层 JSBridge 实现通信、ui渲染、事件处理</li></ol><hr><h4 id="小程序导入外联样式的方法？-import"><a href="#小程序导入外联样式的方法？-import" class="headerlink" title="小程序导入外联样式的方法？@import"></a>小程序导入外联样式的方法？@import</h4><hr><h4 id="哪些方法可以用来提高微信小程序的应用速度"><a href="#哪些方法可以用来提高微信小程序的应用速度" class="headerlink" title="哪些方法可以用来提高微信小程序的应用速度"></a>哪些方法可以用来提高微信小程序的应用速度</h4><ol><li>页面加载速度</li><li>用户行为预测</li><li>data大小</li><li>组件化</li></ol><hr><h4 id="webview中的页面怎么跳回小程序中？"><a href="#webview中的页面怎么跳回小程序中？" class="headerlink" title="webview中的页面怎么跳回小程序中？"></a>webview中的页面怎么跳回小程序中？</h4><p>最新版的jweixin-1.3.2.js</p><pre class="language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span>miniProgram<span class="token punctuation">.</span>navigateTo</code></pre><hr><h4 id="如何实现下拉刷新？"><a href="#如何实现下拉刷新？" class="headerlink" title="如何实现下拉刷新？"></a>如何实现下拉刷新？</h4><p>全局配置下：enablePullDownRefresh </p><p>Page 定义钩子：onPullDownRefresh  (发请求)</p><p>调用wx.stopPullDownRefresh停止下拉刷新</p><hr><h4 id="小程序的事件"><a href="#小程序的事件" class="headerlink" title="小程序的事件"></a>小程序的事件</h4><p>1.事件父类：冒泡事件/非冒泡事件</p><p>2.事件绑定：bind 不阻止事件冒泡，catch 阻止事件冒泡</p><p>3.下拉刷新</p><hr><h4 id="小程序的路由方式"><a href="#小程序的路由方式" class="headerlink" title="小程序的路由方式"></a>小程序的路由方式</h4><p>打开新页面：wx.navigateTo</p><p>页面重定向：wx.redirectTo</p><p>页面返回：wx.navigateBack</p><p>Tab 切换：wx.switchTab</p><p>重启动：wx.reLaunch</p><hr><h4 id="小程序页面间有哪些传递数据的方法"><a href="#小程序页面间有哪些传递数据的方法" class="headerlink" title="小程序页面间有哪些传递数据的方法"></a>小程序页面间有哪些传递数据的方法</h4><ol><li>全局变量中传递参数数据，globalData数据，getApp()获取</li><li>本地缓存保存数据</li><li>跳转、重定向页面，url传递数据，</li></ol><hr><h4 id="用过云开发吗？简述其功能"><a href="#用过云开发吗？简述其功能" class="headerlink" title="用过云开发吗？简述其功能"></a>用过云开发吗？简述其功能</h4><ol><li>云函数：微信服务器上的函数，如获取用户信息</li><li>数据库：直接操作json数据库，不用服务端</li><li>存储：存储文件和图片</li></ol><hr><h3 id="NodeJs"><a href="#NodeJs" class="headerlink" title="NodeJs"></a>NodeJs</h3><hr><h4 id="Http和Https的区别？"><a href="#Http和Https的区别？" class="headerlink" title="Http和Https的区别？"></a>Http和Https的区别？</h4><ol><li><p>传输信息安全不同</p><blockquote><p>http：超文本传输协议（明文传输）</p><p>https：具有安全性ssl加密传输协议</p></blockquote></li><li><p>连接方式不同</p><blockquote><p>http：无状态的</p><p>https：ssl+Http 加密传输</p></blockquote></li><li><p>端口不同</p><blockquote><p>http：80端口</p><p>https：443端口</p></blockquote></li><li><p>证书申请方式不同</p><blockquote><p>http：免费</p><p>https：交费</p></blockquote></li></ol><hr><h4 id="HTTP与TCP的关系，介绍一下TCP的三次握手，能否为两次握手，为什么？四次挥手"><a href="#HTTP与TCP的关系，介绍一下TCP的三次握手，能否为两次握手，为什么？四次挥手" class="headerlink" title="HTTP与TCP的关系，介绍一下TCP的三次握手，能否为两次握手，为什么？四次挥手"></a>HTTP与TCP的关系，介绍一下TCP的三次握手，能否为两次握手，为什么？四次挥手</h4><p><code>http</code>基于tcp协议的，客户端发请求，服务器应答。tcp属于<strong>全双工</strong>的</p><p>tcp三次握手：</p><p>1.客户端向服务端发送TCP的SYN，请求会话</p><p>2.服务端发回确认包ACK应答</p><p>3.客户端发送ACK确认包</p><p>只有两次，服务器无法确定客户端是否收到</p><img src="https://img2018.cnblogs.com/blog/1672514/201904/1672514-20190430145740399-1189450243.png" alt="img" style="zoom:80%;"><p>TCP四次挥手：</p><ol><li>客户端想要释放连接，向服务器发送报文（FIN）</li><li>服务器接收到报文，进入半关闭状态，返回ASK报文应答</li><li>释放连接，向客户端发送报文（FIN）结束会话</li><li>客户端收到报文，ASK应答</li></ol><p><img src="http://xue.cnkdl.cn:8360/static/interview/tcp1.jpeg" alt="img"></p><hr><h4 id="HTTP-method"><a href="#HTTP-method" class="headerlink" title="HTTP method"></a>HTTP method</h4><ol><li>服务器想要和http1.1兼容，为资源实现GET和HEAD方法</li><li>GET最常用的方法，用于请求服务器发送资源</li><li>HEAD 与 GET 类似，服务器响应中返回首部，不返回实体主体部分</li><li>PUT让服务器用请求的主体部分来创建该请求url命名的新文档，如果url已经存在，就用这个主体替代他</li><li>POST用来向服务器输入数据，提交表单数据提交到服务器上</li><li>TRACE在目标服务器发起环回诊断，最后服务器在TRACE响应主体中携带它收到的原始请求报文，TRACE方法用于诊断，验证请求是否如愿穿过了请求响应链</li><li>OPTIONS方法请求服务器告知支持各种功能</li><li>DELETE请求服务器删除请求url的指定资源</li></ol><hr><h4 id="HTTP状态码及其含义"><a href="#HTTP状态码及其含义" class="headerlink" title="HTTP状态码及其含义"></a>HTTP状态码及其含义</h4><table><thead><tr><th align="left">状态码</th><th align="center">类别</th><th align="center">原因短语</th></tr></thead><tbody><tr><td align="left">1XX</td><td align="center">Information（信息性状态码）</td><td align="center">接收的请求正在处理</td></tr><tr><td align="left">2XX</td><td align="center">Success（成功状态码）</td><td align="center">请求正常处理完毕</td></tr><tr><td align="left">3XX</td><td align="center">Redirection（重定向状态码）</td><td align="center">需要进行附加的操作以完成请求</td></tr><tr><td align="left">4XX</td><td align="center">Client Error（客户端错误状态码）</td><td align="center">服务器无法处理请求</td></tr><tr><td align="left">5XX</td><td align="center">Server Error（服务端错误状态码）</td><td align="center">服务器处理请求出错</td></tr><tr><td align="left">204</td><td align="center"></td><td align="center">服务器成功处理，但未返回内容。</td></tr><tr><td align="left">304</td><td align="center">Not Modified 未修改。</td><td align="center">所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源</td></tr><tr><td align="left">400</td><td align="center">Bad Request</td><td align="center">客户端请求的语法错误，服务器无法理解</td></tr><tr><td align="left">403</td><td align="center">Forbidden</td><td align="center">服务器理解请求客户端的请求，但是拒绝执行此请求</td></tr><tr><td align="left">404</td><td align="center">Not Found</td><td align="center">服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置”您所请求的资源无法找到”的个性页面</td></tr></tbody></table><hr><h4 id="为什么JavaScript是单线程？"><a href="#为什么JavaScript是单线程？" class="headerlink" title="为什么JavaScript是单线程？"></a>为什么JavaScript是单线程？</h4><ol><li>防止dom渲染冲突问题</li><li>html5中 web worker 可以实现多线程</li></ol><hr><h4 id="同步和异步任务"><a href="#同步和异步任务" class="headerlink" title="同步和异步任务"></a>同步和异步任务</h4><p>同步：在主线程上执行，前任务执行完，才能执行后任务</p><p>异步：进任务队列，只有任务队列通知主线程可以进行异步任务了，才执行</p><hr><h4 id="什么是事件循环（EventLoop）"><a href="#什么是事件循环（EventLoop）" class="headerlink" title="什么是事件循环（EventLoop）"></a>什么是事件循环（EventLoop）</h4><p>node中的事件循环和浏览器的不同</p><p>六大阶段：</p><p><img src="https://raw.githubusercontent.com/XQY279/blog/master/image/libuv.png" alt="img"></p><hr><h4 id="什么是内存泄漏，以及常见内存泄漏的原因，和排查的方法"><a href="#什么是内存泄漏，以及常见内存泄漏的原因，和排查的方法" class="headerlink" title="什么是内存泄漏，以及常见内存泄漏的原因，和排查的方法"></a>什么是内存泄漏，以及常见内存泄漏的原因，和排查的方法</h4><p>未能释放已经不再使用的内存的情况</p><p>排查方法：</p><p>正常使用可以重现内存泄漏，测试环境可以排除</p><p>偶然的内存泄漏，与特殊输入有关，代码日志定位，推荐生产环境打印内存快照</p><hr><h4 id="简述ajax原理和XmlHttpRequest对象"><a href="#简述ajax原理和XmlHttpRequest对象" class="headerlink" title="简述ajax原理和XmlHttpRequest对象"></a>简述ajax原理和XmlHttpRequest对象</h4><p>ajax原理：通过XmlHttpRequest对象来向服务器发起请求，响应回来的数据，可以在js进行处理，用js来操作dom。</p><p>XmlHttpRequest是ajax的核心机制，异步请求，向服务器提出请求和处理响应，不阻塞用户。</p><hr><h4 id="简述JWT（JSON-Web-Token）鉴权的原理"><a href="#简述JWT（JSON-Web-Token）鉴权的原理" class="headerlink" title="简述JWT（JSON Web Token）鉴权的原理"></a>简述JWT（JSON Web Token）鉴权的原理</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="http://xue.cnkdl.cn:8360/static/interview/jwt.jpg" alt="img"></h4><hr><h4 id="（了解）一个tcp接连能发几个http请求？"><a href="#（了解）一个tcp接连能发几个http请求？" class="headerlink" title="（了解）一个tcp接连能发几个http请求？"></a>（了解）一个tcp接连能发几个http请求？</h4><p>http0.1 默认一次tcp，http请求之后就会断开</p><p>http1.1请求头配置：keep-alive=true，tcp连接不断开(2小时)，一个tcp一时间支持一个http请求</p><p>http2.0 多路复用技术 Multiplexing，tcp并发多个http请求</p><hr><h4 id="（了解）NodeJs中间件原理"><a href="#（了解）NodeJs中间件原理" class="headerlink" title="（了解）NodeJs中间件原理"></a>（了解）NodeJs中间件原理</h4><p>中间件：就是一个函数（req，res，next下一个中间件）</p><p>洋葱圈模型：</p><p>最早use的中间件，最外层。处理顺序从左到右，左边接收request，右边返回response。</p><p>中间件执行两次，next之前为一次，next 后一次，控制传递给下游，下游不再有中间件或者next时，恢复上游中间件，上游中间件执行next之后的代码</p><hr><h4 id="（了解）nodejs的中间件"><a href="#（了解）nodejs的中间件" class="headerlink" title="（了解）nodejs的中间件?"></a>（了解）nodejs的中间件?</h4><p>封装所有http请求细节处理方法。一次请求包含很多工作，web应用不希望接触这么多细节处理，中间件简化和隔离基础设施和业务逻辑之间的细节，过滤器，进入具体业务处理之前过滤器处理掉</p><hr><h4 id="（了解）cookies机制和session机制的区别"><a href="#（了解）cookies机制和session机制的区别" class="headerlink" title="（了解）cookies机制和session机制的区别"></a>（了解）cookies机制和session机制的区别</h4><blockquote><p>cookie：保存客户端，减轻服务器压力，不安全</p></blockquote><blockquote><p>session：保存在服务器，相对安全，占用服务器资源</p></blockquote><hr><h4 id="（了解）你知道哪些http头部？"><a href="#（了解）你知道哪些http头部？" class="headerlink" title="（了解）你知道哪些http头部？"></a>（了解）你知道哪些http头部？</h4><blockquote><p>HTTP Request Header 常见的请求头：</p></blockquote><ol><li><p>Accept:浏览器能够处理的内容类型</p></li><li><p>Accept-Charset:浏览器能够显示的字符集</p></li><li><p>Accept-Encoding：浏览器能够处理的压缩编码</p></li><li><p>Accept-Language：浏览器当前设置的语言</p></li><li><p>Connection：浏览器与服务器之间连接的类型</p></li><li><p>Cookie：当前页面设置的任何Cookie</p></li><li><p>Host：发出请求的页面所在的域</p></li><li><p>Referer：发出请求的页面的URL</p></li><li><p>User-Agent：浏览器的用户代理字符串</p></li></ol><blockquote><p>HTTP Responses Header 常见的响应头：</p></blockquote><ol><li><p>Date：表示消息发送的时间，时间的描述格式由rfc822定义</p></li><li><p>server:服务器名字</p></li><li><p>Connection：浏览器与服务器之间连接的类型</p></li><li><p>content-type:表示后面的文档属于什么MIME类型</p></li><li><p>Cache-Control：控制HTTP缓存</p><p>其中Content-type值常用的有以下几种：</p></li></ol><ul><li>application/x-www-form-urlencoded：form表单类型 ，浏览器的原生form表单<br>application/json：序列化后的 JSON 字符串，最常用，适合 RESTful 的接口<br>text/xml：是一种使用 HTTP 作为传输协议，XML 作为编码方式的远程调用规范<br>multipart/form-data：使用表单上传文件时，必须让 form 的 enctype 等于这个值</li></ul><hr><h3 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h3><hr><h4 id="（掌握）3-那你再说一说Loader和Plugin的区别？"><a href="#（掌握）3-那你再说一说Loader和Plugin的区别？" class="headerlink" title="（掌握）3. 那你再说一说Loader和Plugin的区别？"></a>（掌握）3. 那你再说一说Loader和Plugin的区别？</h4><p>Loader：本质就是<strong>函数</strong>，对接收<strong>内容进行转换</strong>，返回转换结果，webpack只认识js，loader翻译官，对其他类型资源进行转换的<strong>预处理</strong>工作，(module.rules中进行配置，作为模块的解析规则，类型数组。每一项都是Obj，内部包含test，loader，options等属性)</p><p>Plugin：插件，基于事件流框架，<strong>扩展webpack功能</strong>，webpack运行生命周期中广播许多事件，Plugin<strong>监听这些事件</strong>，通过webpack提供的api<strong>改变输出结果</strong>。(在Plugin中单独配置，类型为数组，每一项都是Plugin的实例，参数通过构造函数传入)</p><hr><h4 id="（掌握）4-Webpack构建流程简单说一下"><a href="#（掌握）4-Webpack构建流程简单说一下" class="headerlink" title="（掌握）4.Webpack构建流程简单说一下"></a>（掌握）4.Webpack构建流程简单说一下</h4><p>串行的过程：</p><ol><li>初始化参数</li><li>开始编译</li><li>确定入口</li><li>编译模块</li><li>完成模块编译</li><li>输出资源</li><li>输出完成</li></ol><p>在以上过程中，<code>Webpack</code> 会在特定的时间点广播出特定的事件，插件在监听到感兴趣的事件后会执行特定的逻辑，并且插件可以调用 Webpack 提供的 API 改变 Webpack 的运行结果。</p><hr><h4 id="（掌握）19、webpack和gulp有什么不同？"><a href="#（掌握）19、webpack和gulp有什么不同？" class="headerlink" title="（掌握）19、webpack和gulp有什么不同？"></a>（掌握）19、webpack和gulp有什么不同？</h4><blockquote><p>gulp：重点在于规范前端开发流程，像一个产品的流水线，产品从无到有都要受到流水线的控制，通过task对整个开发过程进行构建</p></blockquote><blockquote><p>webpack：前端资源模块化管理和打包工具，松散的模块按照依赖和规则打包，符合开发环境部署的前端资源。 </p></blockquote><p>Gulp和Webpack功能实现对比：</p><hr><h4 id="（掌握）16、webpack打包文件太大怎么办"><a href="#（掌握）16、webpack打包文件太大怎么办" class="headerlink" title="（掌握）16、webpack打包文件太大怎么办?"></a>（掌握）16、webpack打包文件太大怎么办?</h4><ol><li>可以从去除不必要的插件</li><li>提取第三发库</li><li>代码压缩</li><li>代码分割</li><li>设置缓存</li></ol><hr><h4 id="（了解）5-使用webpack开发时，你用过哪些可以提高效率的插件？"><a href="#（了解）5-使用webpack开发时，你用过哪些可以提高效率的插件？" class="headerlink" title="（了解）5.使用webpack开发时，你用过哪些可以提高效率的插件？"></a>（了解）5.使用webpack开发时，你用过哪些可以提高效率的插件？</h4><ul><li><code>webpack-dashboard</code>：可以更友好的展示相关打包信息</li><li><code>webpack-merge</code>：提取公共配置，减少重复配置代码</li><li><code>speed-measure-webpack-plugin</code>：简称 SMP，分析出 Webpack 打包过程中 Loader 和 Plugin 的耗时，有助于找到构建过程中的性能瓶颈。</li><li><code>size-plugin</code>：监控资源体积变化，尽早发现问题</li><li><code>HotModuleReplacementPlugin</code>：模块热替换</li></ul><hr><h4 id="source-map是什么？生产环境怎么用？"><a href="#source-map是什么？生产环境怎么用？" class="headerlink" title="source map是什么？生产环境怎么用？"></a>source map是什么？生产环境怎么用？</h4><p><code>source map：</code>是将编译、打包、压缩后的代码映射回源代码的过程。打包后的代码可读性差，源码调试需要<code>source map</code></p><p>map文件只要不打开开发者工具，浏览器是不会加载的。</p><p>线上环境一般处理方案：</p><p><code>sourcemap</code>：通过 nginx 设置将 .map 文件只对白名单开放(公司内网)</p><hr><h4 id="（了解）7-文件监听原理呢？"><a href="#（了解）7-文件监听原理呢？" class="headerlink" title="（了解）7.文件监听原理呢？"></a>（了解）7.文件监听原理呢？</h4><p>发现源码发生<strong>变化</strong>的时，自动重新构建出新的<strong>输出文件</strong></p><p>开启监听模式的两种方法：</p><ul><li><strong>启动</strong>webpack<strong>命令</strong>时候，带上 –watch <strong>参数</strong></li><li>在 webpack 配置文件 设置 <strong>watch：true</strong></li></ul><p>缺点：需要手动刷新浏览器</p><p>原理：轮询判断最后的编辑时间是否发生变化，文件发生变化不会立即告诉监听者，先缓存起来，有等待时间在执行</p><hr><h4 id="（了解）8-说一下-Webpack-的热更新原理吧"><a href="#（了解）8-说一下-Webpack-的热更新原理吧" class="headerlink" title="（了解）8.说一下 Webpack 的热更新原理吧"></a>（了解）8.说一下 Webpack 的热更新原理吧</h4><p>热替换(HMR)。不用刷新浏览器将新模块替换掉旧模块。</p><p>HMR核心，客户端从服务器拉去更新后的文件，WDS(路由器)与浏览器之间维护了一个<code>websocket</code>，本地资源发生变化的时候，WDS向浏览器推送更新，客户端进行新旧资源对比，有差异向WDS发起ajax获取更改的内容，借助这些信息继续向WDS发起jsonp请求获取该chunk(块)更新</p><hr><h4 id="（了解）10-如何对bundle（包）体积进行监控和分析？"><a href="#（了解）10-如何对bundle（包）体积进行监控和分析？" class="headerlink" title="（了解）10. 如何对bundle（包）体积进行监控和分析？"></a>（了解）10. 如何对bundle（包）体积进行监控和分析？</h4><p>vscode 插件 Import Cost 对引入模块大小进行实时监测，利用webpack-bundle-analyzer生成 bundle 模块组成图，显示所占的体积。</p><p>bundlesize 工具包进行自动化资源体积监控</p><hr><h4 id="（了解）12-如何优化-Webpack-的构建速度？"><a href="#（了解）12-如何优化-Webpack-的构建速度？" class="headerlink" title="（了解）12. 如何优化 Webpack 的构建速度？"></a>（了解）12. 如何优化 Webpack 的构建速度？</h4><ol><li>使用高版本的 <code>webpack</code> 和 <code>Node.js</code></li><li>压缩代码</li><li>图片压缩</li><li>缩小打包作用域</li><li>提取页面公共资源</li><li>Dll</li><li>充分利用缓存提升二次构建速度</li><li>Tree shaking (摇树)</li><li>Scope hoisting(作用域提升)</li><li>动态<code>polyfill</code></li></ol><hr><h4 id="（了解）13-那代码分割的本质是什么？有什么意义呢？"><a href="#（了解）13-那代码分割的本质是什么？有什么意义呢？" class="headerlink" title="（了解）13. 那代码分割的本质是什么？有什么意义呢？"></a>（了解）13. 那代码分割的本质是什么？有什么意义呢？</h4><p>本质：源代码直接上线 和 打包成唯一脚本 main.bundle.js 两种极端方案之间中间状态</p><p>意义：用可接收的服务器性能压力增加来换取更好的用户体验</p><p>源代码直接上线：过程可控，http请求多，性能开销大</p><p>打包成唯一脚本：服务器压力小，但页面空白期长，用户体验不好</p><hr><h4 id="（了解）14-是否写过Loader？简单描述一下编写loader的思路？"><a href="#（了解）14-是否写过Loader？简单描述一下编写loader的思路？" class="headerlink" title="（了解）14.是否写过Loader？简单描述一下编写loader的思路？"></a>（了解）14.是否写过Loader？简单描述一下编写loader的思路？</h4><ul><li>支持链式调用，遵循<strong>单一职责</strong>，只负责自己要负责的事情</li><li>运行在nodejs中，调用nodejs自带的api或安装第三方模块进行调用</li><li>webpack给loader 原内容是UTF-8 格式编码字符串</li><li>尽可能异步化 Loader</li><li>Loader是无状态的</li><li>使用 loader-utils 和 schema-utils 提供的实用工具</li></ul><hr><h4 id="（了解）15-是否写过Plugin？简单描述一下编写Plugin的思路？"><a href="#（了解）15-是否写过Plugin？简单描述一下编写Plugin的思路？" class="headerlink" title="（了解）15.是否写过Plugin？简单描述一下编写Plugin的思路？"></a>（了解）15.是否写过Plugin？简单描述一下编写Plugin的思路？</h4><hr><p>webpack在运行阶段广播出事件，Plugin可以监听这些事件，特定阶段钩入想要添加的自定义功能。tapable 事件流保证了插件的有序性。</p><p>compiler 暴露了和Webpack整个生命周期相关的钩子</p><p>compilation 暴露了与模块和依赖有关的粒度更小的事件钩子</p><p>插件需要在其原型上绑定apply方法，才能访问compiler 实例</p><p>传给每给插件的compiler 和compilation对象都是同一个引用，一个插件修改了他们身上的属性，会影响后面的插件。</p><p>找出合适的事件点去完成想要的功能</p><ul><li>emit事件发生</li><li>watch-run 当依赖的文件发生变化时会触发</li></ul><p>异步的事件需要在插件处理完任务时调用回调函数通知webpack进入下一个流程，不然会卡住。</p><hr><h4 id="（了解）17、什么是长缓存？在webpack中如何做到长缓存优化？"><a href="#（了解）17、什么是长缓存？在webpack中如何做到长缓存优化？" class="headerlink" title="（了解）17、什么是长缓存？在webpack中如何做到长缓存优化？"></a>（了解）17、什么是长缓存？在webpack中如何做到长缓存优化？</h4><p>代码升级更新，浏览器需要下载新的代码，最方便方式就是引入新的文件名称。webpack可以在output中输出文件指定的chunkhash，分离经常更新的代码和框架代码。通过NameModulesPlugin或是HashedModuleldsPlugin使再次打包文件名不变。</p><hr><h4 id="（了解）18、webpack-dev-server和http服务器-如nginx-有什么区别"><a href="#（了解）18、webpack-dev-server和http服务器-如nginx-有什么区别" class="headerlink" title="（了解）18、webpack-dev-server和http服务器(如nginx)有什么区别?"></a>（了解）18、webpack-dev-server和http服务器(如nginx)有什么区别?</h4><p><code>webpack-dev-server</code>：使用内存来存储webpack开发环境下的打包文件，并且可以使用模块热更新，比传统的http服务对开发更加简单高效</p><hr><h4 id="（了解）20、前端模块化有哪些"><a href="#（了解）20、前端模块化有哪些" class="headerlink" title="（了解）20、前端模块化有哪些?"></a>（了解）20、前端模块化有哪些?</h4><p>commonJS：为了JS在后端的表现定制的，不适合前端。</p><p>AMD：依赖前置。定义模块的时候要声明其依赖的模块。</p><p>CMD：就近依赖。用到某个模块再去require。</p><hr><h4 id="（了解）1-有哪些常见的Loader？"><a href="#（了解）1-有哪些常见的Loader？" class="headerlink" title="（了解）1. 有哪些常见的Loader？"></a>（了解）1. 有哪些常见的Loader？</h4><hr><h4 id="（了解）2-有哪些常见的Plugin？你用过哪些Plugin？"><a href="#（了解）2-有哪些常见的Plugin？你用过哪些Plugin？" class="headerlink" title="（了解）2.有哪些常见的Plugin？你用过哪些Plugin？"></a>（了解）2.有哪些常见的Plugin？你用过哪些Plugin？</h4><hr><h3 id="vue3"><a href="#vue3" class="headerlink" title="vue3"></a>vue3</h3><h4 id="vue2-x2F-vue3的区别"><a href="#vue2-x2F-vue3的区别" class="headerlink" title="vue2/vue3的区别"></a>vue2/vue3的区别</h4><ol><li>vue3的<code>&lt;template&gt;</code>支持多个根标签。</li><li>vue3的<code>createApp(顶级组件)</code>创建vue实例。vue2 <code>new Vue({render：h=&gt;h(顶级组件)})</code>     挂载到id为app盒子。</li><li>context.emit 与 this.$emit 作用相同</li><li>vue3中的属性绑定：默认所有属性都绑定到根元素可用：<code>attrs</code>或者<code>context.attrs</code>获取所有属性，<code>v-bind="$attrs"</code>批量绑定属性，const {} = context.attrs 将属性分开</li></ol><p><strong>使用场景</strong> 在vue2中我们在父组件绑定click事件，子组件必须内部触发click，而<strong>vue3中在父组件绑定子组件的根元素上也会跟着绑定</strong></p><hr><h4 id="vue3为什么要使用组合式API"><a href="#vue3为什么要使用组合式API" class="headerlink" title="vue3为什么要使用组合式API"></a>vue3为什么要使用组合式API</h4><ol><li>组件有更加良好的代码组织结构；</li><li>相同代码逻辑可以在不同组件中进行完整的复用；</li></ol><hr><h4 id="vue3跨组件传值"><a href="#vue3跨组件传值" class="headerlink" title="vue3跨组件传值"></a>vue3跨组件传值</h4><p>props + emit</p><p>vuex，pinia</p><p>provide 和 inject 的注入</p><hr><h4 id="vue组合式API有哪些"><a href="#vue组合式API有哪些" class="headerlink" title="vue组合式API有哪些"></a>vue组合式API有哪些</h4><p>ref()，reactive()，watch()，生命周期函数，computed()</p><hr><h4 id="watchEffect用来代替生命周期里的onMounted和onUpdated"><a href="#watchEffect用来代替生命周期里的onMounted和onUpdated" class="headerlink" title="watchEffect用来代替生命周期里的onMounted和onUpdated"></a>watchEffect用来代替生命周期里的onMounted和onUpdated</h4><p>初始化页面的时候watchEffect里的代码会执行，当watchEffect里的数据有更新的时候同样会执行</p><p>注意watchEffect第一次运行是在组件挂载之前，如果需要访问DOM需要将我们的watchEffect放在onMounted里</p><hr><h4 id="vite和webpack的区别"><a href="#vite和webpack的区别" class="headerlink" title="vite和webpack的区别:"></a>vite和webpack的区别:</h4><p>vite：按需加载，优势在开发环境，启动是不打包，不分析模块依赖，不编译，启动速度快，浏览器动态编译缩短编译的时间。</p><p>webpack：全部加载，在启动开发服务器时先打包完再启动开发服务器</p><pre class="language-js" data-language="js"><code class="language-js">webpack会先打包，然后启动开发服务器，请求服务器时直接给予打包结果。而vite是直接启动开发服务器，请求哪个模块再对该模块进行实时编译。由于现代浏览器本身就支持<span class="token constant">ES</span> Module，会自动向依赖的Module发出请求。vite充分利用这一点，将开发环境下的模块文件，就作为浏览器要执行的文件，而不是像webpack那样进行打包合并。由于vite在启动的时候不需要打包，也就意味着不需要分析模块的依赖、不需要编译，因此启动速度非常快。当浏览器请求某个模块时，再根据需要对模块内容进行编译。这种按需动态编译的方式，极大的缩减了编译时间，项目越复杂、模块越多，vite的优势越明显。在<span class="token constant">HMR</span>方面，当改动了一个模块后，仅需让浏览器重新请求该模块即可，不像webpack那样需要把该模块的相关依赖模块全部编译一次，效率更高。当需要打包到生产环境时，vite使用传统的rollup进行打包，因此，vite的主要优势在开发阶段。另外，由于vite利用的是<span class="token constant">ES</span> Module，因此在代码中不可以使用CommonJS</code></pre><hr><h4 id="vite创建vue项目和vue-cli创建项目的区别"><a href="#vite创建vue项目和vue-cli创建项目的区别" class="headerlink" title="vite创建vue项目和vue-cli创建项目的区别:"></a>vite创建vue项目和vue-cli创建项目的区别:</h4><p>vite是web开发构建工具</p><p>vue-cli是官方的vue.js项目脚手架</p><hr><h3 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a><strong>TypeScript</strong></h3><hr><h4 id="什么是TypeScript？"><a href="#什么是TypeScript？" class="headerlink" title="什么是TypeScript？"></a>什么是TypeScript？</h4><p>1.超集，可选的静态类型，类，面向对象(如：类，接口，继承，泛型等)</p><p>2.扩展，大型，兼容</p><p>3.TypeScript不直接在浏览器上运行，需要编译器编译成纯js来运行</p><hr><h4 id="为什么要使用-TypeScript-TypeScript-相对于-JavaScript-的优势是什么？"><a href="#为什么要使用-TypeScript-TypeScript-相对于-JavaScript-的优势是什么？" class="headerlink" title="为什么要使用 TypeScript ? TypeScript 相对于 JavaScript 的优势是什么？"></a>为什么要使用 TypeScript ? TypeScript 相对于 JavaScript 的优势是什么？</h4><p>增加了静态类型，开发人员编写脚本时检测错误，使得代码质量更好，更健壮。</p><p>优势：</p><blockquote><ol><li>杜绝手误导致变量名写错；</li><li>类型可以一定程度上充当文档；</li><li>IDE自动填充，自动联想</li></ol></blockquote><hr><h4 id="TypeScript-中-const-和-readonly-的区别？枚举和常量枚举的区别？接口和类型别名的区别？"><a href="#TypeScript-中-const-和-readonly-的区别？枚举和常量枚举的区别？接口和类型别名的区别？" class="headerlink" title="TypeScript 中 const 和 readonly 的区别？枚举和常量枚举的区别？接口和类型别名的区别？"></a>TypeScript 中 const 和 readonly 的区别？枚举和常量枚举的区别？接口和类型别名的区别？</h4><ul><li>const：防止变量的值被修改。readonly：防止变量的属性被修改。</li><li>普通枚举：会生成真实存在的对象。常量枚举：不会生成真实存在的对象，而是利用枚举成员的值直接<strong>替换</strong>使用到的地方。</li><li>接口和类型别名：两者都可以用来描述对象或函数的类型。类型别名还可以用于其他类型，如基本类型，联合类型，元组</li></ul><hr><h4 id="typescript中内置类型"><a href="#typescript中内置类型" class="headerlink" title="typescript中内置类型"></a>typescript中内置类型</h4><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"jimmy"</span><span class="token punctuation">;</span><span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span><span class="token keyword">let</span> bool<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token keyword">let</span> n<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj<span class="token operator">:</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> big<span class="token operator">:</span> bigint <span class="token operator">=</span> <span class="token number">100n</span><span class="token punctuation">;</span><span class="token keyword">let</span> sym<span class="token operator">:</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"me"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><hr><h4 id="null和undefined的区别"><a href="#null和undefined的区别" class="headerlink" title="null和undefined的区别"></a>null和undefined的区别</h4><p>默认情况下<code>null</code>和<code>undefined</code>是所有类型的子类型，可把null和undefined赋值给其他类型。</p><hr><h4 id="number和bigint"><a href="#number和bigint" class="headerlink" title="number和bigint"></a>number和bigint</h4><p>都表示数字，但是两个类型不相容。</p><hr><h4 id="any和unknown"><a href="#any和unknown" class="headerlink" title="any和unknown"></a>any和unknown</h4><p>any：任何类型的值可以赋值给<code>any</code>，同时<code>any</code>类型的值也可以赋值给任何型</p><p>unknown：如何类型的值都可以赋值给它，但它只能赋值给<code>unknown</code>和<code>any</code></p><p>可以使用<code>typeof</code>、类型断言等方式来缩小类型范围。</p><hr><h4 id="object、Object-和"><a href="#object、Object-和" class="headerlink" title="object、Object 和 {}"></a>object、Object 和 {}</h4><ul><li><strong>object：</strong>代表所有非原始的数据类型，不能把<code>number</code>和<code>string</code>和<code>boolean</code>和<code>symbol</code>赋值给object，严格模式下<code>null</code>和<code>undefined</code>也不行</li><li><strong>Object ：</strong>包含原始类型。</li><li>{}：原始类型和非原始类型的集合，严格模式下，null 和 undefined也不能赋值给<code>{}</code></li></ul><p>结论：{}、<code>Object</code>是比<code>object</code>更广泛的类型，{} 和大 Object 可以互相代替，用来表示原始类型（<strong>null、undefined 除外</strong>）和非原始数据类型；而object 表示非原始类型。</p><hr><h4 id="void"><a href="#void" class="headerlink" title="void"></a>void</h4><p>表示没有任何类型：和其他类型是平等的。不能直接赋值。</p><p>只能为它赋予<code>null</code>和<code>undefined</code>。一般只有<strong>函数没有返回值</strong>时去声明。</p><p><strong>注意：</strong>方法没有返回值将得到<code>undefined</code>，但是我们要定义<code>void</code>类型，不是<code>undefined</code>类型。</p><hr><h4 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h4><p><strong>函数重载或方法重载是使用相同名称和不同参数数量或者类型创建多个方法的一种能力。</strong></p><p>同一个函数提供多个函数类型定义来进行函数重载，编译器会根据这个列表去处理函数的调用。</p><hr><h4 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h4><ul><li><p>对字符串数组类型定义两种方式：</p><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">let</span> arr<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string">"2"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> arr2<span class="token operator">:</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string">"2"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p>联合类型数组：</p><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">let</span> arr3<span class="token operator">:</span><span class="token punctuation">(</span>num <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p>指定对象成员的数组：</p><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Arrobj</span><span class="token punctuation">{</span>    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token keyword">let</span> arr4<span class="token operator">:</span>Arrobj<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">"jimmy"</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre></li></ul><hr><h4 id="never类型"><a href="#never类型" class="headerlink" title="never类型"></a>never类型</h4><p><code>never</code>类型表示的是那些永不存在的值的类型；</p><p>值会永不存在的两种情况：</p><ol><li>函数执行<strong>抛出异常</strong>：函数永远不存在返回值。</li><li>函数中执行<strong>无限循环</strong>的代码(死循环)，</li></ol><hr><h4 id="接口和类型别名type有什么区别"><a href="#接口和类型别名type有什么区别" class="headerlink" title="接口和类型别名type有什么区别"></a>接口和类型别名type有什么区别</h4><ul><li><strong>接口：</strong>可以继承，还可以重复声明，当有多个命名一样的接口，被定义的类型会发生<strong>合并</strong>，但是不支持（联合/交叉类型）</li><li><strong>类型别名：</strong>不可以继承，也不可以重复定义（会覆盖掉），支持使用联合类型和交叉类型。</li></ul><hr><h4 id="类型收窄"><a href="#类型收窄" class="headerlink" title="类型收窄"></a>类型收窄</h4><ul><li>从<strong>宽类型</strong>转换成<strong>窄类型</strong>的过程，常用于处理<strong>联合类型变量</strong>的场景。</li><li>收窄类型：<ul><li>类型断言</li><li>类型守卫</li><li>双重类型</li></ul></li></ul><hr><h4 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h4><ul><li><p>明确告诉ts值的详细类型</p><pre class="language-ts" data-language="ts"><code class="language-ts">值 <span class="token keyword">as</span> 类型or<span class="token operator">&lt;</span>类型<span class="token operator">&gt;</span>值</code></pre></li><li><p><code>tsx</code>语法：<code>&lt;&gt;</code>容易跟泛型语法起冲突，建议统一使用<code>值 as 类型</code></p></li><li><p>当<code>ts</code>不确定一个联合类型的变量是那个类型，<strong>只能访问此联合类型的所有类型中共有的属性或方法。</strong></p></li><li><p>欺骗ts，无法避免运行时的错误。</p></li><li><p>尽量避免断言后调用方法或引用深层属性，以减少不必要的运行时错误。</p></li></ul><hr><h4 id="类型保护的方式有哪些"><a href="#类型保护的方式有哪些" class="headerlink" title="类型保护的方式有哪些"></a>类型保护的方式有哪些</h4><ul><li>联合类型<ul><li>联合类型结合<code>if/else</code>判断语句，保护类型，指定类型才能调用指定的方法</li></ul></li><li>in 语法<ul><li>当类型区别于其他方法有特定的属性是可以用in语法来保护类型启动对应的类型方法和属性等。</li></ul></li><li>typeof<ul><li>某数据类型是指定的某原始类型，可以用<code>typeof</code>结合<code>===</code>l运算符进行类型保护</li></ul></li><li>instanceof语法<ul><li>判断某对象类型数据是否来自于对应的构造函数(instanceof用于检查构造函数的prototype属性是否存在于某实例里)</li></ul></li></ul><hr><h4 id="元祖越界问题"><a href="#元祖越界问题" class="headerlink" title="元祖越界问题"></a>元祖越界问题</h4><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">let</span> aaa<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 添加时不会报错</span>aaa<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 打印整个元祖不会报错</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aaa<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['aaa',5,6];</span><span class="token comment">// 打印添加的元素时会报错</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aaa<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error</span></code></pre><hr><h4 id="常量枚举与普通枚举的区别"><a href="#常量枚举与普通枚举的区别" class="headerlink" title="常量枚举与普通枚举的区别"></a>常量枚举与普通枚举的区别</h4><ul><li>常量枚举会在编译阶段被删除</li><li>枚举成员只能是常量成员</li><li>常量枚举不能包含计算成员，如果包含了计算成员，会在编译阶段就报错</li></ul><hr><h4 id="什么是函数类型接口"><a href="#什么是函数类型接口" class="headerlink" title="什么是函数类型接口"></a>什么是函数类型接口</h4><ul><li><p>对方法传入的参数和返回值进行约束</p><p><strong>注意区别：</strong></p><ul><li><p>普通接口</p><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">discount1</span><span class="token punctuation">{</span>  <span class="token function-variable function">getNum</span> <span class="token operator">:</span> <span class="token punctuation">(</span>price<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span><span class="token punctuation">}</span></code></pre></li><li><p>函数类型接口</p><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">discount2</span><span class="token punctuation">{</span>  <span class="token comment">// 注意:</span>  <span class="token comment">// “:” 前面的是函数的签名，用来约束函数的参数</span>  <span class="token comment">// ":" 后面的用来约束函数的返回值</span>  <span class="token punctuation">(</span>price<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token keyword">let</span> cost<span class="token operator">:</span><span class="token function-variable function">discount2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>price<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>   <span class="token keyword">return</span> price <span class="token operator">*</span> <span class="token number">.8</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>类型别名</p><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span><span class="token keyword">let</span> add<span class="token operator">:</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b</code></pre></li></ul></li></ul><hr><h4 id="继承-vs-多态"><a href="#继承-vs-多态" class="headerlink" title="继承 vs 多态"></a>继承 vs 多态</h4><ul><li><strong>继承：</strong>子类继承父类，子类除了拥有父类的所有特性外，还有一些更具体的特性</li><li><strong>多态：</strong>由继承产生了相关不同的类，对同一个方法可以有不同的响应</li></ul><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>    <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">'Animal: '</span> <span class="token operator">+</span> word<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>    <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">'Cat:'</span> <span class="token operator">+</span> word<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>    <span class="token function">speak</span><span class="token punctuation">(</span>word<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">'Dog:'</span> <span class="token operator">+</span> word<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><hr><h4 id="什么是泛型"><a href="#什么是泛型" class="headerlink" title="什么是泛型"></a>什么是泛型</h4><ul><li>泛型是指在定义函数、接口或类的时候，不预先指定具体的类型，使用时再去指定类型的一种特性。</li><li>可以把泛型理解为代表类型的<strong>参数</strong></li></ul><hr><h4 id="非空断言符的使用"><a href="#非空断言符的使用" class="headerlink" title="非空断言符的使用"></a>非空断言符的使用</h4><p>**!**：非空断言操作符–&gt; 这样写只是为了骗过编译器，防止编译的时候报错，打包后的代码可能还是会报错</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token literal-property property">root2</span><span class="token operator">:</span> <span class="token punctuation">(</span>HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>root2<span class="token operator">!</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span></code></pre><hr><h2 id="TypeScript-中-等符号的含义？"><a href="#TypeScript-中-等符号的含义？" class="headerlink" title="**TypeScript 中 ?.  ??  !  !.  _  ** 等符号的含义？"></a>**TypeScript 中 ?.  ??  !  !.  _  ** 等符号的含义？</h2><ul><li><strong>?.可选链：</strong>遇到null 和 undefined 可以立即停止表达式的运行。</li><li><strong>?? 空值合并运算符：</strong>当左侧操作数为 null 或 undefined 时，其返回右侧的操作数，否则返回左侧的操作数。</li><li><strong>! 非空断言运算符：</strong>x! 将从 x 值域中排除 null 和 undefined 。</li><li>**!.**在变量名后添加，可以断言排除undefined和null类型</li><li><strong>_ 数字分割符：</strong>分隔符不会改变数值字面量的值，使人更容易读懂数字  <code>1_101_324</code></li><li>** :求幂</li></ul><hr><h4 id="declare，declare-global是什么？"><a href="#declare，declare-global是什么？" class="headerlink" title="declare，declare global是什么？"></a>declare，declare global是什么？</h4><blockquote><p>declare 是用来定义全局变量、全局函数、全局命名空间、js modules、class等</p><p>declare global 为全局对象 <code>window</code> 增加新的属性</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">declare global <span class="token punctuation">{</span>    <span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>         <span class="token literal-property property">csrf</span><span class="token operator">:</span> string<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><h4 id="对-TypeScript-类中成员的-public、private、protected、readonly-修饰符的理解？"><a href="#对-TypeScript-类中成员的-public、private、protected、readonly-修饰符的理解？" class="headerlink" title="对 TypeScript 类中成员的 public、private、protected、readonly 修饰符的理解？"></a>对 TypeScript 类中成员的 public、private、protected、readonly 修饰符的理解？</h4><ul><li><strong>public：</strong>成员都默认为<code>public</code>，被此限定符修饰的成员是可以被外部访问；</li><li><strong>private：</strong>被此限定符修饰的成员是只可以被类的内部访问；</li><li><strong>protected：</strong>被此限定符修饰的成员是只可以被类的内部以及类的子类访问;</li><li><strong>readonly ：</strong>关键字将属性设置为只读的。 只读属性必须在声明时或构造函数里被初始化。</li></ul><hr><h4 id="keyof-和-typeof-关键字的作用？"><a href="#keyof-和-typeof-关键字的作用？" class="headerlink" title="keyof 和 typeof 关键字的作用？"></a>keyof 和 typeof 关键字的作用？</h4><ul><li><strong>keyof ：索引类型查询操作符</strong>    获取索引类型的属性名，构成联合类型。</li><li><strong>typeof ：</strong>取一个变量或对象的类型。</li></ul><hr><h4 id="简述工具类型-Exclude、Omit、Merge、Intersection、Overwrite的作用。"><a href="#简述工具类型-Exclude、Omit、Merge、Intersection、Overwrite的作用。" class="headerlink" title="简述工具类型 Exclude、Omit、Merge、Intersection、Overwrite的作用。"></a>简述工具类型 <code>Exclude</code>、<code>Omit</code>、<code>Merge</code>、<code>Intersection</code>、<code>Overwrite</code>的作用。</h4><ul><li><strong>Exclude&lt;T,U&gt;：</strong>从 <code>T</code> 中排除出可分配给 <code>U</code>的元素。</li><li><strong>Omit&lt;T, K&gt;：</strong> 的作用是忽略<code>T</code>中的某些属性。</li><li><strong>Merge&lt;O1, O2&gt;：</strong>是将两个对象的属性合并。</li><li><strong>Compute&lt;A &amp; B&gt;：</strong>是将交叉类型合并</li><li><strong>Intersection&lt;T, U&gt;：</strong>的作用是取<code>T</code>的属性,此属性同样也存在与<code>U</code>。</li><li><strong>Overwrite&lt;T, U&gt;：</strong>是用<code>U</code>的属性覆盖<code>T</code>的相同属性。</li></ul><hr><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><hr><h4 id="（掌握）git-reset、git-revert和git-checkout有什么区别？"><a href="#（掌握）git-reset、git-revert和git-checkout有什么区别？" class="headerlink" title="（掌握）git reset、git revert和git checkout有什么区别？"></a>（掌握）git reset、git revert和git checkout有什么区别？</h4><p>提交层面</p><blockquote><p><strong>reset</strong> 不会改变现在的提交历史。用在私有分支上。<code>git reset HEAD</code>撤销没提交的更改。</p><p>revert 用在公共分支上。撤销已提交的更改。</p></blockquote><hr><h4 id="（掌握）一、git-pull-和-git-fetch-之间有什么区别？"><a href="#（掌握）一、git-pull-和-git-fetch-之间有什么区别？" class="headerlink" title="（掌握）一、git pull 和 git fetch 之间有什么区别？"></a>（掌握）一、<code>git pull</code> 和 <code>git fetch</code> 之间有什么区别？</h4><p>git pull：从远程获取新版本并merge到本地</p><p>git fetch：从远程获取新版本到本地，不会自动merge</p><p>简单来说：git pull = git fetch + git  merge</p><hr><h4 id="（掌握）二、如何在-Git-恢复先前的提交？"><a href="#（掌握）二、如何在-Git-恢复先前的提交？" class="headerlink" title="（掌握）二、如何在 Git 恢复先前的提交？"></a>（掌握）二、如何在 Git 恢复先前的提交？</h4><p>撤销提交但保留更改：</p><pre class="language-js" data-language="js"><code class="language-js">git reset 当前文件git status 检测更改</code></pre><p>修改提交中的更改：git reset –hard  当前文件名（如果使用 –hard，文件将提交时间的状态）</p><p>撤销提交但保留文件和索引：git reset –soft  文件名</p><hr><h3 id="react"><a href="#react" class="headerlink" title="react"></a>react</h3><h4 id="简述VirtualDOM及其工作原理"><a href="#简述VirtualDOM及其工作原理" class="headerlink" title="简述VirtualDOM及其工作原理"></a>简述VirtualDOM及其工作原理</h4><p>虚拟DOM 是轻量级的js对象，React的渲染函数从组件中创建一个节点树。然后它响应数据模型中的变化来更新该树，该变化由用户或者系统完成的各个动作引起的。</p><p><strong>三个步骤：</strong></p><ol><li>每当底层数据发生变化的时候，整个UI在虚拟dom中重新渲染。</li><li>比较两个虚拟DOM之间的差异</li><li>计算完成，将只用实际更改的内容更新 real DOM。</li></ol><hr><h4 id="为什么浏览器无法读取JSX？"><a href="#为什么浏览器无法读取JSX？" class="headerlink" title="为什么浏览器无法读取JSX？"></a>为什么浏览器无法读取JSX？</h4><p>浏览器只能处理 JS 对象。不能读取常规的 JS 对象中的  JSX。可以使用 Babel 将 JSX 转换为 JS 对象传给浏览器。</p><hr><h4 id="解释-React-中-render-的目的。"><a href="#解释-React-中-render-的目的。" class="headerlink" title="解释 React 中 render() 的目的。"></a>解释 React 中 render() 的目的。</h4><p>每个react组件必须有一个render函数，它返回的是一个react元素，是原生DOM组件的表示。</p><p>如果渲染多个HTML元素，必须将他们组合放在一个封闭的标立里面。此函数必须保持纯净，即必须每次调用时都返回相同的结果。</p><hr><h4 id="详细解释-React-组件的生命周期方法"><a href="#详细解释-React-组件的生命周期方法" class="headerlink" title="详细解释 React 组件的生命周期方法"></a>详细解释 React 组件的生命周期方法</h4><ul><li><code>componentWillMount()</code> - 在渲染之前执行，客户端和服务器端都会执行。</li><li><code>componentDidMount()</code> - 仅在第一次渲染后在客户端执行。</li><li><code>componentWillReceiveProps() </code>当组件接受到新的props时调用父组件更新状态时子组件的重新渲染。</li><li><code>shouldComponentUpdate() </code>根据特定的条件返回true或者false。如果你希望跟新组件请返回true否者返回false，默认为false。</li><li><code>componentWillUpdate()</code> - 在 DOM 中进行渲染之前调用。</li><li><code>componentDidUpdate()</code> - 在渲染发生后立即调用。</li><li><code>componentWillUnmount()</code> - DOM 卸载组件后调用，用于清理内存空间。</li></ul><hr><h4 id="你对-React-的-refs-有什么了解？"><a href="#你对-React-的-refs-有什么了解？" class="headerlink" title="你对 React 的 refs 有什么了解？"></a>你对 React 的 refs 有什么了解？</h4><p>refs是react中引用的简写。它是一个有助于存储对特定的react元素或者组件的引用的属性，它将由组件渲染配置函数返回。<strong>用于</strong>对render()返回的特定元素或组件的引用。当需要进行DOM测量或向组件添加方法时，派上用场。</p><hr><h4 id="react的工作原理"><a href="#react的工作原理" class="headerlink" title="react的工作原理"></a>react的工作原理</h4><p>React 会创建一个虚拟 DOM。当一个组件中的状态改变时，react首先会通过 <code>diffing</code>算法来标记虚拟DOM中的改变，第二步是进行调节，会用<code>diff</code>结果来更新DOM。</p><hr><h4 id="什么是高阶组件（HOC）？它可以做什么？"><a href="#什么是高阶组件（HOC）？它可以做什么？" class="headerlink" title="什么是高阶组件（HOC）？它可以做什么？"></a>什么是高阶组件（HOC）？它可以做什么？</h4><p>高阶组件是重用组件逻辑的高级方法，是一种源于React的组件模式。HOC是自定义组件，在它它之内包含另一个组件，它们可以接受子组件提供的任何动态，但不会修改或复制其输入组件中的任何行为。可以认为HOC是<code>纯</code>组件。</p><p><strong>HOC可用于许多任务，例如：</strong></p><ul><li>代码重用，逻辑和引导抽象</li><li>渲染劫持</li><li>状态抽象和控制</li><li>Props 控制</li></ul><hr><h4 id="Redux遵循的三个原则是什么？"><a href="#Redux遵循的三个原则是什么？" class="headerlink" title="Redux遵循的三个原则是什么？"></a>Redux遵循的三个原则是什么？</h4><ol><li><strong>单一事件来源：</strong>整个应用状态存储在单一的store的对象/状态树里。单一状态树可以更容易地跟踪随着时间的变化，并调试或检查应用程序。</li><li><strong>状态是只读的：</strong>改变状态的唯一方法是去<strong>触发一个动作</strong>。动作是描述变化的普通JS对象。就像<code>state</code>是数据的最小表示一样，该操作是对数据更改的最小表示。</li><li><strong>使用纯函数进行更改：</strong>为了指定状态树如何通过操作进行转换，需要纯函数。纯函数是那些返回值仅取决于其参数值的函数。</li></ol><hr><h4 id="你对“单一事实来源”有什么理解？"><a href="#你对“单一事实来源”有什么理解？" class="headerlink" title="你对“单一事实来源”有什么理解？"></a>你对“单一事实来源”有什么理解？</h4><p><code>Redux</code>使用<code>Store</code>将程序整个状态存储在同一个地方。所有组件的状态存储在<code>Store</code>中，<code>Store</code>本身接受更新。单一状态树可以更容易地跟踪随时间变化，并调试或检查程序。</p><hr><h4 id="为什么建议传递给-setState-的参数是一个-callback-而不是一个对象"><a href="#为什么建议传递给-setState-的参数是一个-callback-而不是一个对象" class="headerlink" title="为什么建议传递给 setState 的参数是一个 callback 而不是一个对象"></a>为什么建议传递给 setState 的参数是一个 callback 而不是一个对象</h4><p>因为<code>this.props</code>和<code>this.state</code>的更新可能是异步的，不能依赖他们的值去计算下一个<code>state</code>。</p><hr><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p><img src="https://pic4.zhimg.com/80/v2-d64071b050db7a8698eceb03acfccc53_720w.jpg" alt="img"></p><hr><h4 id="Tree-Shaking-摇树"><a href="#Tree-Shaking-摇树" class="headerlink" title="Tree Shaking(摇树)"></a>Tree Shaking(摇树)</h4><p>项目中引入其他模块时，自动将我们用不到的代码，或者永远不会执行的代码摇掉</p><hr><h4 id="强缓存、协商缓存"><a href="#强缓存、协商缓存" class="headerlink" title="强缓存、协商缓存"></a>强缓存、协商缓存</h4><p>强缓存：不会向服务器发送请求，直接从本地获取数据，200</p><p>协商缓存：向服务器请求，是否可以使用缓存，304</p><hr><h4 id="为什么封装请求"><a href="#为什么封装请求" class="headerlink" title="为什么封装请求"></a>为什么封装请求</h4><ol><li>多个链接都要带请求头，请求头写在那里？</li><li>不利于接口的管理和维护</li><li>回调地狱</li></ol><hr><h4 id="axios有什么特性？（不得不说面试被问到几次）"><a href="#axios有什么特性？（不得不说面试被问到几次）" class="headerlink" title="axios有什么特性？（不得不说面试被问到几次）"></a>axios有什么特性？（不得不说面试被问到几次）</h4><ul><li>从浏览器中创建 XMLHttpRequests</li><li>从 node.js 创建 http 请求</li><li>支持 Promise API</li><li>拦截请求和响应</li><li>转换请求数据和响应数据</li><li>取消请求</li><li>自动转换 JSON 数据</li><li>客户端支持防御 XSRF</li></ul><hr><h4 id="JS常用数据结构"><a href="#JS常用数据结构" class="headerlink" title="JS常用数据结构"></a>JS常用数据结构</h4><ul><li>数组（Array）</li><li>栈(stack)</li><li>队列（Queue）</li><li>链表（Linked List）</li><li>散列表(Hash)</li><li>树（Tree）</li><li>堆（Heap）</li><li>图（Graph）</li></ul><hr><h4 id="正向代理和反向代理"><a href="#正向代理和反向代理" class="headerlink" title="正向代理和反向代理"></a>正向代理和反向代理</h4><ul><li>在<strong>正向代理</strong>的过程中，代理服务器代替客户端向目标服务器发送请求，目标服务器不知道谁是真正的客户端，不知道访问自己的是一个代理服务器还是客户端。服务器只负责将响应包发送给请求方。</li><li>在<strong>反向代理</strong>的过程中，客户端不知道自己请求的是代理服务器还是业务服务器。</li></ul><hr><h4 id="怎么实现同一用户，异地登录时候被踢下来"><a href="#怎么实现同一用户，异地登录时候被踢下来" class="headerlink" title="怎么实现同一用户，异地登录时候被踢下来"></a>怎么实现同一用户，异地登录时候被踢下来</h4><p>进行获取新的token，删除旧的token</p><hr><h4 id="关于前端实现token无感刷新-refresh-token"><a href="#关于前端实现token无感刷新-refresh-token" class="headerlink" title="关于前端实现token无感刷新(refresh_token)"></a>关于前端实现token无感刷新(refresh_token)</h4><p>当token过期的时候，刷新token,前端需要做到无感刷新token,即刷token时要做到用户无感知，避免频繁登录。 实现思路</p><p>在响应拦截器中拦截，判断token 返回过期后，调用刷新token接口</p><hr><h4 id="什么是单点登录-SSO-？单点登录-SSO-到底什么意思？【附逻辑Demo实例】"><a href="#什么是单点登录-SSO-？单点登录-SSO-到底什么意思？【附逻辑Demo实例】" class="headerlink" title="什么是单点登录(SSO)？单点登录(SSO)到底什么意思？【附逻辑Demo实例】"></a>什么是单点登录(SSO)？单点登录(SSO)到底什么意思？【附逻辑Demo实例】</h4><p>单点登录要解决的就是，用户只需要登录一次就可以访问所有相互信任的应用系统。</p><hr><h4 id="for与forEach，哪个更快？为什么？"><a href="#for与forEach，哪个更快？为什么？" class="headerlink" title="for与forEach，哪个更快？为什么？"></a>for与forEach，哪个更快？为什么？</h4><p><strong>for快</strong></p><ul><li>for 不会创建函数</li><li>forEach 每次都要创建一个函数来调用</li><li>函数现需要独立的作用域,会有额外开销</li></ul><hr><h4 id="forEach的原理？可以用break、return、continue吗？怎么写？"><a href="#forEach的原理？可以用break、return、continue吗？怎么写？" class="headerlink" title="forEach的原理？可以用break、return、continue吗？怎么写？"></a>forEach的原理？可以用break、return、continue吗？怎么写？</h4><p>forEach用于遍历数组的方法，底层还是for循环，将遍历到的元素传递给回调函数,遍历的数组不能是空的要有值。</p><ul><li>map，forEach不能使用break跳出整个循环，不能使用continue跳出本次循环。使用retrun相当于for中的continue的作用，结束本次循环的回调函数</li></ul><p>forEach() 跳出循环的方法</p><ul><li>使用 for 循环代替 <code>forEach</code>（这个很简单这里就不写例子了）</li><li>使用<code>try···catch</code>捕获异常实现</li></ul><p>ES6 推出了一个 <code>for...of</code> 的语法，内部的实现原理是通过实现 可迭代（iterable） 去实现的，因此内部可以使用 continue, break，return，yield</p><hr><h4 id="webpack你用了那些加载器？"><a href="#webpack你用了那些加载器？" class="headerlink" title="webpack你用了那些加载器？"></a>webpack你用了那些加载器？</h4><ul><li><p>css-loader 处理css中路径引用等问题</p><p>（用于在js中加载css，解释<code>@import</code>和<code>url()</code>）</p></li><li><p>style-loader 动态把样式写入css</p><p>（加载的css作为style标签内容插入到html中,以<code>&lt;style&gt;&lt;/style&gt;</code>形式在html页面中插入css代码）</p></li><li><p>postcss-loader</p><p><code>postcss-loader</code>：为了浏览器的兼容性，有时候我们必须加上<code>-webkitm</code>, <code>-ms</code>, <code>-moz</code>等前缀。目的就是让页面可以在每个浏览器上正常运行。postcss是一个CSS的处理平台可以帮CSS实现更多的功能。</p></li><li><p>less-style</p><p>添加对webpack的LESS支持。当遇到less文件时，先交给less-loader处理，然后交给css-loader，最后交由style-loader处理，然后执行webpack打包</p></li><li><p>ile-loader 分发文件到output目录并返回相对路径</p></li><li><p>url-loader 和file-loader类似，但是当文件小于设定的limit时可以返回一个Data Url</p></li><li><p>html-minify-loader 压缩HTML</p></li><li><p>babel-loader 用babel来转换ES6文件到ES5</p></li></ul><hr><h4 id="TCP与UDP的区别？"><a href="#TCP与UDP的区别？" class="headerlink" title="TCP与UDP的区别？"></a>TCP与UDP的区别？</h4><p><strong>TCP</strong> ：传输控制协议，<strong>UDP</strong> ：用户数据报协议</p><p><img src="https://img2020.cnblogs.com/blog/2580638/202110/2580638-20211024203122288-1643698355.png" alt="img"></p><hr><h4 id="http状态码代表的意思？100？500？301？302？"><a href="#http状态码代表的意思？100？500？301？302？" class="headerlink" title="http状态码代表的意思？100？500？301？302？"></a>http状态码代表的意思？100？500？301？302？</h4><table><thead><tr><th>Http状态码</th><th>Http Status Code</th><th>Http状态码含义中文说明</th></tr></thead><tbody><tr><td><strong>100</strong></td><td><a href="https://seo.juziseo.com/doc/http_code/100">100 Continue</a></td><td>请继续请求</td></tr><tr><td><strong>500</strong></td><td><a href="https://seo.juziseo.com/doc/http_code/500">500 Internal Server Error</a></td><td>服务器端程序错误</td></tr><tr><td><strong>301</strong></td><td><a href="https://seo.juziseo.com/doc/http_code/301">301 Moved Permanently</a></td><td>永久重定向</td></tr><tr><td><strong>302</strong></td><td><a href="https://seo.juziseo.com/doc/http_code/302">302 Found</a></td><td>临时重定向</td></tr><tr><td><strong>400</strong></td><td><a href="https://seo.juziseo.com/doc/http_code/400">400 Bad Request</a></td><td>请求错误，通常是访问的域名未绑定引起</td></tr><tr><td><strong>303</strong></td><td><a href="https://seo.juziseo.com/doc/http_code/303">303 See Other</a></td><td>当前请求的资源在其它地址</td></tr><tr><td><strong>304</strong></td><td><a href="https://seo.juziseo.com/doc/http_code/304">304 Not Modified</a></td><td>请求资源与本地缓存相同，未修改</td></tr></tbody></table><hr><h4 id="computed能不能写异步代码？"><a href="#computed能不能写异步代码？" class="headerlink" title="computed能不能写异步代码？"></a>computed能不能写异步代码？</h4><ul><li>不支持异步，当computed内有异步操作时无效，无法监听数据的变化</li><li>watch支持异步；</li></ul><hr><h4 id="原生js如何拿到网站的cookie？"><a href="#原生js如何拿到网站的cookie？" class="headerlink" title="原生js如何拿到网站的cookie？"></a>原生js如何拿到网站的cookie？</h4><p>是 <code>document</code> 的属性，也就是 <code>window.document.cookie</code></p><hr><h4 id="怎么通过原生js获取cookie中的值？"><a href="#怎么通过原生js获取cookie中的值？" class="headerlink" title="怎么通过原生js获取cookie中的值？"></a>怎么通过原生js获取cookie中的值？</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> strcookie <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">;</span><span class="token comment">//获取cookie字符串</span>    <span class="token keyword">var</span> arrcookie <span class="token operator">=</span> strcookie<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//分割</span>    <span class="token comment">//遍历匹配</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arrcookie<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> arr <span class="token operator">=</span> arrcookie<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><h4 id="如何设置cookie的过期时间？"><a href="#如何设置cookie的过期时间？" class="headerlink" title="如何设置cookie的过期时间？"></a>如何设置cookie的过期时间？</h4><p><code>{expires}</code></p><p>cookie默认按天来算的<code>Cookies.set('name', 'value', { expires: 7 })</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 当您希望 cookie 在 15 分钟后过期时</span><span class="token keyword">var</span> inFifteenMinutes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">15</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token literal-property property">expires</span><span class="token operator">:</span> inFifteenMinutes<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><hr><h4 id="render函数与编译模板template有什么区别？"><a href="#render函数与编译模板template有什么区别？" class="headerlink" title="render函数与编译模板template有什么区别？"></a>render函数与编译模板template有什么区别？</h4><ol><li>template—-html的方式做渲染</li><li>render—-js的方式做渲染</li></ol><hr><h4 id="for…of…"><a href="#for…of…" class="headerlink" title="for…of…"></a>for…of…</h4><ul><li><em>for in遍历的是数组的索引（即键名），而for of遍历的是数组元素值。</em></li><li>for of遍历的只是数组内的元素，而不包括数组的原型属性method和索引name</li><li>for..of适用遍历数/数组对象/字符串/map/set等拥有迭代器对象的集合.但是不能遍历对象,因为没有迭代器对象.与forEach()不同的是，它可以正确响应break、continue和return语句</li><li>for-of循环不支持普通对象，但如果你想迭代一个对象的属性，你可以用for-in循环（这也是它的本职工作）或内建的Object.keys()方法</li></ul><hr><h4 id="Vue开发版本与生产版本的区别"><a href="#Vue开发版本与生产版本的区别" class="headerlink" title="Vue开发版本与生产版本的区别"></a>Vue开发版本与生产版本的区别</h4><p>区别之一在于，使用开发版本时出现“警告”，控制台会有相对应的提示，而生产版本则不会有任何提示</p><p>使用了开发版本，打开控制台会出现以下的提示</p><hr><h4 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h4><p>不能用<code>body</code>做为容器</p><p>实例化之前是类。</p><p><strong>hash模式</strong>：<code>#</code>利用的是锚跳转</p><p><strong>路由守卫</strong>：一般使用路由守卫的场景是用户的权限控制，虽然可以使用组件的生命周期完成这个功能，但是使用路由守卫更加高效。因为它的执行比组件的实例化更早，也就是说，只要路由守卫不通过，组件连实例化都不执行。大大的加速控制流程与减少资源的消耗。</p><p><strong>函数当成值来用，不需要加括号</strong></p><p><strong>离散数据：0，1</strong>（性别，学历）</p><p><strong>回归数据：0，0.1，0.2，…，1</strong>（年龄，体重）</p><hr><h4 id="require和import的区别"><a href="#require和import的区别" class="headerlink" title="require和import的区别"></a>require和import的区别</h4><ol><li>导入<code>require</code> 导出 <code>exports/module.exports</code> 是 <code>CommonJS</code> 的标准，通常适用范围如 <code>Node.js</code></li><li><code>import/export</code> 是 <code>ES6</code> 的标准，通常适用范围如 <code>React</code></li><li><code>require</code> 是<strong>赋值过程</strong>并且是<strong>运行时才执行</strong>，也就是<em>同步加载</em></li><li><code>require</code> 可以理解为一个全局方法，因为它是一个方法所以意味着可以在任何地方执行。</li><li><code>import</code> 是<strong>解构过程</strong>并且是<strong>编译时执行</strong>，理解为<em>异步加载</em></li><li><code>import</code> 会提升到整个模块的头部，具有置顶性，但是建议写在文件的顶部。</li><li><code>commonjs</code> 输出的，是一个值的拷贝，而<code>es6</code>输出的是值的引用；</li><li><code>commonjs</code> 是运行时加载，<code>es6</code>是编译时输出接口；</li></ol><hr><h4 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h4><p><strong>fetch不是ajax的进一步封装，而是原生js，没有使用XMLHttpRequest对象</strong>。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 链式处理,将异步变为类似单线程的写法: 高级用法.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/some/url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">.</span> <span class="token comment">//... 执行成功, 第1步...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">returnedValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// ... 执行成功, 第2步...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 中途任何地方出错...在此处理 :( </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>fetch和ajax主要有两种方式不同</strong></p><p>从<code>fetch()</code>返回的<code>Promise</code>将不会拒绝<code>http</code>错误状态，即使相应是一个相应是<code>400</code>或者<code>500</code>,它都会安装正常的去解决，并且仅在网络故障时或者任何阻止请求完成时，它才会拒绝，可以做简单的封装。</p><hr><h4 id="私有成员-静态成员"><a href="#私有成员-静态成员" class="headerlink" title="私有成员|静态成员"></a>私有成员|静态成员</h4><ul><li><p>私有成员：</p><p>因为js中函数外部无法访问函数内部，所以函数内部就相当于一个私有作用域。定义( var 和 function )在其中的方法和变量就是私有成员。(私有属性和方法不能使用this调用)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> getA<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>静态成员：</p><p>函数本身也是对象，所以可以在上定义方法和变量，并且不是在函数的prototype属性中定义的方法和变量，所以无法被函数的实例继承，这就是静态方法和变量。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>fn<span class="token punctuation">.</span><span class="token function-variable function">getA</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>fn<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></code></pre></li><li><p>特权成员：在构造函数内部用this定义的成员，访问权限和公有成员一样；</p></li><li><p>公有成员：通过修改构造函数的prototype属性而定义的成员，可以由该构造函数的所有实例访问；</p></li><li><p>多态：向上转型，多种状态</p></li></ul><hr><h4 id="scoped的作用功能"><a href="#scoped的作用功能" class="headerlink" title="scoped的作用功能"></a>scoped的作用功能</h4><p>组件的私有化，不对全局造成样式污染，表示当前style属性只属于当前模块。</p><p>从原理可见，之所以scoped可达到类似组件私有化、样式设置”作用域”的效果，其实只是在设置scoped属性的组件上的所有标签添加data开头的属性，且在标签选择器的结尾加上和属性相同的字段，起到唯一性的作用，但是这样如果组件中也引用其他组件就会出现类似下面的问题：</p><ul><li>父组件无scoped属性，组组件带有scoped，父组件是无法操作子组件的样式的，虽然我们可以在全局中通过该类标签的标签选择器设置样式，但会影响到其他组件</li><li>父组件有scoped属性，子组件没有。父组件也无法设置子组件样式，因为父组件的所有标签都带有data-v-469af010唯一标志，但子组件不会带有这个唯一标志属性，与1同理，虽然我们可以在全局中通过该类标签的标签选择器设置样式，但会影响到其他组件</li><li>父子组件都有，同理也无法设置样式，更改起来增加代码质量。</li></ul><hr><h4 id="flex-1有哪些属性？"><a href="#flex-1有哪些属性？" class="headerlink" title="flex:1有哪些属性？"></a>flex:1有哪些属性？</h4><blockquote><p>flex：0 1 auto(后两个属性可选)</p></blockquote><ul><li>flex-grow：属性定义项目的放大比例，默认为<code>0</code></li><li>flex-shrink：属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。</li><li>flex-basis：属性定义了在分配多余空间之前，项目占据的主轴空间<code>（main size）</code>，它可以设为跟<code>width</code>或<code>height</code>属性一样的值（比如350px）</li></ul><hr><h4 id="display-none与visibility-hidden的区别？"><a href="#display-none与visibility-hidden的区别？" class="headerlink" title="display:none与visibility:hidden的区别？"></a>display:none与visibility:hidden的区别？</h4><ul><li><strong>display:none：</strong>该元素以及它的所有后代元素都会隐藏，占据的空间消失。</li><li><strong>visibility:hidden：</strong>给元素设置visibility: hidden也可以隐藏这个元素，但是隐藏元素仍需占用与未隐藏时一样的空间，也就是说虽然元素不可见了，但是仍然会影响页面布局。<ol><li>visibility具有<strong>继承性</strong>，给父元素设置visibility:hidden;子元素也会继承这个属性。但是如果重新给子元素设置visibility: visible,则子元素又会显示出来。这个和display: none有着质的区别</li><li>visibility: hidden<strong>不会影响计数器的计数</strong>，如图所示，visibility: hidden虽然让一个元素不见了，但是其计数器仍在运行。这和display: none完全不一样</li><li>CSS3的<strong>transition支持visibility属性</strong>，但是并不支持display，由于transition可以延迟执行，因此可以配合visibility使用纯css实现<strong>hover延时显示效果</strong>。提高用户体验。</li></ol></li></ul><hr><h4 id="判断数组的四种方法："><a href="#判断数组的四种方法：" class="headerlink" title="判断数组的四种方法："></a>判断数组的四种方法：</h4><ol><li><p><strong>Array.isArray()判断：</strong>用于确定传递的值是否是一个数组，返回一个布尔值。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span></code></pre></li><li><p><strong>instanceof判断：</strong>运算符用于检验构造函数的prototype属性是否出现在对象的原型链中的任何位置，返回一个布尔值。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">//true</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>b <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">//false</span></code></pre></li><li><p><strong>constructor判断：</strong>构造函数属性constructor指向构造函数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">;</span><span class="token comment">//true</span></code></pre></li><li><p><strong>Object.prototype.toString.call()判断：</strong>以获取到对象的不同类型</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">;</span><span class="token comment">//true</span></code></pre></li></ol><hr><h4 id="前端大屏幕项目"><a href="#前端大屏幕项目" class="headerlink" title="前端大屏幕项目"></a>前端大屏幕项目</h4><hr><h4 id="vue-virtual-scroller"><a href="#vue-virtual-scroller" class="headerlink" title="vue-virtual-scroller"></a>vue-virtual-scroller</h4><p>处理巨量列表的展示。原理是它只把展示给用户的那部分渲染出来，比如滚到上面的 dom 就回收掉。</p><hr><h4 id="Mock数据"><a href="#Mock数据" class="headerlink" title="Mock数据"></a>Mock数据</h4><p>模拟接口数据。</p><hr><h4 id="vue-router-常写属性都有什么？"><a href="#vue-router-常写属性都有什么？" class="headerlink" title="vue-router 常写属性都有什么？"></a>vue-router 常写属性都有什么？</h4><p><strong>属性：</strong></p><ul><li>$router.app ：配置了router的Vue根实例</li><li>$router.mode：路由模式，这里是hash</li><li>$router.currentRoute：当前路由的路由信息对象，包含了当前匹配路由的信息</li></ul><p><strong>办法：</strong></p><ul><li>router.go(n)：接受一个整数作为参数，类似window.history.go(n)，在浏览器历史记录中前进或后退几步</li><li>router.push( location )：跳转导航的方法，这种方法会向history栈添加一个新的记录</li><li>router.replace( location )：和router.push()类似，但是它会替换掉当前的history记录，不会添加新的记录</li><li>router.back()：相当于router.go(-1)</li><li>router.forward()：相当于router.go(1)</li><li>router.addRoutes(routes)：动态添加路由规则，参数为符合routes选项要求的数组。</li><li>路由守卫。</li></ul><hr><h4 id="vue插槽如何使用？"><a href="#vue插槽如何使用？" class="headerlink" title="vue插槽如何使用？"></a>vue插槽如何使用？</h4><blockquote><ol><li>组件的插槽也是为了让我们封装的组件更加具有扩展性。</li><li>让使用者可以决定组件内容的一些内容到底展示什么。</li></ol></blockquote><p><strong>抽取共性，保留不同</strong></p><ol><li>最好的封装方式就是将共性抽取到组件中，将不同暴露为插槽。</li><li>一旦我们预留了插槽，就可以让使用者根据自己的需求，决定插槽中插入什么内容。</li><li>是搜索框，还是文字，还是菜单。由调用者自己来决定。</li></ol><ul><li><p><strong>匿名插槽：</strong></p><ol><li>在子组件中，使用特殊的元素<code>&lt;slot&gt;</code>就可以为子组件开启一个插槽。</li><li>该插槽插入什么内容取决于父组件如何使用。</li></ol></li><li><p><strong>具名插槽：</strong></p><ol><li>非常简单，只要给slot元素一个name属性即可</li><li><code>&lt;slot name='myslot'&gt;&lt;/slot&gt;</code></li></ol></li><li><p><strong>作用域插槽：</strong></p><p>默认情况下，父组件使用子组件，插槽数据默认是拿父组件的数据，而不是子组件拿数据。<br><strong>作用域插槽</strong>在父组件使用我们的子组件时， 插槽的数据从子组件中拿到数据，而不是从父组件拿到。</p><pre class="language-vue" data-language="vue"><code class="language-vue">模板写法&lt;template #btn="scope"&gt;&lt;/template&gt;</code></pre></li></ul><hr><h4 id="在同步异步中，-let和var的区别。"><a href="#在同步异步中，-let和var的区别。" class="headerlink" title="在同步异步中， let和var的区别。"></a>在同步异步中， let和var的区别。</h4><blockquote><p>setTimeout 是异步执行的，1000毫秒后向任务队列里添加一个任务，只有主线上的全部执行完才会执行任务队列里的任务，所以当主线程for循环执行完之后 i 的值为5，这个时候再去任务队列中执行任务，i全部为5；</p><p>每次for循环的时候setTimeout都会执行，但是里面的function则不会执行被放入任务队列，因此放了5次；for循环的5次执行完之后不到1000毫秒；</p><p>1000毫秒后全部执行任务队列中的函数，所以就是输出五个5啦</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 5 5 5 5 5</span></code></pre><blockquote><p>假如把var换成let，那么输出结果为0,1,2,3,4；</p><p>因为let  i  的是区块变量，每个i只能存活到大括号结束，并不会把后面的for循环的  i  值赋给前面的setTimeout中的i；而var i  则是局部变量，这个 i 的生命周期不受for循环的大括号限制；</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 0 1 2 3 4 </span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 报错 </span></code></pre><hr><h4 id="对象的合并"><a href="#对象的合并" class="headerlink" title="对象的合并"></a>对象的合并</h4><ul><li><p><strong>Object.assign()</strong></p><p>合并对象是将后面的对象合拼到<strong>第一个对象</strong>里面了</p><p>会改变第一个的对象，如果不想改变可以给第一个给<strong>空对象</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 给到一个新对象，属于深拷贝</span></code></pre></li><li><p><strong>…扩展运算符</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"历史"</span><span class="token punctuation">,</span>    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>    <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">"cdscds@163.com"</span><span class="token punctuation">}</span><span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj1<span class="token punctuation">,</span> <span class="token operator">...</span>obj2 <span class="token punctuation">}</span><span class="token comment">// 对象里面都是简单数据类型，扩展运算符相对于深拷贝</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {name: '张三', gender: '男', email: 'cdscds@163.com'}</span></code></pre></li></ul><hr><h4 id="Vue3的diff对比Vue2的优化部分"><a href="#Vue3的diff对比Vue2的优化部分" class="headerlink" title="Vue3的diff对比Vue2的优化部分"></a>Vue3的diff对比Vue2的优化部分</h4><ul><li>vue2：全量 Diff（当数据发生变化，它就会新生成一个DOM树，并和之前的DOM树进行比较，找到不同的节点然后更新。）；</li><li>Vue3：静态标记 + 非全量 Diff（Vue 3在创建虚拟DOM树的时候，会根据DOM中的内容会不会发生变化，添加一个静态标记。之后在与上次虚拟节点进行对比的时候，就只会对比这些带有静态标记的节点。）；</li></ul><hr><h4 id="vue-和-react-的diff算法比较"><a href="#vue-和-react-的diff算法比较" class="headerlink" title="vue 和 react 的diff算法比较"></a>vue 和 react 的diff算法比较</h4><ul><li><p><strong>vue</strong>的diff算法<br>简单来说，就是vue的diff算法在对新老虚拟daom进行对比时，是从节点的两侧向中间对比；如果节点的key值与元素类型相同，属性值不同，就会认为是不同节点，就会删除重建</p></li><li><p><strong>react</strong>的diff算法<br>react的diff算法在对新老虚拟dom进行对比是，是从节点左侧开始对比，就好比将新老虚拟dom放入两个栈中，一对多依次对比；如果节点的key值与元素类型相同，属性值不同，react会认为是同类型节点，只是修改节点属性</p></li></ul><hr><h4 id="前端模块化的理解？前端自动化构建工具？"><a href="#前端模块化的理解？前端自动化构建工具？" class="headerlink" title="前端模块化的理解？前端自动化构建工具？"></a>前端模块化的理解？前端自动化构建工具？</h4><ul><li><p>前端自动化构建工具：<strong>webpack、gulp</strong></p></li><li><p>前端模块化的理解：</p><pre class="language-js" data-language="js"><code class="language-js">我们要写一个实现<span class="token constant">A</span>功能的<span class="token constant">JS</span>代码<span class="token punctuation">,</span>这个功能在项目其他位置也需要用到<span class="token punctuation">,</span>那么我们就可以把这个功能看成一个模块采用一定的方式进行模块化编写<span class="token punctuation">,</span>既能实现复用还可以分而治之<span class="token punctuation">,</span>同理在写样式的时候<span class="token punctuation">,</span>如果我们需要某种特殊的样式<span class="token punctuation">,</span>会在很多地方应用<span class="token punctuation">,</span>那么我们也可以采用一定的方式进行<span class="token constant">CSS</span>的模块化</code></pre></li></ul><hr><h4 id="Vue，react，angular的区别"><a href="#Vue，react，angular的区别" class="headerlink" title="Vue，react，angular的区别"></a><a href="https://blog.csdn.net/Berlin_Rome/article/details/94390941">Vue，react，angular的区别</a></h4><hr><h4 id="css隐藏元素的几种方法"><a href="#css隐藏元素的几种方法" class="headerlink" title="css隐藏元素的几种方法"></a>css隐藏元素的几种方法</h4><ul><li>overflow:hidden</li><li>opacity:0；</li><li>visibility:hidden</li><li>display:none</li><li>position:absolute</li><li>clip(clip-path):rect()/inset()/polygon()</li><li>z-index:-1000</li><li>transform:scaleY(0)</li><li>height和width属性为0</li></ul><hr><h4 id="什么是语义化的HTML"><a href="#什么是语义化的HTML" class="headerlink" title="什么是语义化的HTML"></a>什么是语义化的HTML</h4><blockquote><p>语义化的HTML就是正确的标签做正确的事情，能够便于开发者阅读和写出更优雅的代码的同时让网络爬虫很好地解析。</p></blockquote><p><strong>为什么要做到语义化？</strong></p><p>1、有利于SEO，有利于搜索引擎爬虫更好的理解我们的网页，从而获取更多的有效信息，提升网页的权重。</p><p>2、在没有CSS的时候能够清晰的看出网页的结构，增强可读性。</p><p>3、便于团队开发和维护，语义化的HTML可以让开发者更容易的看明白，从而提高团队的效率和协调能力。</p><p>4、支持多终端设备的浏览器渲染。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>标题，logo，slogan；包裹目录部分，搜索框，一个nav或者任何相关的logo；<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>定义文章导航栏，链接等;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>定义文章的主要内容；<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">&gt;</span></span>定义文档中可以脱离其他部分，一份独立的内容，通常带有标题，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span>它是整体的一部分，或者是文章的一节<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aside</span><span class="token punctuation">&gt;</span></span>侧边栏（与article并列存在）或者嵌入内容（在article内）<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>页脚，通常包含作者、版权信息或者相关链接等；</code></pre><hr><h4 id="CSS-水平居中和垂直居中的方法-分内联元素和块级元素"><a href="#CSS-水平居中和垂直居中的方法-分内联元素和块级元素" class="headerlink" title="CSS 水平居中和垂直居中的方法(分内联元素和块级元素)"></a>CSS 水平居中和垂直居中的方法(分内联元素和块级元素)</h4><p><strong>水平居中：</strong> </p><ul><li><p><strong>内联元素：</strong></p><ul><li>父元素设置为块级元素，再给父元素设置 <strong>text-align: center;</strong></li></ul></li><li><p><strong>块级元素：</strong></p><ul><li><p><strong>定宽度：</strong>需要谁居中，给其设置 <strong>margin: 0 auto;</strong> （作用：使盒子自己居中）</p></li><li><p><strong>不定宽度：</strong>转换成行内块级/行内元素，给父元素设置 <strong>text-align: center;</strong> </p></li><li><p><strong>使用定位属性：</strong></p><p>​<strong>定宽度：</strong>子绝父相，子元素的<strong>left:50%<strong>，</strong>margin-left: -元素宽度的一半px;</strong></p><p>​<strong>不定宽度：</strong><code>transform: translateX(-50%);</code></p></li><li><p><strong>flex布局：</strong>父元素添加属性 <strong>display: flex; justify-content: center;</strong></p></li></ul></li></ul><p><strong>垂直居中：</strong></p><ul><li><p><strong>内联元素：</strong></p><ul><li><strong>单行的行内元素：</strong>行高等于盒子的高</li><li><strong>多行的行内元素：</strong>父元素设置<code>display:table-cell;</code>和<code>vertical-align: middle;</code></li></ul></li><li><p><strong>块级元素：</strong></p></li><li><p><strong>使用定位属性：</strong></p><p>​<strong>定宽度：</strong>子绝父相，子元素的**top: 50%**，绝对子元素的 <strong>margin-top: -元素高度的一半px;</strong></p><p>​<strong>不定宽度：</strong><code>transform: translateY(-50%);</code></p></li><li><p><strong>flex布局：</strong>父元素添加属性 <strong>display: flex; align-items: center;</strong></p></li></ul><p><strong>水平垂直居中：</strong></p><ul><li><strong>已知高度和宽度的元素：</strong><ul><li>子绝父相，<strong>top: 0; right: 0; bottom: 0; left: 0; margin: auto;</strong></li><li>子绝父相，<strong>left: 50%; top: 50%; margin-left: –元素宽度的一半px; margin-top: –元素高度的一半px;</strong></li></ul></li><li><strong>未知高度和宽度的元素：</strong><ul><li><strong>使用定位属性：</strong>子绝父相，<strong>left: 50%; top: 50%; transform: translateX(-50%) translateY(-50%);</strong></li><li><strong>使用布局实现：</strong>justify-content: center; align-items: center;</li></ul></li></ul><hr><h4 id="闭包的使用场景"><a href="#闭包的使用场景" class="headerlink" title="闭包的使用场景"></a>闭包的使用场景</h4><p><a href="https://www.cnblogs.com/gg-qq/p/11399152.html">使用场景</a></p><p>闭包就是将函数内部和函数外部连接起来的一座桥梁。</p><ul><li><p>setTimeout：</p><p>　　原生的setTimeout传递的第一个函数不能带参数，通过闭包可以实现传参效果。</p></li><li><p>回调：</p><p>　　定义行为，然后把它关联到某个用户事件上（点击或者按键）。代码通常会作为一个回调（事件触发时调用的函数）绑定到事件。</p></li><li><p>函数防抖：</p><p>​实现的关键就在于<code>setTimeOut</code>这个函数，由于还需要一个变量来保存计时，考虑维护全局纯净，可以借助闭包来实现。</p></li><li><p>封装私有变量</p></li></ul><hr><h4 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h4><p>​事件代理，原理就是<strong>利用事件冒泡特点</strong>：当子元素的事件发生时，父元素的同名事件也会发生——指定一个事件处理程序,就可以管理某一类型的所有事件。</p><p><strong>优点：</strong>不用给列表的每一个元素绑定事件，只需要<strong>绑定父元素</strong>就可以处理所有子元素的事件，优化性能。</p><hr><h4 id="写一个深度复制数组或者对象的函数"><a href="#写一个深度复制数组或者对象的函数" class="headerlink" title="写一个深度复制数组或者对象的函数"></a>写一个深度复制数组或者对象的函数</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">copyLinearArray</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> sourceCopy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        objectCopy <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//如果是对象</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">in</span> source<span class="token punctuation">)</span> objectCopy<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object <span class="token operator">?</span> <span class="token function">copyLinearArray</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> source<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> objectCopy<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">//如果是其他数组</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">in</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>            sourceCopy<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object <span class="token operator">?</span> <span class="token function">copyLinearArray</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> source<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> sourceCopy<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><h4 id="在react中遍历生成元素有哪些方法"><a href="#在react中遍历生成元素有哪些方法" class="headerlink" title="在react中遍历生成元素有哪些方法"></a>在react中遍历生成元素有哪些方法</h4><ul><li><code>React.Children.map</code>和 <code>React.Children.forEach</code>这两个方法</li></ul><hr><h4 id="在react中页面重新加载时怎么保留数据"><a href="#在react中页面重新加载时怎么保留数据" class="headerlink" title="在react中页面重新加载时怎么保留数据"></a>在react中页面重新加载时怎么保留数据</h4><ul><li><strong>Redux：</strong> 将页面的数据存储在redux中，在重新加载页面时，获取Redux中的数据；</li><li><strong>localstorage</strong></li></ul><hr><h4 id="前端异常捕获"><a href="#前端异常捕获" class="headerlink" title="前端异常捕获"></a>前端异常捕获</h4><ul><li><strong>try…catch…</strong></li><li><strong>window.onerror</strong>无法捕获跨域资源出现的异常和webpack打包压缩文件时生成的source-map</li></ul><hr><h4 id="ajax的基本流程"><a href="#ajax的基本流程" class="headerlink" title="ajax的基本流程"></a>ajax的基本流程</h4><ul><li>创建XMLHttpRequest对象,也就是创建一个异步调用对象。</li><li>创建一个新的HTTP请求,并指定该HTTP请求的方法、URL及验证信息。</li><li>设置响应HTTP请求状态变化的函数。</li><li>发送HTTP请求。</li><li>获取异步调用返回的数据。</li><li>使用JavaScript和DOM实现局部刷新。</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">-</span> 收到一个新的快递<span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'Methor'</span><span class="token punctuation">,</span>url<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">-</span> 你迫不及待地打开<span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">-</span> 发现你的东西有问题，就给送回去了<span class="token keyword">function</span> <span class="token function">onload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">--</span><span class="token operator">-</span> 卖家处理你的快递responseText <span class="token operator">--</span><span class="token operator">-</span> 处理后，再把快递给你返回来</code></pre><hr><h4 id="npm，yarn的区别"><a href="#npm，yarn的区别" class="headerlink" title="npm，yarn的区别"></a>npm，yarn的区别</h4><ul><li><strong>yarn：</strong><ul><li>速度快</li><li>安装版本统一</li><li>输出简洁</li><li>多注册来源处理</li></ul></li><li><strong>npm ：</strong><ul><li>下载速度慢。</li><li>同一个项目，<strong>安装的无法保持一致性</strong>。</li><li>一大堆提示信息中丢失掉错误信息。</li></ul></li></ul><hr><h4 id="媒体查询是css3新增根据屏幕宽度去修改css样式的功能"><a href="#媒体查询是css3新增根据屏幕宽度去修改css样式的功能" class="headerlink" title="媒体查询是css3新增根据屏幕宽度去修改css样式的功能"></a>媒体查询是css3新增根据屏幕宽度去修改css样式的功能</h4><hr><h4 id="微信支付流程"><a href="#微信支付流程" class="headerlink" title="微信支付流程"></a>微信支付流程</h4><ul><li>打开某小程序，点击直接下单</li><li>wx.login获取用户临时登录凭证code，发送到后端服务器换取openId</li><li>在下单时，小程序需要将购买的商品Id，商品数量，以及用户的openId传送到服务器</li><li>服务器在接收到商品Id、商品数量、openId后，生成服务期订单数据，同时经过一定的签名算法，向微信支付发送请求，获取预付单信息(prepay_id)，同时将获取的数据再次进行相应规则的签名，向小程序端响应必要的信息</li><li>小程序端在获取对应的参数后，调用wx.requestPayment()发起微信支付，唤醒支付工作台，进行支付</li><li>接下来的一些列操作都是由用户来操作的包括了微信支付密码，指纹等验证，确认支付之后执行鉴权调起支付</li><li>鉴权调起支付：在微信后台进行鉴权，微信后台直接返回给前端支付的结果，前端收到返回数据后对支付结果进行展示</li><li>推送支付结果：微信后台在给前端返回支付的结果后，也会向后台也返回一个支付结果，后台通过这个支付结果来更新订单的状态</li></ul><hr><h4 id="cookie-和-localStorage-大小"><a href="#cookie-和-localStorage-大小" class="headerlink" title="cookie 和 localStorage 大小"></a>cookie 和 localStorage 大小</h4><ul><li>cookie ：4K；</li><li>localStorage ：5M</li></ul><hr><h4 id="transform-transition-animation"><a href="#transform-transition-animation" class="headerlink" title="transform, transition, animation"></a>transform, transition, animation</h4><ul><li><strong>transform 描述了元素静态样式。</strong></li><li><strong>transition 和 animation 却都能实现动画效果。</strong></li><li><strong>transform 常常配合后两者使用</strong></li></ul><hr><h4 id="单行文本超出省略"><a href="#单行文本超出省略" class="headerlink" title="单行文本超出省略"></a>单行文本超出省略</h4><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">overflow</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span><span class="token property">text-overflow</span><span class="token punctuation">:</span>ellipsis<span class="token punctuation">;</span><span class="token property">white-space</span><span class="token punctuation">:</span>nowrap</code></pre><p><strong>多行</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span> 将对象作为弹性伸缩盒子模型显示 。<span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>用来限制在一个块元素显示的文本的行数<span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>设置或检索伸缩盒对象的子元素的排列方式 。</code></pre><hr><h4 id="const-对象的值为什么可以改变"><a href="#const-对象的值为什么可以改变" class="headerlink" title="const 对象的值为什么可以改变"></a>const 对象的值为什么可以改变</h4><p>因为对象是引用类型的，P中保存的仅是对象的指针，这就意味着，const仅保证指针不发生改变，修改对象的属性不会改变对象的指针，所以是被允许的。<strong>也就是说const定义的引用类型只要指针不发生改变，其他的不论如何改变都是允许的。</strong></p><hr><h4 id="箭头函数为什么不能new"><a href="#箭头函数为什么不能new" class="headerlink" title="箭头函数为什么不能new"></a>箭头函数为什么不能new</h4><p>因为箭头函数没有自己的 this 变量，我们就没有办法修改 this 的指向，所以也不可以将其作为构造函数、它也没有 prototype 对象。</p><hr><h4 id="判断一个对象是否为空对象"><a href="#判断一个对象是否为空对象" class="headerlink" title="判断一个对象是否为空对象"></a>判断一个对象是否为空对象</h4><ul><li><p>for…in…遍历属性</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果不为空，则会执行到这一步，返回true</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token comment">// 如果为空,返回false</span></code></pre></li><li><p>通过JSON自带的<code>stringify()</code>方法来判断</p></li><li><p>Object.keys()</p></li></ul><hr><h4 id="判断一个对象是否为空数组"><a href="#判断一个对象是否为空数组" class="headerlink" title="判断一个对象是否为空数组"></a>判断一个对象是否为空数组</h4><ul><li>数组长度</li><li>数组===false</li></ul><hr><h3 id="interface与class的区别"><a href="#interface与class的区别" class="headerlink" title="interface与class的区别"></a>interface与class的区别</h3><ul><li><p><strong>interface:接口只声明成员方法，不做实现。</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>    <span class="token literal-property property">lng</span><span class="token operator">:</span>number<span class="token punctuation">;</span>    <span class="token literal-property property">lat</span><span class="token operator">:</span>number<span class="token punctuation">;</span>    <span class="token function">sayPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p><strong>class:类声明并实现方法。</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">lng<span class="token punctuation">,</span>lat</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>lng <span class="token operator">=</span> lng<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>lat <span class="token operator">=</span> lat<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sayPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'point:'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>lng<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>lat<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p><strong>extends 与 implement</strong></p><ul><li><p>extends是继承父类，只要那个类不是声明为final或者那个类定义为abstract的就能继承。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">extends</span>可以继承父类的方法，也可以重写他，但是要注意的是，如果父类是抽象类，内部有抽象的方法，子类在<span class="token keyword">extends</span>的时候，如果子类不是抽象类，那么子类就一定要对父类中的抽象方法进行重写。但如果子类也是抽象类，则可以不可考虑重写。<span class="token keyword">extends</span>支持子类，孙类<span class="token operator">...</span><span class="token operator">...</span>即可以继承多代。</code></pre></li><li><p>继承只能继承一个类，但implements可以实现多个接口，用逗号分开就行了</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token keyword">extends</span> <span class="token class-name">B</span> <span class="token keyword">implements</span> <span class="token class-name">C</span><span class="token punctuation">,</span><span class="token constant">D</span><span class="token punctuation">,</span><span class="token constant">E</span><span class="token comment">// C,D,E 是interface类型的，且他的里面的方法都是abstract类型的方法。</span></code></pre></li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue2项目</title>
      <link href="/2022/07/24/vue2-xiang-mu/"/>
      <url>/2022/07/24/vue2-xiang-mu/</url>
      
        <content type="html"><![CDATA[<h3 id="vue2项目"><a href="#vue2项目" class="headerlink" title="vue2项目"></a>vue2项目</h3><ol><li>使用vue-cli搭建项目，并结合蓝湖+PS进行页面切图，实现对设计稿的高保真还原；</li><li>使用axios进行数据请求，并对其进行请求拦截器响应拦截器封装；</li><li>封装所有请求的api，统一管理项目所有的请求路径</li><li>鉴权,认证机制采用手机+验证码、手机+密码及微信扫码登录认证，其中微信扫码登录结合环境变量，调用后端接口实现平台切换验证；</li><li>使用localStorage对token进行存储;</li><li>使用原生JS在组件mounted中监听滚动，并实现向下滚动加载更多；</li><li>使用组内导航守卫对每个进入个人中心页的路由进行拦截，判断路径后保证有token方能进入该路由；</li><li>使用路由监听解决路由跳转而页面不跳转的问题；</li><li>给组件绑定key属性，通过修改key值来进行组件重载;</li></ol><p><img src="/2022/07/24/vue2-xiang-mu/vue2%E9%A1%B9%E7%9B%AE-1659239628750.png" alt="vue2项目"></p><p><img src="/2022/07/24/vue2-xiang-mu/day01%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8A%A0%E5%A4%B4%E9%83%A8.png" alt="day01项目初始化加头部"></p><p><img src="/2022/07/24/vue2-xiang-mu/%E9%A1%B9%E7%9B%AEday2-%E7%99%BB%E5%BD%95%E6%A1%86%E6%A0%B7%E5%BC%8F%E6%BB%91%E5%9D%97%E9%AA%8C%E8%AF%81%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81.png" alt="项目day2-登录框样式滑块验证手机验证码"></p><p><img src="/2022/07/24/vue2-xiang-mu/day03%E6%89%8B%E6%9C%BA%E7%99%BB%E5%BD%95%E9%80%BB%E8%BE%91%E6%8F%90%E7%A4%BA%E6%A1%86%E5%B0%81%E8%A3%85.png" alt="day03手机登录逻辑提示框封装"></p><p><img src="/2022/07/24/vue2-xiang-mu/day04%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%B7%AF%E7%94%B1%E7%9B%91%E5%90%AC%E7%BB%84%E4%BB%B6%E9%87%8D%E8%BD%BD.png" alt="day04微信扫码登录路由监听组件重载"></p><p><img src="/2022/07/24/vue2-xiang-mu/day05%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E6%90%BA%E5%B8%A6token%E8%AF%B7%E6%B1%82%E9%A6%96%E9%A1%B5%E5%B8%83%E5%B1%80.png" alt="day05获取用户信息携带token请求首页布局"></p><p><img src="/2022/07/24/vue2-xiang-mu/day06%E8%AF%A6%E6%83%85%E9%A1%B5%E5%A4%84%E7%90%86.png" alt="day06详情页处理"></p><p><img src="/2022/07/24/vue2-xiang-mu/day07%E5%85%A8%E9%83%A8%E5%95%86%E5%93%81%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB%E5%8F%8A%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83.png" alt="day07全部商品导航守卫及个人中心"></p><p><img src="/2022/07/24/vue2-xiang-mu/day08%E5%8A%A0%E8%BD%BD%E6%9B%B4%E5%A4%9A%E5%A4%84%E7%90%86%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" alt="day08加载更多处理环境变量"></p><h2 id="积分商城Vue项目15问"><a href="#积分商城Vue项目15问" class="headerlink" title="积分商城Vue项目15问"></a>积分商城Vue项目15问</h2><h4 id="1-这是个什么类型的项目-这个项目采用了什么技术栈"><a href="#1-这是个什么类型的项目-这个项目采用了什么技术栈" class="headerlink" title="1 这是个什么类型的项目,这个项目采用了什么技术栈"></a>1 这是个什么类型的项目,这个项目采用了什么技术栈</h4><p>这是一个采用官方脚手架搭建的pc端的单页应用,该应用主要功能有微信扫码登录,手机加验证码登录,个人中心,购物车,商品详情,商品列表,商品检索等功能,该项目主要用于用户积分兑换商品,该项目是一个中大型的pc端的电商项目</p><h4 id="2-项目中用什么做数据请求-有没有进行什么封装"><a href="#2-项目中用什么做数据请求-有没有进行什么封装" class="headerlink" title="2 项目中用什么做数据请求,有没有进行什么封装"></a>2 项目中用什么做数据请求,有没有进行什么封装</h4><p>用vue的axios做数据请求,有将响应拦截器,请求拦截器统一封装,请求拦截器主要用于发起请求前做一些准备工作,设置请求头,携带参数等等,响应拦截器主要用于对失败业务的统一处理,封装所有的api便于统一管理项目中的所有接口路径</p><h4 id="3-项目中有没有使用async-await-怎么用的"><a href="#3-项目中有没有使用async-await-怎么用的" class="headerlink" title="3 项目中有没有使用async+await,怎么用的"></a>3 项目中有没有使用async+await,怎么用的</h4><p>异步发起请求使用的,异步代码同步化,解决回调地狱,请求头统一处理,接口的同一处理</p><h4 id="4-简单说一下短信验证登录的业务逻辑"><a href="#4-简单说一下短信验证登录的业务逻辑" class="headerlink" title="4 简单说一下短信验证登录的业务逻辑"></a>4 简单说一下短信验证登录的业务逻辑</h4><p>点击发送短信验证码： </p><p>1、需要判断用户输入的手机号码合不合法 </p><p>2、判断用户对滑块验证有没有通过</p><p>3、前面的验证都通过就发送短信验证码的请求。</p><p> 4、发请求要携带用户输入的手机号码给后端。</p><p>5、后端响应回来的数据，需要在响应拦截器判断code是否为0。</p><p>​如果code不为 0， 就代表不成功，就return false 。所以在发送请求之后需要判断响应回来的res是否为false，为false就return掉。不进行后面的业务逻辑。</p><p>​如果code为 0 。就代表成功，成功需要处理的业务逻辑：</p><p>​1、提示用户发送短信成功。</p><p>​    2、做一个倒计时效果。</p><p>​3、切换到转倒计时的盒子，改变样式。 </p><p>​4、倒计时结束就切换回获取验证码的盒子。</p><h4 id="5-简单说一下微信扫码登录的业务逻辑"><a href="#5-简单说一下微信扫码登录的业务逻辑" class="headerlink" title="5 简单说一下微信扫码登录的业务逻辑"></a>5 简单说一下微信扫码登录的业务逻辑</h4><p>微信扫码登录的业务逻辑：</p><p>1、扫码之后，微信平台会响应一个code拼接到浏览器地址栏上面，需要获取地址栏上面的code。</p><p>2、发送扫码登录的请求，并携带获取到的code给后端。</p><p>3、后端响应回来数据，需要在响应拦截器判断code是否为 0、400、407</p><p>​如果code不是这三个其中一个就代表业务失败。</p><p>​如果code为400：1、需要提示用户扫码失败，需要重新扫码登录。2、弹出登录框让用户重新扫码。</p><p>​如果code为407：1、需要提示用户微信还没有绑定手机号，需要进行手机号登录绑定微信。2、弹出登录框让用户手机号登录。3、保存后端响应回来的 uuid </p><p>​如果code为 0 表示扫码登录成功：1、提示用户登录成功。2、关闭登录窗口。3、更新登录状态栏。 4、保存响应回来的 token 5、发送获取用户信息的请求，获取数据更新Topbar组件上的用户信息</p><h4 id="6-简单描述一下如何封装提示组件"><a href="#6-简单描述一下如何封装提示组件" class="headerlink" title="6 简单描述一下如何封装提示组件"></a>6 简单描述一下如何封装提示组件</h4><p>1、创建一个组件，结构样式搭建好。2、将数据放到Vuex中管理。3、因为提示组件是先显示，一段时间后就隐藏。4、所以需要定义一个定时器来隐藏掉这个提示组件。5、因为定时器是异步的，所以需要放到Actions中，然后用commit方法来调用mutations中的方法来修改提示组件中的内容。6、先显示后隐藏，所以actions中要先调用一次 mutations中的方法让提示组件显示，然后再执行定时器里的。 </p><h4 id="7-这个项目中你是如何保存登录用户数据的"><a href="#7-这个项目中你是如何保存登录用户数据的" class="headerlink" title="7 这个项目中你是如何保存登录用户数据的"></a>7 这个项目中你是如何保存登录用户数据的</h4><p>使用localStorage保存用户数据。数据放到Vuex中管理</p><h4 id="8-如何实现组件重载"><a href="#8-如何实现组件重载" class="headerlink" title="8 如何实现组件重载"></a>8 如何实现组件重载</h4><p>给组件绑定key属性,通过修改key的值来进行组件重载</p><h4 id="9-请简单描述Vue如何渲染富html文本字符串-例如-lt-p-gt-这是p标签-lt-p-gt"><a href="#9-请简单描述Vue如何渲染富html文本字符串-例如-lt-p-gt-这是p标签-lt-p-gt" class="headerlink" title="9 请简单描述Vue如何渲染富html文本字符串(例如:<p>这是p标签</p>)"></a>9 请简单描述Vue如何渲染富html文本字符串(例如:<code>&lt;p&gt;这是p标签&lt;/p&gt;</code>)</h4><p>替换本标签内部的内容,v-text 不具有解析标签的能力,但v-html有解析标签的能力  ,使用v-html指令进行渲染。如果里面有图片的路径是不完整的，就需要将这个富文本进行替换。使用replace（‘旧的值’，‘新的值’）这个值替换掉一个就得值  replaceAll（‘旧的值’，‘新的值’）这个是就得值全部替换。</p><h4 id="10-请简单描述用vue实现tab栏切换的基本逻辑"><a href="#10-请简单描述用vue实现tab栏切换的基本逻辑" class="headerlink" title="10 请简单描述用vue实现tab栏切换的基本逻辑"></a>10 请简单描述用vue实现tab栏切换的基本逻辑</h4><p>创建组件,配置路由,通过点击事件修改路由,实现tab栏的切换</p><h4 id="11-请简单描述你所完成的加入购物车流程以及购物车的基本功能"><a href="#11-请简单描述你所完成的加入购物车流程以及购物车的基本功能" class="headerlink" title="11  请简单描述你所完成的加入购物车流程以及购物车的基本功能"></a>11  请简单描述你所完成的加入购物车流程以及购物车的基本功能</h4><p>点击加入购物车：1、判断用户有没有登录。2、没有登录就提示用户登录后才能添加进购物车。3、弹出登录框让用户进行登录。4、已经登录就发送加入购物车请求，并携带 商品的id、商品的数量、和直接修改购物车中的商品数量 这三个参数给后端。</p><p>购物车的基本功能：1、判断用户有没有登录。2、没有登录就要用到组件内部的导航守卫，不能进去个人中心。提示用户登录后才能进入个人中心。3、并弹出登录框让用户进行登录。4、已经登录就发送查看购物车的请求。5、响应回来的数据进行页面的渲染。6、购物车的全选和反选。7、购物车数量的加减。 8、选中后才更新计算价钱。9、商品的删除功能。</p><h4 id="12-请简单描述如何处理404页面"><a href="#12-请简单描述如何处理404页面" class="headerlink" title="12 请简单描述如何处理404页面"></a>12 请简单描述如何处理404页面</h4><p>路径输入错误,配置路由 在路由配置中使用通配符 *号来指明路径属性path </p><h4 id="13-这个项目中有使用到Vuex吗-是怎么使用的"><a href="#13-这个项目中有使用到Vuex吗-是怎么使用的" class="headerlink" title="13 这个项目中有使用到Vuex吗,是怎么使用的"></a>13 这个项目中有使用到Vuex吗,是怎么使用的</h4><p>没有使用vuex,在vuex中存放数据state,mutation保存修改state的数据方法和函数,getter保存修改state数据的方法,action存放异步修改数据的方法和函数</p><h4 id="14-请简单描述如何实-现滚动到底部加载更多"><a href="#14-请简单描述如何实-现滚动到底部加载更多" class="headerlink" title="14 请简单描述如何实 现滚动到底部加载更多"></a>14 请简单描述如何实 现滚动到底部加载更多</h4><p>使用原生JS在组件mounted中监听滚动，并实现滚动到底部滚动加载更多；</p><h4 id="15-请简单描述Vue项目中如何配置跨域"><a href="#15-请简单描述Vue项目中如何配置跨域" class="headerlink" title="15 请简单描述Vue项目中如何配置跨域"></a>15 请简单描述Vue项目中如何配置跨域</h4><p>将request中的baseURL地址换成/api,在vue.config.js组件中,添加proxy对象下面/api对象下面target: process.env.VUE_APP_BASE_URL,pathRewrite: { ‘^/api’: ‘’}将地址里面的api换成空字符串</p><h4 id="16-请简单描述Vue项目中如何配置环境变量"><a href="#16-请简单描述Vue项目中如何配置环境变量" class="headerlink" title="16 请简单描述Vue项目中如何配置环境变量"></a>16 请简单描述Vue项目中如何配置环境变量</h4><p>项目目录下新建两个文件，分别是开发环境和生产环境下的两个不同配置新建.env.dev和.env.prod文件夹配置对应的地址,在package.json中修改启动命令,在vue.config.js中换成 target: process.env.VUE_APP_BASE_URL</p><h4 id="17-你接触过-vue-router-里的几种导航钩子？有什么区别？"><a href="#17-你接触过-vue-router-里的几种导航钩子？有什么区别？" class="headerlink" title="17. 你接触过 vue-router 里的几种导航钩子？有什么区别？"></a>17. 你接触过 vue-router 里的几种导航钩子？有什么区别？</h4><p>1.全局前置守卫 router.beforEach,有三个参数 to,from,next </p><p>​to 去哪里,from 从哪里来,next() 是否渲染 ,</p><p>2.路由独享守卫 beforeEnter 写在路由配置里面,语法与全局前置守卫相似.</p><p>3.组件内守卫  beforeRouteEnter  在渲染该组件的对应路由被验证前调用,不能获取组件实例 <code>this</code> ,因为当守卫执行时，组件实例还没被创建！语法同上</p><p>4.组件内守卫 beforeRouteUpdate  在当前路由改变，但是该组件被复用时调用,举例来说，对于一个带有动态参数的路径 <code>/users/:id</code>，在 <code>/users/1</code> 和 <code>/users/2</code> 之间跳转的时候,由于会渲染同样的 <code>UserDetails</code> 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用</p><h4 id="18-项目中tab切换效果如何实现"><a href="#18-项目中tab切换效果如何实现" class="headerlink" title="18. 项目中tab切换效果如何实现"></a>18. 项目中tab切换效果如何实现</h4><p>定义一个初始数据,判断是否索引相等,添加点击事件修改索引,实现tab切换</p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git</title>
      <link href="/2022/07/21/git/"/>
      <url>/2022/07/21/git/</url>
      
        <content type="html"><![CDATA[<h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><p><img src="/2022/07/21/git/1-1658334412898.png" alt="1"></p><blockquote><p>注意一定要切换到<strong>自己git分支</strong>上再修改文件</p></blockquote><h2 id="三、Git概念"><a href="#三、Git概念" class="headerlink" title="三、Git概念"></a>三、Git概念</h2><p><a href="https://juejin.cn/post/6974184935804534815">详细教程</a></p><p>Git是一个免费的开源<strong>分布式</strong>版本控制系统，它可以快速高效地处理从小型到大型的项目。</p><p>简单点说就是：git分布式版本控制工具（管理代码版本）。</p><p>常见版本控制系统：git、svn等</p><p>我们常用的Git代码托管平台有：<strong>Gitee</strong>(码云)、GitLab、<strong>GitHub</strong>等。</p><h2 id="四、集中式和分布式"><a href="#四、集中式和分布式" class="headerlink" title="四、集中式和分布式"></a>四、集中式和分布式</h2><p>集中式：(SVN)<br><img src="/2022/07/21/git/1649402056467.png" style="width:30%"></p><p>分布式:(Git)<br><img src="/2022/07/21/git/1649402072687.png" style="width:30%"></p><h3 id="4-1-对比"><a href="#4-1-对比" class="headerlink" title="4.1 对比"></a>4.1 对比</h3><p>1）Git是分布式的，SVN集中式<br>2）Git每个历史版本存储完整的文件，SVN存储文件的差异<br>3）Git可离线完成大部分操作，SVN则必须与中央服务器进行网络交互<br>4）Git有着优雅的分支和合并功能<br>5）Git有着更强的撤销修改和修改版本历史的能力<br>6）Git速度更快，效率更高</p><h2 id="五、Git使用"><a href="#五、Git使用" class="headerlink" title="五、Git使用"></a>五、Git使用</h2><h3 id="5-1、下载及安装Git"><a href="#5-1、下载及安装Git" class="headerlink" title="5.1、下载及安装Git"></a>5.1、下载及安装Git</h3><p>这里提供Git下载地址：<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></p><p>安装，next-&gt;next …</p><p>（其他文件夹中已提供安装包）</p><p>安装成功后</p><p>检查方式一： win+R , cmd  , git –version</p><p>检查方式二： 右键出现两个git菜单</p><h3 id="5-2、Git全局配置"><a href="#5-2、Git全局配置" class="headerlink" title="5.2、Git全局配置"></a>5.2、Git全局配置</h3><blockquote><p>基本配置 ： user.name &amp; user.email<br>git config –global user.name “Your Name”<br>git config –global user.email “<a href="mailto:email@example.com">email@example.com</a>“<br>这台机器上所有的Git仓库都会使用这个配置</p><p>查看配置 ： git config –list</p><p><a href="mailto:18802582132@163.com">18802582132@163.com</a></p></blockquote><h3 id="5-3、Gitee远程创建仓库"><a href="#5-3、Gitee远程创建仓库" class="headerlink" title="5.3、Gitee远程创建仓库"></a>5.3、Gitee远程创建仓库</h3><p>注册（用邮箱注册）<a href="https://gitee.com/%EF%BC%8C%E5%B9%B6%E7%99%BB%E5%BD%95%E5%88%B0Gitee%E3%80%82">https://gitee.com/，并登录到Gitee。</a></p><p>新建仓库：<br><img src="/2022/07/21/git/1649406074069.png" style="width:40%"><br>添加仓库信息：<br><img src="/2022/07/21/git/1649406678473.png" style="width:60%"></p><h3 id="5-4、Gitee中配置SSH公钥"><a href="#5-4、Gitee中配置SSH公钥" class="headerlink" title="5.4、Gitee中配置SSH公钥"></a>5.4、Gitee中配置SSH公钥</h3><ul><li>注册（用邮箱注册）<a href="https://gitee.com/%EF%BC%8C%E5%B9%B6%E7%99%BB%E5%BD%95%E5%88%B0Gitee%E5%90%8E%EF%BC%8C%E9%BC%A0%E6%A0%87%E7%A7%BB%E8%87%B3%E5%8F%B3%E4%B8%8A%E8%A7%92%E5%A4%B4%E5%83%8F%EF%BC%8C%E4%B8%8B%E6%8B%89%E9%80%89%E9%A1%B9%E4%B8%AD%E9%80%89%E6%8B%A9">https://gitee.com/，并登录到Gitee后，鼠标移至右上角头像，下拉选项中选择</a> <code>设置</code></li><li>左侧菜单栏中选择SSH公钥，在右侧添加公钥</li><li>怎么生成本机的公钥？请查看：<a href="https://gitee.com/help/articles/4181">https://gitee.com/help/articles/4181</a></li></ul><blockquote><p>创建ssh key  ： ssh-keygen -t rsa -C <a href="mailto:youremail@example.com">youremail@example.com</a><br>按照提示完成三次回车，即可生成 ssh key。<br>本地用户目录下,找到本地文件id_rsa.pub文件的内容<br>复制生成后的 ssh key，设置-&gt; 安全设置 -&gt; SSH公钥 把添加生成的 public key 添加到仓库中。</p></blockquote><h3 id="5-5、Git日常操作"><a href="#5-5、Git日常操作" class="headerlink" title="5.5、Git日常操作"></a>5.5、Git日常操作</h3><pre class="language-shell" data-language="shell"><code class="language-shell">1、 克隆代码（把远程仓库拉取到本地）： git clone 仓库地址2、 查看仓库状态: git status3、 提交工作区代码到暂存区 ： git add 文件路径 或者 .(所有文件)  或者 --all4、 提交暂存区代码到本地仓库（历史记录）区： git commit -m '本次提交的信息提示'5、 提交本地仓库（历史记录）区的提交记录到远程仓库： git push origin 分支名称6、 查看提交的历史记录：： git log 或  git log --pretty=oneline7、 简洁查看所有分支的所有操作记录： git reflog8、 远程仓库更新了, git pull origin 分支名 将远程分支更新到本地，默认合并9、 </code></pre><p>注意点 ：<font color="red">git提示的信息里面只要有<strong>fatal</strong> 或者<strong>error</strong>这两个词随便一个，都是执行git命令失败了</font></p><h3 id="5-6、工作区、暂存区、主分支"><a href="#5-6、工作区、暂存区、主分支" class="headerlink" title="5.6、工作区、暂存区、主分支"></a>5.6、工作区、暂存区、主分支</h3><img src="/2022/07/21/git/1649410687843.png" style="width:50%">工作区：电脑中能够看到的目录，例如gitDemo文件夹就是一个工作区版本库：工作区有一个隐藏目录.git,这就是Git版本库。 版本库中有一个暂存区stage自动一个master分支，指向一个Head<h3 id="5-7、分支"><a href="#5-7、分支" class="headerlink" title="5.7、分支"></a>5.7、分支</h3><p>分支使用场景：</p><p>3月刚发布一个v1.0版本的项目，发布完之后张三开始继续开发A功能当开发到50%，发现v1.0版本项目出bug了，需要立即修复… 如果张三改的正好就是v1.0版本代码，这就必须把代码删掉了，先修复bug 。解决方案：分支</p><p>语法：</p><pre class="language-shell" data-language="shell"><code class="language-shell">查看分支： git branch创建分支： git branch &lt;name&gt;切换分支： git checkout &lt;name&gt;创建&amp;切换分支： git checkout -b &lt;name&gt;删除分支： git branch -d &lt;名称&gt;</code></pre><p>在gitee中创建项目(例如创建了 <code>demo0630</code> 这个项目)，执行以下命令：</p><pre class="language-shell" data-language="shell"><code class="language-shell">// 克隆仓库到本地git clone git@gitee.com:codesohigh/demo0630.git// 检查当前分支git branch</code></pre><p>一般此时是master分支，但我们开发阶段一般用dev等其他分支，所以我们：</p><pre class="language-shell" data-language="shell"><code class="language-shell">//创建并切换到dev分支git checkout -b dev</code></pre><ul><li>第一个注意的点：</li></ul><blockquote><p>在仓库没有初始化前，如果需要检查分支，一定要记住这句话：未曾commit的仓库是无法检查分支的！</p></blockquote><ul><li>第二个注意点：</li></ul><blockquote><p>切分支之前保证工作树是干净的。</p></blockquote><ul><li>第三个注意点：</li></ul><blockquote><p>实际上使用git switch 也可以实现创建和切换分支功能：</p><pre class="language-js" data-language="js"><code class="language-js">git <span class="token keyword">switch</span> <span class="token operator">-</span>c dev   <span class="token comment">// 创建并切换到新的dev分支</span>git <span class="token keyword">switch</span> dev<span class="token comment">// 切换到已有的dev分支</span></code></pre></blockquote><ul><li><strong>不同分支下，提交文件方式相同，git add . , git commit -m ‘’ , git push origin dev</strong></li></ul><p>此时你会发现，<code>git checkout master</code> 切回master分支后，dev分支下修改的内容看不见，因为当前分支不存在这个修改动作。</p><h3 id="5-8、合并分支"><a href="#5-8、合并分支" class="headerlink" title="5.8、合并分支"></a>5.8、合并分支</h3><p>假设当前项目已经完成，我们想要把dev分支合并到master，可以在master分支下使用：</p><pre class="language-shell" data-language="shell"><code class="language-shell">git merge dev</code></pre><p>此时，你会看到，项目中又有 <code>index.js</code> 了。</p><h3 id="5-9、合并时冲突解决"><a href="#5-9、合并时冲突解决" class="headerlink" title="5.9、合并时冲突解决"></a>5.9、合并时冲突解决</h3><p>在master分支下和dev分支下同时对index.js文件进行修改，并提交到本地仓库。 </p><p>切换到master分支中合并dev分支，由于都修改了同样的问题，此时出现冲突</p><img src="/2022/07/21/git/1649414769324.png" style="width:50%"><h3 id="5-10、版本回滚"><a href="#5-10、版本回滚" class="headerlink" title="5.10、版本回滚"></a>5.10、版本回滚</h3><p>使用 <code>git switch -c dev1</code> 创建新的dev1分支，稍微修改dev1中的index.js，并且提交到远程仓库。</p><p>我们提交完成后，发现自己不想用当前代码，想回滚到上一次的代码，怎么办呢？</p><pre class="language-shell" data-language="shell"><code class="language-shell">// 查看当前项目提交过的所有版本（含所有分支的操作）git log// 显示很详细的信息，如果我们只想简单看看版本号，可以使用git log --pretty=oneline</code></pre><p>我们会得到：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">b2ff1beb92bd3ac425dac2fa519d4b8191438be9</span> <span class="token punctuation">(</span><span class="token constant">HEAD</span> <span class="token operator">-</span><span class="token operator">&gt;</span> dev1<span class="token punctuation">)</span> <span class="token string">'123456'</span><span class="token function">c9efd011b471765fc9fdd6eefaadf75b3b36153b</span> <span class="token punctuation">(</span>origin<span class="token operator">/</span>dev1<span class="token punctuation">)</span> <span class="token string">'12345'</span>80f6cb77a9b13cd471b725b5ef66901150bf57bb <span class="token string">'提交'</span><span class="token number">47</span><span class="token function">d676dbf6d0687d76f059ee9ed044c4c378ed30</span> <span class="token punctuation">(</span>origin<span class="token operator">/</span>master<span class="token punctuation">,</span> origin<span class="token operator">/</span><span class="token constant">HEAD</span><span class="token punctuation">)</span> <span class="token string">'dev1的首次提交'</span><span class="token function">d5c756afd04abfdbc9bb2299064eab34b30ede5f</span> <span class="token punctuation">(</span>origin<span class="token operator">/</span>dev<span class="token punctuation">,</span> dev<span class="token punctuation">)</span> <span class="token string">'修改了index.js'</span>65f4c72f6c8e2c272d4e284c103e249c65ebff32 Initial commit</code></pre><p>如果我们只想回滚到指定版本，可以使用：</p><pre class="language-js" data-language="js"><code class="language-js">git reset <span class="token operator">--</span>hard c9efd</code></pre><p>这里只需要写id号的前几个字母与数字就行，没必要全写，git会自动去检索。</p><p>但此时，我们再一次查看所有版本，发现：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">c9efd011b471765fc9fdd6eefaadf75b3b36153b</span> <span class="token punctuation">(</span>origin<span class="token operator">/</span>dev1<span class="token punctuation">)</span> <span class="token string">'12345'</span>80f6cb77a9b13cd471b725b5ef66901150bf57bb <span class="token string">'提交'</span><span class="token number">47</span><span class="token function">d676dbf6d0687d76f059ee9ed044c4c378ed30</span> <span class="token punctuation">(</span>origin<span class="token operator">/</span>master<span class="token punctuation">,</span> origin<span class="token operator">/</span><span class="token constant">HEAD</span><span class="token punctuation">)</span> <span class="token string">'dev1的首次提交'</span><span class="token function">d5c756afd04abfdbc9bb2299064eab34b30ede5f</span> <span class="token punctuation">(</span>origin<span class="token operator">/</span>dev<span class="token punctuation">,</span> dev<span class="token punctuation">)</span> <span class="token string">'修改了index.js'</span>65f4c72f6c8e2c272d4e284c103e249c65ebff32 Initial commit</code></pre><p>最新写的那个丢失了。但我此时又后悔了，怎么办？</p><pre class="language-shell" data-language="shell"><code class="language-shell">// 重新reset即可找回git reset --hard b2ff1</code></pre><p>现在，就可以退回最新版本了。</p><p>但这个方法前提是你当前这个控制台不曾关掉，如果已经关掉了，你是没法知道版本号的，这时候要怎么办呢？</p><pre class="language-shell" data-language="shell"><code class="language-shell">// Git提供了一个命令git reflog用来记录你的每一次命令git reflog</code></pre><p>补充：远程仓库删除<br><img src="/2022/07/21/git/1649416441474.png" alt="1649416441474"></p><ul><li><p>遇到：解决：git pull origin 分支名 –allow-unrelated-histories 强制更新</p><pre class="language-git" data-language="git"><code class="language-git">hint:<span class="token string">'git push ...)'</span></code></pre></li><li></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue2-案例</title>
      <link href="/2022/07/19/vue2-an-li/"/>
      <url>/2022/07/19/vue2-an-li/</url>
      
        <content type="html"><![CDATA[<h1 id="vue-案例"><a href="#vue-案例" class="headerlink" title="vue-案例"></a>vue-案例</h1><h2 id="购物车【全选-x2F-多选框，计算属性get-set方法】"><a href="#购物车【全选-x2F-多选框，计算属性get-set方法】" class="headerlink" title="购物车【全选/多选框，计算属性get,set方法】"></a>购物车【全选/多选框，计算属性get,set方法】</h2><img src="/2022/07/19/vue2-an-li/image-20220716232708429.png" alt="image-20220716232708429" style="zoom: 80%;"><p><strong>方法1：(多选框数组)</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn1<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isCheckedAll<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>全选/全不选                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>书籍名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>出版日期<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>价格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>数量<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tbody<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in books<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkList[index]<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.date}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stepFn(-1,index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{item.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stepFn(1,index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>移除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>totalc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        总价: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>total<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>￥{{total}}元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token comment">/*         1. 渲染数据           2. 计算总价         3. 实现步进器功能         4. 实现全选,全不选的功能  方式一 使用数组来存储选中状态         */</span>        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token comment">// 每一项多选框的选中状态 [false,false,false,false]，可以用数组控制【重】</span>                <span class="token literal-property property">checkList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">books</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"算法导论"</span><span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">"2007-9"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"UNIX编程艺术"</span><span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">"2027-9"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Vue程序设计"</span><span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">"2017-9"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"颈椎康复"</span><span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">"2009-9"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">//同步删除下复选框数组，不能只加不减【重】</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>checkList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token comment">// 步进器，两个功能结构大致相同，作用于同一个数据，可以用同一个方法表示【扩展】</span>                <span class="token function">stepFn</span><span class="token punctuation">(</span><span class="token parameter">step<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> step<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// 利用reduce第三个值index，该位置的数组是否为true，选中就计算。 【扩】</span>                    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkList<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">?</span> cur<span class="token punctuation">.</span>price <span class="token operator">*</span> cur<span class="token punctuation">.</span>count <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token literal-property property">isCheckedAll</span><span class="token operator">:</span> <span class="token punctuation">{</span>                    <span class="token comment">// 计算属性的get(),set() 格式 【扩，重】</span>                    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token comment">// 复选框都没有了，全选框不能勾选上【细】</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkList<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                        <span class="token comment">//判断checkList数组中是否有一个为false,如果是 则不选中,如果没有 则选中【扩,重】</span>                        <span class="token comment">// 如果this.checkList.includes(false)  返回true --- 设置不选中  要取反</span>                        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkList<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token comment">// 当用户手动修改isCheckedAll的值后就会触发set()方法</span>                    <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token comment">// newVal 是收到用户手动修改isCheckedAll的值</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span>checkList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token comment">// 每一项多选框的选中状态，默认长度是数据的长度【重】</span>            <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>checkList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>方法二  (数据添加属性)</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn1<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isCheckedAll<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>全选/全不选                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>书籍名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>出版日期<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>价格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>数量<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tbody<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in books<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.isChecked<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.date}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stepFn(-1,index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{item.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stepFn(1,index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>移除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>totalc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        总价: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>total<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>￥{{total}}元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">books</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"算法导论"</span><span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">"2007-9"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"UNIX编程艺术"</span><span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">"2027-9"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Vue程序设计"</span><span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">"2017-9"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"颈椎康复"</span><span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">"2009-9"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">stepFn</span><span class="token punctuation">(</span><span class="token parameter">step<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> step<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>isChecked <span class="token operator">?</span> cur<span class="token punctuation">.</span>price <span class="token operator">*</span> cur<span class="token punctuation">.</span>count <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token comment">// 另一种求和写法：【扩】</span>                <span class="token comment">//if (cur.isShow) {</span>                <span class="token comment">//    return pre + cur.price * cur.count;</span>                <span class="token comment">//} else {</span>                <span class="token comment">//return pre;</span>                <span class="token comment">//}</span>                <span class="token literal-property property">isCheckedAll</span><span class="token operator">:</span> <span class="token punctuation">{</span>                    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token comment">// 默认全选为 true  【开关思想】</span>                        <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                        <span class="token comment">// 列表为空，全选为空</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                            <span class="token keyword">return</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                            <span class="token comment">// 判断是否有一项为 false</span>                            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>isChecked<span class="token punctuation">)</span> <span class="token punctuation">{</span>                                <span class="token comment">// flag = false;</span>                                <span class="token keyword">return</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span>                        <span class="token punctuation">}</span>                        <span class="token keyword">return</span> flag<span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                            item<span class="token punctuation">.</span>isChecked <span class="token operator">=</span> newVal<span class="token punctuation">;</span>                        <span class="token punctuation">}</span><span class="token punctuation">)</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token comment">// 给每一个对象增加一个是否选中的属性,isChecked:false 【扩】</span>            <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 在Vue2.0中，单独修改数组的某个元素的时候，触发不了视图层的修改。</span>                <span class="token comment">// this.books.forEach(item =&gt; {</span>                <span class="token comment">//     item.isChecked = true;</span>                <span class="token comment">// });</span>                <span class="token comment">// this.$set(要修改的数组,要修改的下标,要修改成的值)</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token string">"isChecked"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="用户添加表格【样式大于、多选、嵌套v-for】"><a href="#用户添加表格【样式大于、多选、嵌套v-for】" class="headerlink" title="用户添加表格【样式大于、多选、嵌套v-for】"></a>用户添加表格【样式大于、多选、嵌套v-for】</h2><img src="/2022/07/19/vue2-an-li/image-20220719160716315.png" alt="image-20220719160716315" style="zoom:80%;"><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>用户列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!-- 根据数据长度判断，样式 数据的出现和消失--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user.length == 0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>暂无数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user.length&gt;0<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sj<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in title<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!-- 样式大于60添加 【基】--&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in user<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{color:item.age&gt;60}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.gender}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token comment">&lt;!-- 那个需要遍历(变多)，v-for 就写那 【重】 --&gt;</span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hob in item.hobby<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hob<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> {{hob}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>总人数为：{{user.length}}人,大于60岁的人数有：{{surplus}}人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>                用户名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>                年龄：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ageVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>                性别；                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>男<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 男                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>女<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 女                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>                爱好(多选按钮)：                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>吃<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>吃                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>玩<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>玩                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>睡觉<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>睡觉                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>唱歌<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>唱歌            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>添加<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"用户名"</span><span class="token punctuation">,</span> <span class="token string">"年龄"</span><span class="token punctuation">,</span> <span class="token string">"性别"</span><span class="token punctuation">,</span> <span class="token string">"爱好"</span><span class="token punctuation">,</span> <span class="token string">"编辑"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"吃"</span><span class="token punctuation">,</span> <span class="token string">"玩"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"玩"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"王五"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"睡觉"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>                <span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span>                <span class="token comment">// 多选框可以用数组</span>                <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">txtVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                <span class="token literal-property property">ageVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入"</span><span class="token punctuation">)</span>                        <span class="token keyword">return</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ageVal<span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hobby <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// 还原</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> <span class="token string">"男"</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>hobby <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>ageVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"确定要删除吗？"</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">surplus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">60</span><span class="token punctuation">)</span>                    <span class="token keyword">return</span> ret<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token comment">// 方法二：变量计算法计算</span>                <span class="token comment">//     let count = 0;</span>                <span class="token comment">//     this.arr.forEach((item) =&gt; {</span>                <span class="token comment">//         if (item.age &gt; 60) {</span>                <span class="token comment">//             count++;</span>                <span class="token comment">//         }</span>                <span class="token comment">//     });</span>                <span class="token comment">//     return count;</span>                <span class="token comment">// },</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="tabbar-【插槽、组件】"><a href="#tabbar-【插槽、组件】" class="headerlink" title="tabbar 【插槽、组件】"></a>tabbar 【插槽、组件】</h2><img src="/2022/07/19/vue2-an-li/image-20220719193853489.png" alt="image-20220719193853489" style="zoom:80%;"><p>  1.子组件添加类名，值是点击的组件添加类名，值可以是计算属性。</p><p>  2.子组件定义标签的姓名属性，和被点到的属性 标题属性</p><p>  3.父组件给每一个组件姓名，和被点击的值，由父组件控制 ，子组件显示父组件给的标题</p><p>  4.点击不同的子组件,拿到不同的子组件的iname,修改父组件控制的fcall</p><p>  5.每个组件变的是图片，可以用插件</p><pre class="language-html" data-language="html"><code class="language-html">// tabbar 组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tabbar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>我是tabbar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!-- 每一项的 li结构相同，可以写成组件 --&gt;</span>            <span class="token comment">&lt;!-- 3.每一个组件给姓名，和被点击的值，由父组件控制 --&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">iname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>it1<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>我的<span class="token punctuation">"</span></span> <span class="token attr-name">:icall</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fcall<span class="token punctuation">"</span></span> <span class="token attr-name">@fn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickfn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#normalImg</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/images/1.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#ativateImg</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/images/1s.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Item</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">iname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>it2<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>流程<span class="token punctuation">"</span></span> <span class="token attr-name">:icall</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fcall<span class="token punctuation">"</span></span> <span class="token attr-name">@fn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickfn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#normalImg</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/images/2.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#ativateImg</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/images/2s.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Item</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">iname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>it3<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>首页<span class="token punctuation">"</span></span> <span class="token attr-name">:icall</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fcall<span class="token punctuation">"</span></span> <span class="token attr-name">@fn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickfn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#normalImg</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/images/3.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#ativateImg</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/images/3s.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Item</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">iname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>it4<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>应用<span class="token punctuation">"</span></span> <span class="token attr-name">:icall</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fcall<span class="token punctuation">"</span></span> <span class="token attr-name">@fn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickfn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#normalImg</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/images/4.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#ativateImg</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@/assets/images/4s.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Item</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">import</span> Item <span class="token keyword">from</span> <span class="token string">"./item.vue"</span><span class="token punctuation">;</span>    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            Item<span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">{</span>                <span class="token comment">// 父组件控制 被修改的项</span>                <span class="token literal-property property">fcall</span><span class="token operator">:</span> <span class="token string">"it1"</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">clickfn</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 4.点击不同的子组件,拿到不同的子组件的iname,修改父组件控制的fcall</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>fcall <span class="token operator">=</span> val<span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-html" data-language="html"><code class="language-html">// item 组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hdClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtFlag ? <span class="token punctuation">'</span>ativateImg<span class="token punctuation">'</span> : <span class="token punctuation">'</span>normalImg<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!-- 1.添加类名，值是计算属性 --&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ txtcol: txtFlag }<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>        <span class="token comment">/*2.定义标签属性，每个标签的姓名属性，和被点到的属性 */</span>        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"iname"</span><span class="token punctuation">,</span> <span class="token string">"icall"</span><span class="token punctuation">,</span> <span class="token string">"title"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">txtFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>iname <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>icall<span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">hdClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// console.log(this.iname);</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"fn"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>iname<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="代办列表【数组循环删除、杂】"><a href="#代办列表【数组循环删除、杂】" class="headerlink" title="代办列表【数组循环删除、杂】"></a>代办列表【数组循环删除、杂】</h2><img src="/2022/07/19/vue2-an-li/image-20220719231904289.png" alt="image-20220719231904289" style="zoom:80%;"><p><strong>纯添加数组的方法</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>任务列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in task<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{delTxt:isChecked[index]?true:false}<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isChecked[index]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeInp(index)<span class="token punctuation">"</span></span>                                                                        <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow[index]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isInp[index]<span class="token punctuation">"</span></span> <span class="token attr-name">@blur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blurInp(index)<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upDate<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>            任务总数{{task.length}};还有{{surplus}}未完成；            【<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:;<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>完成<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>】        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入任务名称<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inp<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>添加<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">task</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"预习Vuex知识点"</span><span class="token punctuation">,</span> <span class="token string">"编写课后联系题"</span><span class="token punctuation">,</span> <span class="token string">"抄写单词20遍"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">txtVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                <span class="token literal-property property">isChecked</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">isShow</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">isInp</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">upDate</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>isChecked<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>isShow<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>isInp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isChecked<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isChecked<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span>isChecked<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span>isShow<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span>isInp<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            i<span class="token operator">--</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">changeInp</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isChecked<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span>                    <span class="token punctuation">}</span>                    <span class="token comment">// 单独修改数组的某个元素的时候，触发不了视图层的修改 $set()方法来修改元素</span>                    <span class="token comment">// this.isShow[i] = false;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShow<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// this.isInp[i] = true;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isInp<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">blurInp</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>upDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isInp<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShow<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>upDate<span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isInp<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShow<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>upDate <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">surplus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isChecked<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">return</span> ret<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>isChecked <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>isInp <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>粗略版</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>任务列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in task<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isCheck[index]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{deltxt:flag(index)}<span class="token punctuation">"</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.isShow==1<span class="token punctuation">"</span></span>                  <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeInp(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.isShow==2<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upDateTxtVal<span class="token punctuation">"</span></span> <span class="token attr-name">@blur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>change(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>            任务总数{{total}};还有{{surplus}}未完成；            【<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:;<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>完成<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>】        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txt<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入任务名称<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>添加<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token comment">// isshow: true,</span>                <span class="token literal-property property">txtflag</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">upDateTxtVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                <span class="token literal-property property">isCheck</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">txtVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                <span class="token literal-property property">task</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"预习Vuex知识点"</span><span class="token punctuation">,</span> <span class="token literal-property property">isShow</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"编写课后练习题"</span><span class="token punctuation">,</span> <span class="token literal-property property">isShow</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"抄写单词20遍"</span><span class="token punctuation">,</span> <span class="token literal-property property">isShow</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>                <span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入任务！！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">,</span> <span class="token literal-property property">isShow</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>isCheck<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isCheck<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isCheck<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token keyword">this</span><span class="token punctuation">.</span>isCheck<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// 循环删除数组，每一项会向前，索引要减一</span>                            i<span class="token operator">--</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">changeInp</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isCheck<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>upDateTxtVal<span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>upDateTxtVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>task<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">surplus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isCheck<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> item <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">)</span>                    <span class="token keyword">return</span> ret<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">flag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isCheck<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="服务列表【样式的切换】"><a href="#服务列表【样式的切换】" class="headerlink" title="服务列表【样式的切换】"></a>服务列表【样式的切换】</h2><img src="/2022/07/19/vue2-an-li/image-20220719233733250.png" alt="image-20220719233733250" style="zoom: 50%;"><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>服务列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{list:true,active:item.flag}<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in books<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hdClick(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txt<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{item.price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>total<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txt<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Total:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>￥{{total.toFixed(2)}}元<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">books</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"JavaScript"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">3000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Node"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Vue"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"React"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">2200</span> <span class="token punctuation">}</span>                <span class="token punctuation">]</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">hdClick</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>flag<span class="token punctuation">;</span>                    <span class="token comment">// console.log(this.books[i].flag);</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> pre <span class="token operator">+</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>flag <span class="token operator">?</span> cur<span class="token punctuation">.</span>price <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token string">"flag"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>homework<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>作业<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            名称：            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inp<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>查询<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!-- table 插件 --&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Infotable</span> <span class="token attr-name">:info</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span> <span class="token attr-name">@delFn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>delFn<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">import</span> Infotable <span class="token keyword">from</span> <span class="token string">"@/components/01-Homework/Infotable.vue"</span><span class="token punctuation">;</span>    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            Infotable<span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">{</span>                <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span>                        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">287</span><span class="token punctuation">,</span>                        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"严选新式样板间"</span><span class="token punctuation">,</span>                        <span class="token literal-property property">price_info</span><span class="token operator">:</span> <span class="token number">29.9</span><span class="token punctuation">,</span>                        <span class="token literal-property property">is_show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">txtVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                    <span class="token comment">// 第一种方法</span>                    <span class="token comment">// if (item.title.includes(this.txtVal)) {</span>                    <span class="token comment">//   item.is_show = true;</span>                    <span class="token comment">// } else {</span>                    <span class="token comment">//   item.is_show = false;</span>                    <span class="token comment">// }</span>                    <span class="token comment">// 第一种简化</span>                    <span class="token comment">// item.is_show = item.title.includes(this.txtVal);</span>                    <span class="token comment">// 第二种</span>                    item<span class="token punctuation">.</span>is_show <span class="token operator">=</span> item<span class="token punctuation">.</span>title<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">delFn</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">inp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                        item<span class="token punctuation">.</span>is_show <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue2-进阶</title>
      <link href="/2022/07/16/vue2-jin-jie/"/>
      <url>/2022/07/16/vue2-jin-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue2-进阶"><a href="#Vue2-进阶" class="headerlink" title="Vue2-进阶"></a>Vue2-进阶</h1><p><img src="/2022/07/16/vue2-jin-jie/vue2-%E8%BF%9B%E9%98%B6.png" alt="vue2-进阶"></p><h2 id="一、Webpack（自动化-模块化-前端开发构建工具）"><a href="#一、Webpack（自动化-模块化-前端开发构建工具）" class="headerlink" title="一、Webpack（自动化 模块化 前端开发构建工具）"></a>一、Webpack（自动化 模块化 前端开发构建工具）</h2><blockquote><p>从本质上来说，webpack是一个<strong>静态模块打包工具</strong>。<br>要想让我们写好的模块化代码在各式各样的浏览器上能做到兼容，就必须借助于其他工具；而webpack的其中一个核心就是让我们可&gt;以进行模块化开发，并帮我们处理模块间的依赖关系。不仅仅是Javascript文件，我们的css、图片、json文件等在webpack中都<br>可以当作模块来使用，这就是webpack的模块化概念。</p></blockquote><p>如果像以前开发时一个html文件可能会引用十几个js文件,而且顺序还不能乱，因为它们存在依赖关系，同时对于ES6+等新的语法，less, sass等CSS预处理都不能很好的解决……，此时就需要一个处理这些问题的工具。</p><p>Webpack就是为处理这些问题而生的，它就是把你的项目当成一个整体，通过一个入口主文件（如：index.js）,从这个文件开始找到你的项目所有的依赖文件并处理它们，最后打包成一个（或多个）浏览器可识别的JavaScript文件。</p><ol><li>有一个很大的单页应用，为了提高开发效率，要将这个项目拆成多个模块，开发完成后，这个项目可以正常跑了。但是因为多个模块是存在不同文件中的，因此加载这个单页应用时，会发出多次请求。这时我们希望能够把所有模块打包成一个文件，这样可以减少请求次数，提升体验。</li><li>在开发这个单页应用中，同样是为了提高开发效率，使用了一些js和css的扩展语言，如TypeScript及Less、stylus，这些扩展使我们可以更简洁优雅地写代码，但是开发完成开始部署时，需要将它们进行相应的转换，转换成浏览器支持的语言。这时，我们希望能够有个工具可以以很大的自动化程度去完成这个转换工作。</li><li>在这个单页应用开发完成后，我们为了提高其性能，希望做一些列处理，如把js进行压缩。</li></ol><p>在单页应用的开发中，一般情况都会遇到这3种场景，而在这三种场景webpack可以下满足我们的上述需求。通常webpack被认为是一个模块打包机，实际上它的功能不仅限于模块打包（即第一种场景下的功能），还可以进行扩展语言翻译和文件优化处理。</p><p>(逻辑多，文件多，项目的复杂性提高。)</p><h3 id="1-gulp和webpack"><a href="#1-gulp和webpack" class="headerlink" title="1. gulp和webpack"></a>1. gulp和webpack</h3><blockquote><p>Gulp侧重于前端开发的 <strong>整个过程</strong> 的控制管理（像是流水线），我们可以通过给gulp配置不同的task（通过Gulp中的gulp.task()方法配置，比如启动server、sass/less预编译、文件的合并压缩等等）来让gulp实现不同的功能，从而构建整个前端开发流程。</p></blockquote><p><strong>gulpfile.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-uglify'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//压缩代码</span><span class="token comment">// 压缩js</span>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'uglify'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> combined <span class="token operator">=</span> combiner<span class="token punctuation">.</span><span class="token function">obj</span><span class="token punctuation">(</span><span class="token punctuation">[</span>        gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'src/scripts/**/*.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//需要压缩的js文件路径</span>        sourcemaps<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//压缩js</span>        sourcemaps<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'./'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'dest/scripts'</span><span class="token punctuation">)</span> <span class="token comment">//生成的js文件的目录</span>    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//默认任务</span>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'uglify'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>Webpack有人也称之为 <strong>模块打包机</strong> ，由此也可以看出Webpack更侧重于模块打包，当然我们可以把开发中的所有资源（图片、js文件、css文件等）都可以看成模块，最初Webpack本身就是为前端JS代码打包而设计的，后来被扩展到其他资源的打包处理。Webpack是通过loader（加载器）和plugins（插件）对资源进行处理的。</p></blockquote><h3 id="2-webpack初体验"><a href="#2-webpack初体验" class="headerlink" title="2. webpack初体验"></a>2. webpack初体验</h3><h4 id="1-生成项目依赖文件"><a href="#1-生成项目依赖文件" class="headerlink" title="1. 生成项目依赖文件"></a>1. 生成项目依赖文件</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 执行后生成package.json文件</span>npm init <span class="token operator">-</span>y</code></pre><h4 id="2-安装依赖（node环境在16-12-0下！）"><a href="#2-安装依赖（node环境在16-12-0下！）" class="headerlink" title="2. 安装依赖（node环境在16.12.0下！）"></a>2. 安装依赖（node环境在16.12.0下！）</h4><p>nvm install 16.12.0</p><p>nvm use 16.12.0</p><p>node -v </p><p>// 全局安装webpack和webpack-cli  （不推荐）<br>npm i <a href="mailto:webpack@4.44.1">webpack@4.44.1</a> <a href="mailto:webpack-cli@3.3.12">webpack-cli@3.3.12</a> -g</p><pre class="language-shell" data-language="shell"><code class="language-shell"><span class="token function">npm</span> view <span class="token punctuation">[</span>packagename<span class="token punctuation">]</span> versions</code></pre><p>// 最后的参数-D是安装到package.json的开发依赖devDependencies(开发环境)对象里，也可以用 –save-dev代替</p><pre class="language-none"><code class="language-none">安装 npm install webpack@5.73.0 webpack-cli@4.10.0 -D</code></pre><p>这种方式安装成功后无法通过webpack -v查看webpack版本信息，因为默认node会查找全局下的webpack。这里就要通过npx命令查看。</p><blockquote><p>npx webpack -v<br>npx webpack-cli -v<br>npx命令会在当前项目的node_modules中找到我们安装的webpack</p></blockquote><p>打包：</p><blockquote><p>npx webpack xxx.js</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// -S是--save的简写，这样安装的话，会安装到dependencies(生产环境)对象里，也可以用 --save代替</span>npm install jquery <span class="token operator">-</span><span class="token constant">S</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// package.json</span><span class="token punctuation">{</span>  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"webpack-demo"</span><span class="token punctuation">,</span>  <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>  <span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token string-property property">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>  <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token string-property property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string-property property">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span><span class="token punctuation">,</span>  <span class="token string-property property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token string-property property">"webpack"</span><span class="token operator">:</span> <span class="token string">"^5.73.0"</span><span class="token punctuation">,</span>    <span class="token string-property property">"webpack-cli"</span><span class="token operator">:</span> <span class="token string">"^4.10.0"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string-property property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token string-property property">"jquery"</span><span class="token operator">:</span> <span class="token string">"^3.6.0"</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="3-npm"><a href="#3-npm" class="headerlink" title="3. npm"></a>3. npm</h4><p>npm是随同Node.js一起安装的包管理工具<br>通过npm可以共享使用各式JS开源库,对JS开源库的版本可以直接快速的管理,使用这些基于模块开发方式让团队更好的协作开发</p><h5 id="全局安装和本地安装"><a href="#全局安装和本地安装" class="headerlink" title="全局安装和本地安装"></a>全局安装和本地安装</h5><p>npm install <module name=""> [-g] :使用npm安装模块<br>npm list: 查看安装信息<br>npm uninstall <module name="">:卸载模块<br>npm update <module name="">:更新模块<br>npm view <module name=""> versions 查看npm上有哪些版本 , 例如npm view less-loader versions </module></module></module></module></p><h5 id="cnpm的安装和使用"><a href="#cnpm的安装和使用" class="headerlink" title="cnpm的安装和使用"></a>cnpm的安装和使用</h5><p>安装指令:npm install cnpm -g –registry=<a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p><h5 id="–save与–save-dev-区别"><a href="#–save与–save-dev-区别" class="headerlink" title="–save与–save-dev 区别"></a>–save与–save-dev 区别</h5><p>dependencies是运行时依赖，devDependencies是开发时的依赖<br>–save 会把依赖包名称添加到 package.json 文件 dependencies 下<br>–save-dev 会把依赖包添加到 package.json 文件 devDependencies 下</p><blockquote><p>devDependencies与dependencies的区别：</p><p>在发布npm包的时候，本身dependencies下的模块会作为依赖，一起被下载；devDependencies下面的模块就不会自动下载了；但对于项目而言，npm install 会自动下载devDependencies和dependencies下面的模块。</p></blockquote><h3 id="3-创建入口文件"><a href="#3-创建入口文件" class="headerlink" title="3.创建入口文件"></a>3.创建入口文件</h3><p><code>index.html</code></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ie=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>      ...     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./index.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p><code>index.js</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ul li:even'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ul li:odd'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'green'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在浏览器打开</p><p><img src="/2022/07/16/vue2-jin-jie/1652710340183.png" alt="1652710340183"></p><blockquote><p>为什么会这样？因为浏览器并不兼容import引入模块这种方式，所以我们要用到webpack打包</p></blockquote><h3 id="4-通过webpack打包"><a href="#4-通过webpack打包" class="headerlink" title="4. 通过webpack打包"></a>4. 通过webpack打包</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 执行命令  output输出</span><span class="token comment">// 语法 webpack 入口 --output 输出地址 </span>webpack index<span class="token punctuation">.</span>js <span class="token operator">-</span>o dist<span class="token operator">/</span>bundle<span class="token punctuation">.</span>js</code></pre><p><img src="/2022/07/16/vue2-jin-jie/1652710563242.png" alt="1652710563242"></p><blockquote><p>出现这个报错，这是因为命令行执行时候会找全局的webpack，但是我们并没有安装全局的webpack，所以我们可以安装全局webpack，或者是使用脚本方式启动</p></blockquote><p><strong>package.json</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"webpack-demo"</span><span class="token punctuation">,</span>  <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>  <span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token string-property property">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>  <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"webpack index.js -o dist/bundle.js"</span><span class="token punctuation">,</span>    <span class="token string-property property">"build"</span><span class="token operator">:</span><span class="token string">"npx webpack --mode=production"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string-property property">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span><span class="token punctuation">,</span>  <span class="token string-property property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token string-property property">"webpack"</span><span class="token operator">:</span> <span class="token string">"^4.40.2"</span><span class="token punctuation">,</span>    <span class="token string-property property">"webpack-cli"</span><span class="token operator">:</span> <span class="token string">"^3.3.9"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string-property property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token string-property property">"jquery"</span><span class="token operator">:</span> <span class="token string">"^3.4.1"</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>执行package.json文件中添加的start命令</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 生成 dist文件夹和bundle.js文件</span>npm run start</code></pre><p>然后再把index.html原来引入index.js的地方改成是通过webpack生成的bundle.js</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--index.html文件--&gt;</span><span class="token comment">&lt;!--&lt;script src="./index.js"&gt;&lt;/script&gt;--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./dist/bundle.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>最终浏览器看到的效果：</p><p><img src="/2022/07/16/vue2-jin-jie/1652710594818.png" alt="1652710594818"></p><h3 id="5-webpack-config-js"><a href="#5-webpack-config-js" class="headerlink" title="5. webpack.config.js"></a>5. webpack.config.js</h3><p>优化：</p><blockquote><p>webpack index.js -o dist/bundle.js 这一句其实是可以写在一个配置文件里</p></blockquote><p><strong>webpack.config.js：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">entry</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./index.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// dirname代表索引到文件所在目录</span>  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'bundle.js'</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>package.json：</strong></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"webpack --config webpack.config.js"</span>  <span class="token punctuation">}</span></code></pre><h4 id="配置文件整体构成"><a href="#配置文件整体构成" class="headerlink" title="配置文件整体构成"></a>配置文件整体构成</h4><p><strong>webpack.config.js</strong> </p><ul><li><p>entry（入口）</p><p>配置webpack以哪个文件为入口起点开始打包</p><p>entryKey:’./src/index.js’</p></li><li><p>output（出口）</p><p>配置webpack打包后的资源bunduls输出到哪里，以及如何命名</p><p>output:{path:路径,filename:文件名}  //默认输出到dist目录下</p><p>//__dirname node.js变量，表示绝对路径</p><p>output:{path:path.resolve(__dirname,’dist/‘),filename:bundle.js} </p></li><li><p>loader（转化器） </p><p>webpack自身只认识js和json。loader指示webpack去处理非js资源例如css，img等，将它们处理成webpack能够认识的资源 。 翻译官。</p><ol><li><code>test</code> 属性，用于标识出应该被对应的 loader 进行转换的某个或某些文件。</li><li><code>use</code> 属性，表示进行转换时，应该使用哪个 loader。</li></ol></li><li><p>plugins （插件）</p><p>可用于执行范围更广的任务。 打包，压缩，环境配置等。</p></li><li><p>mode （模式）</p><p>告知webpack使用对应模式配置</p><p>development 开发配置：能让代码本地调试运行的环境</p><p>production  生产环境：能让代码优化上线运行的环境。</p><p>（都会使用一些插件，生产环境使用的插件更多） </p></li><li><p>devServer （开发服务器）</p></li></ul><h3 id="6-mode设置"><a href="#6-mode设置" class="headerlink" title="6. mode设置"></a>6. mode设置</h3><p>在执行打包工作时，提示的警告信息：</p><p><img src="/2022/07/16/vue2-jin-jie/1652779689097.png" alt="1652779689097"></p><p>mode模式 告知webpack使用对应模式配置</p><p>development 开发配置：能让代码本地调试运行的环境</p><p>production 生产环境：能让代码优化上线运行的环境。 </p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span><span class="token punctuation">{</span>   <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">'production'</span><span class="token punctuation">}</span></code></pre><h3 id="7-html-webpack-plugin"><a href="#7-html-webpack-plugin" class="headerlink" title="7. html-webpack-plugin"></a>7. html-webpack-plugin</h3><p>安装：<code>npm install html-webpack-plugin@4.5.1 -D</code></p><p><strong>webpack.config.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">entry</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./index.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'bundle.js'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'index.html'</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><blockquote><p>删掉index.html文件里面的bundle.js引用，因为html-webpack-plugin会自动把打包出来的bundle自动加到我们的index.html代码里</p></blockquote><h3 id="8-loader-配置"><a href="#8-loader-配置" class="headerlink" title="8. loader 配置"></a>8. loader 配置</h3><p>webpack自身只认识js和json。loader指示webpack去处理非js资源例如css，img等，将它们处理成webpack能够认识的资源 。 翻译官。</p><ol><li><code>test</code> 属性，用于标识出应该被对应的 loader 进行转换的某个或某些文件。</li><li><code>use</code> 属性，表示进行转换时，应该使用哪个 loader。</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token comment">//loader的配置</span>    <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>            <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>        <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//解析器列表 </span>    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h4 id="8-1-css-loader"><a href="#8-1-css-loader" class="headerlink" title="8.1 css-loader"></a>8.1 css-loader</h4><p>创建一个index.css</p><p><strong>index.css</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>    <span class="token property">background</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>index.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ul li:even'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'gray'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ul li:odd'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'green'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">import</span> <span class="token string">'./index.css'</span></code></pre><p>执行npm run start</p><p><img src="/2022/07/16/vue2-jin-jie/1652781090502.png" alt="1652781090502"></p><blockquote><p>为什么报错，因为webpack默认是不识别<code>.css</code>文件的，需要我们通过 <code>loader</code>  将 <code>.css</code> 文件进行解释成正确的模块。</p></blockquote><p><strong>安装css-loader和style-loader</strong></p><pre class="language-js" data-language="js"><code class="language-js">npm install css<span class="token operator">-</span>loader@<span class="token number">5.2</span><span class="token number">.4</span> style<span class="token operator">-</span>loader@<span class="token number">2.0</span><span class="token number">.0</span> <span class="token operator">-</span><span class="token constant">D</span> <span class="token comment">//index.css -&gt; bundle.js -&gt; style-loader -&gt; &lt;style&gt; index.html</span><span class="token comment">// css-loader的作用是将index.css文件解析为webpack能识别的模块，然后打包进bundle.js里面，但是这样样式并未成功显示在浏览器中。</span><span class="token comment">// style-loader的作用就是将打包到bundle.js中的样式绑定到浏览器上，以style标签的形式显示出来</span></code></pre><p><strong>webpack.config.js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">entry</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./index.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'bundle.js'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>   <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token comment">// 注意：这里的数组是反向读取的（即从右往左）</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="8-2-less-loader"><a href="#8-2-less-loader" class="headerlink" title="8.2 less-loader"></a>8.2 less-loader</h4><blockquote><p>补充：引入的文件是less</p><p>安装：npm install <a href="mailto:less-loader@7.2.1">less-loader@7.2.1</a> <a href="mailto:less@4.1.0">less@4.1.0</a> -D</p><p>规则： </p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span><span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre></blockquote><h4 id="8-3-file-loader"><a href="#8-3-file-loader" class="headerlink" title="8.3 file-loader"></a>8.3 file-loader</h4><pre class="language-shell" data-language="shell"><code class="language-shell">- <span class="token number">1</span>.安装file-loader    - <span class="token function">npm</span> i file-loader@6.2.0  -D- <span class="token number">2</span>.配置loader <span class="token punctuation">{</span>     test:/<span class="token punctuation">\</span>.<span class="token punctuation">(</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>jpeg<span class="token operator">|</span>bmp<span class="token punctuation">)</span>$/,     use:<span class="token punctuation">[</span><span class="token string">'file-loader'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>  </code></pre><p>注意：5配置</p><pre class="language-shell" data-language="shell"><code class="language-shell"><span class="token punctuation">{</span>    test: /<span class="token punctuation">\</span>.<span class="token punctuation">(</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>jpeg<span class="token operator">|</span>bmp<span class="token punctuation">)</span>$/,     //webpack5版本    type: <span class="token string">'asset/resource'</span><span class="token punctuation">}</span>,</code></pre><h4 id="8-4-ES6-转-ES5"><a href="#8-4-ES6-转-ES5" class="headerlink" title="8.4 ES6 转 ES5"></a>8.4 ES6 转 ES5</h4><blockquote><p>安装依赖包</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">npm install babel<span class="token operator">-</span>core babel<span class="token operator">-</span>loader@<span class="token number">7.1</span><span class="token number">.5</span> babel<span class="token operator">-</span>plugin<span class="token operator">-</span>transform<span class="token operator">-</span>runtime@<span class="token number">6.23</span><span class="token number">.0</span> babel<span class="token operator">-</span>preset<span class="token operator">-</span>env@<span class="token number">1.7</span><span class="token number">.0</span> babel<span class="token operator">-</span>preset<span class="token operator">-</span>stage<span class="token operator">-</span><span class="token number">0</span>@<span class="token number">6.24</span><span class="token number">.1</span> <span class="token operator">-</span><span class="token constant">D</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><blockquote><p>配置loader </p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span><span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'babel-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">exclude</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">}</span> </code></pre><p>exclude表示排除掉 node_modules下载的依赖项。这样可以加速网站开发，而且我们也只需要对我们的项目src </p><p>源文件进行编译即可。</p><blockquote><p>新增.babelrc文件 </p></blockquote><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>     <span class="token property">"presets"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"env"</span><span class="token punctuation">,</span><span class="token string">"stage-0"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>     <span class="token property">"plugins"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"transform-runtime"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> </code></pre><p>新增并在index.js中引入main.js，然后使用es6语法 </p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>执行命令编译 </p><pre class="language-shell" data-language="shell"><code class="language-shell"><span class="token function">npm</span> run start </code></pre><p>编译后的结果</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre><h3 id="9-webpack-dev-server"><a href="#9-webpack-dev-server" class="headerlink" title="9. webpack-dev-server"></a>9. webpack-dev-server</h3><blockquote><p>这时候如果修改index.html的背景颜色red改成是gray，会发现浏览器刷新也没有效果，需要再跑一次<code>npm run start</code>命令才有用，这时候就需要webpack-dev-server(热重载)</p></blockquote><p><strong>安装：</strong></p><pre class="language-js" data-language="js"><code class="language-js">npm install webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server@<span class="token number">3.11</span><span class="token number">.2</span> <span class="token operator">-</span><span class="token constant">D</span></code></pre><p><strong>配置方式</strong></p><pre class="language-shell" data-language="shell"><code class="language-shell">devServer: <span class="token punctuation">{</span>    //本地服务目录 <span class="token punctuation">(</span>运行代码目录<span class="token punctuation">)</span>  -- 注意新版更改为static    contentBase: path.resolve<span class="token punctuation">(</span>__dirname, <span class="token string">'dist'</span><span class="token punctuation">)</span>,    //域名，ip地址    host: <span class="token string">'127.0.0.1'</span>,    //端口号    port: <span class="token number">8000</span>,    //自动打开浏览器    open: true,    //开启HMR功能 热模块替换 <span class="token punctuation">(</span>修改配置记得重启<span class="token punctuation">)</span>    hot: <span class="token boolean">true</span><span class="token punctuation">}</span></code></pre><p><strong>package.json：</strong></p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"webpack-dev-server --config webpack.config.js --open --port 3002 --hot"</span>  <span class="token punctuation">}</span><span class="token comment">// --open 自动打开浏览器</span><span class="token comment">// --port 服务监听的端口 3002</span><span class="token comment">// --hot  自动更新</span></code></pre><blockquote><p>这里注意：</p><p>1、启动webpack-dev-server后， 你在目标文件夹中是看不到编译后的文件的，实时编译后的文件都保存到了内存当中。想看到bundle.js文件，可以运行localhost:3002/bundle.js查看</p><p>2、既然bundle.js已经不在dist目录下，因此，如果没有其他的webpack配置项，上面的命令也可以简写为：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"webpack-dev-server --open --port 3002 --hot"</span><span class="token punctuation">}</span></code></pre></blockquote><p><strong>index.html</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./bundle.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="10-html热更新"><a href="#10-html热更新" class="headerlink" title="10. html热更新"></a>10. html热更新</h3><p>在安装过html-webpack-plugin之后，安装：</p><pre class="language-js" data-language="js"><code class="language-js">npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev raw<span class="token operator">-</span>loader@<span class="token number">4.0</span><span class="token number">.2</span></code></pre><p>在webpack.config.js中配置raw-loader:</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token operator">...</span><span class="token operator">...</span>  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>         <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(htm|html)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>         <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>           <span class="token string">'raw-loader'</span>         <span class="token punctuation">]</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token operator">...</span><span class="token operator">...</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>在 <code>index.js</code> 中引入html：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token string">'./index.html'</span></code></pre><h2 id="二、Vue-CLI使用准备"><a href="#二、Vue-CLI使用准备" class="headerlink" title="二、Vue CLI使用准备"></a>二、Vue CLI使用准备</h2><img style="width:50%" src="/2022/07/16/vue2-jin-jie/1652786813488.png"><ul><li>node版本 node -v</li><li>npm版本 npm -v</li><li>vue-cli版本 vue -V</li></ul><p><img src="/2022/07/16/vue2-jin-jie/1652786906110.png" alt="1652786906110"></p><h3 id="Node版本"><a href="#Node版本" class="headerlink" title="Node版本"></a>Node版本</h3><blockquote><p>Vue CLI 需要Node.js 8.9 或者更高版本（推荐使用 <font color="red">12.11.0</font>）。你可以使用<code>nvm</code> 或 <code>nvm-window</code>来管理电脑上面的Node版本。</p></blockquote><p><strong>安装Vue CLI脚手架的包：</strong></p><pre class="language-js" data-language="js"><code class="language-js">npm install <span class="token operator">-</span>g @vue<span class="token operator">/</span>cli# <span class="token constant">OR</span>yarn global add @vue<span class="token operator">/</span>cli</code></pre><p>安装之后，你就可以在命令行中访问 <code>vue</code> 命令。你可以通过简单运行 <code>vue</code>，看看是否展示出了一份所有可用命令的帮助信息，来验证它是否安装成功。</p><p>你还可以用这个命令来检查其版本是否正确 (4.x)：</p><pre class="language-bash" data-language="bash"><code class="language-bash">vue --versionvue -V</code></pre><p>如果安装比较慢，可以把下载源切换成淘宝的源：</p><p>npm  对应的淘宝下载源设置：</p><pre class="language-shell" data-language="shell"><code class="language-shell">//切换taobao镜像源<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org/// 查看下载源<span class="token function">npm</span> config get registry</code></pre><p>yarn  对应的淘宝下载源设置：</p><pre class="language-shell" data-language="shell"><code class="language-shell">//切换taobao镜像源<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org/// 查看下载源<span class="token function">yarn</span> config get registry</code></pre><h2 id="三、创建项目"><a href="#三、创建项目" class="headerlink" title="三、创建项目"></a>三、创建项目</h2><h3 id="3-1-初始化项目方式一："><a href="#3-1-初始化项目方式一：" class="headerlink" title="3.1 初始化项目方式一："></a>3.1 初始化项目方式一：</h3><p><strong>vue create</strong></p><p>运行以下命令来创建一个新项目：</p><pre class="language-js" data-language="js"><code class="language-js">vue create hello<span class="token operator">-</span>world</code></pre><p>你会被提示选取一个 preset。你可以选默认的包含了基本的 Babel + ESLint 设置的 preset，也可以选“手动选<br>择特性”来选取需要的特性。</p><p><img src="/2022/07/16/vue2-jin-jie/1652710735946.png" alt="1652710735946"></p><p>这个默认的设置非常适合快速创建一个新项目的原型，而手动设置则提供了更多的选项，它们是面向生产的项目更加需要的。</p><p><img src="/2022/07/16/vue2-jin-jie/1652710748466.png" alt="1652710748466"></p><ol><li>vue create 项目名称<img src="/2022/07/16/vue2-jin-jie/1610981526393.png" width="400px" height="50px" align="left"></li></ol><p>2）选择默认配置或者自定义配置<br><img src="/2022/07/16/vue2-jin-jie/1610981552949.png" height="200px" align="left"> </p><p>3）选择需要安装项</p> <img src="/2022/07/16/vue2-jin-jie/1611025179850.png" height="280px" align="left"><p>当你选择后会出现上面图上的东西，这里你可以自由选择用哪些配置，按上下键选择哪一个，按空格键确定，所有的都选择好后，按enter键进行下一步，这里演示，我随便选了几个</p><p>4)选择vue版本<br><img src="/2022/07/16/vue2-jin-jie/1610981662221.png" width="560px" height="50px" align="left"> </p><p>4）是否要以history模式 【如果安装了Router，会出现下面选择】<br><img src="/2022/07/16/vue2-jin-jie/1610981712814.png" width="560px" height="200px" align="left"> </p><p>是否要以history模式，如果选择yes，后端还需要作操作。路径好看 <a href="http://localhost:8080/about">http://localhost:8080/about</a><br>选择no，后端无须修改操作。路径不好看 <a href="http://localhost:8080/#/">http://localhost:8080/#/</a></p><p>5）选择css预处理器 【如果安装了Css Pre …，会出现下面选择】<br><img src="/2022/07/16/vue2-jin-jie/1611025325208.png" width="500px" align="left"> </p><p>Sass/SCSS (with dart-sass)  ：世界上最成熟、最稳定、最强大的专业级CSS扩展语言<br>Sass/SCSS (with node-sass)  ：世界上最成熟、最稳定、最强大的专业级CSS扩展语言  (推荐)<br>Less     ：(推荐) 一门 CSS 预处理语言,它扩展了 CSS 语言,增加了变量、Mixin、函数等特性<br>Stylus   ： 富于表现力、动态的、健壮的 CSS</p><p>6）选择格式化配置方案  【如果安装了eslink，会出现下面选择】<br> ESLint with error prevention only  仅错误预防<br> ESLint + Airbnb config  Airbnb配置<br> ESLint + Standard config 标准配置<br> ESLint + Prettier</p><p>7）选择配置文件存放方式<br><img src="/2022/07/16/vue2-jin-jie/1610981845695.png" width="500px" height="200px" align="left"> </p><p>上边这俩意思问，babel,postcss,eslint这些配置文件放哪？<br>第一个是：放独立文件放置<br>第二个是：放package.json里<br>这里推荐放单独配置文件 </p><p>8）是否将以上这些将此保存为未来项目的预配置吗<br><img src="/2022/07/16/vue2-jin-jie/1610981891047.png" width="500px" height="200px" align="left"> </p><p>就有你以前选择的配置了，不用重新再配置一遍了<br>最后回车开始下载模板了</p><p>对于每一项的功能，此处做个简单描述：</p><blockquote><p>( ) Choose Vue verion //选择vue版本<br>( ) Babel //转码器，可以将ES6代码转为ES5代码，从而在现有环境执行。<br>( ) TypeScript       // TypeScript是一个JavaScript（后缀.js）的超集（后缀.ts）包含并扩展了 JavaScript 的语法，需要被编译输出为JavaScript在浏览器运行<br>( ) Progressive Web App (PWA) Support// 渐进式Web应用程序<br>( ) Router // vue-router（vue路由）<br>( ) Vuex // vuex（vue的状态管理模式）<br>( ) CSS Pre-processors // CSS 预处理器（如：less、sass）<br>( ) Linter / Formatter // 代码风格检查和格式化（如：ESlint）<br>( ) Unit Testing // 单元测试（unit tests）<br>( ) E2E Testing // e2e（end to end） 支持E2E测试</p></blockquote><p>如果你决定手动选择特性，在操作提示的最后你可以选择将已选项保存为一个将来可复用的 preset</p><blockquote><p>~/.vuerc</p><p>被保存的 preset 将会存在用户的 home 目录下一个名为 <code>.vuerc</code> 的 JSON 文件里。如果你想要修改被保存的 preset / 选项，可以编辑这个文件。</p><p>在项目创建的过程中，你也会被提示选择喜欢的包管理器或使用<a href="https://npm.taobao.org/">淘宝 npm 镜像源</a>以更快地安装依赖。这些选择也将会存入 <code>~/.vuerc</code>。</p></blockquote><h3 id="3-2-初始化项目方式二：图形化操作"><a href="#3-2-初始化项目方式二：图形化操作" class="headerlink" title="3.2 初始化项目方式二：图形化操作"></a>3.2 初始化项目方式二：图形化操作</h3><p>图形化操作： vue ui</p><h3 id="3-3-项目结构"><a href="#3-3-项目结构" class="headerlink" title="3.3 项目结构"></a>3.3 项目结构</h3><p><strong>项目目录</strong></p><p><img src="/2022/07/16/vue2-jin-jie/1652710772862.png" alt="1652710772862"></p><pre class="language-js" data-language="js"><code class="language-js">node_modules<span class="token keyword">public</span> <span class="token comment">// 静态资源文件</span>    <span class="token operator">|</span><span class="token operator">-</span>favicon<span class="token punctuation">.</span>ico    <span class="token operator">|</span><span class="token operator">-</span>index<span class="token punctuation">.</span>htmlsrc <span class="token comment">// 项目源代码，书写代码的地方</span>    <span class="token operator">|</span><span class="token operator">-</span>assets    <span class="token operator">|</span><span class="token operator">-</span>App<span class="token punctuation">.</span>vue    <span class="token operator">|</span><span class="token operator">-</span>main<span class="token punctuation">.</span>js<span class="token punctuation">.</span>browserslistrc    <span class="token comment">// 浏览器相关支持情况</span><span class="token punctuation">.</span>eslintrc<span class="token punctuation">.</span>js       <span class="token comment">// 代码相关支持情况</span><span class="token punctuation">.</span>gitignore         <span class="token comment">// Git忽略文件</span>babel<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js    <span class="token comment">// babel配置ES语法 转换</span><span class="token keyword">package</span><span class="token operator">-</span>lock<span class="token punctuation">.</span>json  <span class="token comment">// npm安装依赖库的具体信息</span><span class="token keyword">package</span><span class="token punctuation">.</span>json       <span class="token comment">// npm依赖库版本信息</span>postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js  <span class="token comment">// css相关转换</span><span class="token constant">README</span><span class="token punctuation">.</span>md          <span class="token comment">// 项目说明</span>vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js      <span class="token comment">// Vue及webpack配置项</span></code></pre><h3 id="3-4-vue-config-js"><a href="#3-4-vue-config-js" class="headerlink" title="3.4 vue.config.js"></a>3.4 vue.config.js</h3><p><code>vue.config.js</code> 是一个可选的配置文件，如果项目的 (和 <code>package.json</code> 同级的) 根目录中存在这个文件，那么它会被 <code>@vue/cli-service</code> 自动加载。你也可以使用 <code>package.json</code> 中的 <code>vue</code> 字段，但是注意这种写法需要你严格遵照 JSON 的格式来写。</p><p>这个文件应该导出一个包含了选项的对象：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// vue.config.js</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token comment">// 选项...(例如：)</span>  <span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token comment">// 关闭eslint</span><span class="token punctuation">}</span></code></pre><p>脚手架中父子传值。</p><h2 id="其他：（了解）"><a href="#其他：（了解）" class="headerlink" title="其他：（了解）"></a>其他：（了解）</h2><h3 id="1-VsCode用户片段提供"><a href="#1-VsCode用户片段提供" class="headerlink" title="1. VsCode用户片段提供"></a>1. VsCode用户片段提供</h3><p>请在VScode中设置如下代码片段，以用于后面每一个案例的创建</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"demo"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"vue"</span><span class="token punctuation">,</span>  <span class="token property">"body"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"&lt;template&gt;"</span><span class="token punctuation">,</span><span class="token string">"\t&lt;div&gt;"</span><span class="token punctuation">,</span><span class="token string">"\t\t$0"</span><span class="token punctuation">,</span><span class="token string">"\t&lt;/div&gt;"</span><span class="token punctuation">,</span><span class="token string">"&lt;/template&gt;"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"&lt;script&gt;"</span><span class="token punctuation">,</span><span class="token string">"export default {"</span><span class="token punctuation">,</span><span class="token string">"\tdata () {"</span><span class="token punctuation">,</span><span class="token string">"\t\treturn {\n"</span><span class="token punctuation">,</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">"\t\t}"</span><span class="token punctuation">,</span><span class="token string">"\t}"</span><span class="token punctuation">,</span><span class="token string">"}"</span><span class="token punctuation">,</span><span class="token string">"&lt;/script&gt;"</span><span class="token punctuation">,</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">"&lt;style lang = \"less\" scoped&gt;"</span><span class="token punctuation">,</span><span class="token string">"\t"</span><span class="token punctuation">,</span><span class="token string">"&lt;/style&gt;"</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"自定义的一个vue代码段"</span><span class="token punctuation">}</span>  <span class="token punctuation">}</span></code></pre><h3 id="2-“-x2F-”路径提示配置"><a href="#2-“-x2F-”路径提示配置" class="headerlink" title="2.“@/”路径提示配置"></a>2.“@/”路径提示配置</h3><p>安装 Path Intellisense插件</p><p>打开设置 - 首选项 - 搜索 <code>Path Intellisense</code> - 打开 <code>settings.json</code> ，添加：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"path-intellisense.mappings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>     <span class="token property">"@"</span><span class="token operator">:</span> <span class="token string">"${workspaceRoot}/src"</span> <span class="token punctuation">}</span></code></pre><p>在项目 <code>package.json</code> 所在同级目录下创建文件 <code>jsconfig.json</code>：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"ES6"</span><span class="token punctuation">,</span>        <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span>        <span class="token property">"allowSyntheticDefaultImports"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token property">"baseUrl"</span><span class="token operator">:</span> <span class="token string">"./"</span><span class="token punctuation">,</span>        <span class="token property">"paths"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token property">"@/*"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"src/*"</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"exclude"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">"node_modules"</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>最后<strong>重启打开</strong>即可</p><h1 id="第七天"><a href="#第七天" class="headerlink" title="第七天"></a>第七天</h1><h2 id="一、父子传值"><a href="#一、父子传值" class="headerlink" title="一、父子传值"></a>一、父子传值</h2><pre class="language-vue" data-language="vue"><code class="language-vue">parent.vue&lt;template&gt;  &lt;div&gt;      &lt;h1&gt;父组件&lt;/h1&gt;      &lt;child title="首页" @change="getVal"&gt;&lt;/child&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;//1.引入子组件import child from './01child.vue'export default {    components:{child},    methods:{        getVal(val){            console.log('接受到子组件的值为:',val);                    }    }}&lt;/script&gt;  child.vue  &lt;template&gt;  &lt;div&gt;      &lt;h1&gt;子组件&lt;/h1&gt;      &lt;p&gt;接受父的数据：{{title}}&lt;/p&gt;      &lt;button @click="sendFn"&gt;点击传值&lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {    props:['title'],    methods:{        sendFn(){            this.$emit("change",'我是子组件')        }    }}&lt;/script&gt;</code></pre><h2 id="二、脚手架中完成"><a href="#二、脚手架中完成" class="headerlink" title="二、脚手架中完成"></a>二、脚手架中完成</h2><img style="width:50%" src="/2022/07/16/vue2-jin-jie/1652886215394.png"><h2 id="三、练习-tabbar案例"><a href="#三、练习-tabbar案例" class="headerlink" title="三、练习-tabbar案例"></a>三、练习-tabbar案例</h2><img style="width:50%" src="/2022/07/16/vue2-jin-jie/../../真 · 学习资料/狼/vue2进阶/Vue-day07-基于脚手架中开发/01-笔记/全家桶day07img/1652886013395.png"><p>tabbar.vue</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;    &lt;div class="tabbarwrap"&gt;        &lt;item title="我的"  mark="nav1" :curr="currnav" @change="getVal"&gt;            &lt;template #normalImg&gt;  &lt;img src="../assets/images/1.png" alt="" /&gt; &lt;/template&gt;            &lt;template #activeImg&gt;  &lt;img src="../assets/images/1s.png" alt="" /&gt; &lt;/template&gt;        &lt;/item&gt;   ...    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import item from './item.vue'export default {    components:{item},    data(){        return {            currnav:'nav1'        }    },    methods:{        getVal(val){            this.currnav = val;        }    }}&lt;/script&gt;&lt;style&gt;    .tabbarwrap{        position: fixed;        display: flex;        bottom: 0;        width: 100%;        border-top: 1px solid gray;          justify-content: space-between;        padding: 5px;    }&lt;/style&gt;</code></pre><p>item.vue</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div class="item" @click="fn"&gt;     &lt;slot :name="flag ? 'activeImg' : 'normalImg'"&gt;&lt;/slot&gt;     &lt;p&gt;      &lt;span :class="{ active: flag }"&gt;{{ title }}&lt;/span&gt;    &lt;/p&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  props: ["title", "mark", "curr"],  computed: {    flag() {      return this.mark == this.curr;    },  },  methods: {    fn() {       this.$emit("change", this.mark);    },  },};&lt;/script&gt;&lt;style lang="less" scoped&gt;.item {  flex: 1;  text-align: center;  img {    width: 30px;    height: 30px;  }  span {    font-size: 12px;    &amp;.active {      color: red;    }  }}&lt;/style&gt;</code></pre><h2 id="四、ref与-refs"><a href="#四、ref与-refs" class="headerlink" title="四、ref与$refs"></a>四、ref与$refs</h2><p>vue中获取页面里的某个元素（标签或组件），可以给它绑定ref属性，有点类似于给它添加id名。</p><h3 id="1、简单使用"><a href="#1、简单使用" class="headerlink" title="1、简单使用"></a>1、简单使用</h3><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div class=""&gt;     &lt;h3 ref="title"&gt;{{msg}}&lt;/h3&gt;     &lt;button @click="btnclick"&gt;按钮&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default {  data() {    return {      msg: "你好"    };  },  methods: {    btnclick() {      console.log(this.$refs.title);// 得到h3标签    }  }};&lt;/script&gt; &lt;style lang = "less" scoped&gt;&lt;/style&gt;</code></pre><h3 id="2、子组件中的数据获取及方法调用"><a href="#2、子组件中的数据获取及方法调用" class="headerlink" title="2、子组件中的数据获取及方法调用"></a>2、子组件中的数据获取及方法调用</h3><p>子组件：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div class=""&gt;     &lt;h4&gt;{{num}}&lt;/h4&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default {  data() {    return {      num: 100    };  },  methods: {      subFn(){          console.log('子组件中的方法')      }  }};&lt;/script&gt; &lt;style lang = "less" scoped&gt;&lt;/style&gt;</code></pre><p>父组件：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div class=""&gt;     &lt;Sub ref="sub" /&gt;     &lt;button @click="btnclick"&gt;按钮&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;import Sub from '../components/Sub'export default {  methods: {    btnclick() {      console.log(this.$refs.sub.num);// 100      this.$refs.sub.subFn();// '子组件中的方法'    }  },  components: {      Sub  }};&lt;/script&gt; &lt;style lang = "less" scoped&gt;&lt;/style&gt;</code></pre><h2 id="五、生命周期函数"><a href="#五、生命周期函数" class="headerlink" title="五、生命周期函数"></a>五、生命周期函数</h2><blockquote><p>什么是生命周期： 从Vue创建、运行、到销毁期间，总是伴随着各种各样的事件，这些事件，统称为生命周期。</p><p>生命周期的作用：</p><p>简单来说，了解了Vue的生命周期，我们就知道了在实例进行到某个阶段，我们可以做些什么，</p><p>或者说我们的这个操作要在Vue的那个阶段，那个位置执行才合适，这对我们写Vue的代码很有帮助。</p></blockquote><p><strong>生命周期钩子函数：</strong>就是生命周期事件的别名；</p><h3 id="初始"><a href="#初始" class="headerlink" title="初始"></a>初始</h3><p><strong>beforeCreate：</strong>实例刚刚在内存中被创建出来，此时还没有初始化 <code>data</code> 和 <code>methods</code> 属性。</p><p><strong>created：</strong>实例已经在内存中创建好，此时 <code>data</code>和<code>methods</code> 已经创建好，此时还没有开始编译模板</p><h3 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h3><p><strong>beforeMount：</strong>此时已经完成了模板编译，但是还没有挂载到页面中；</p><p><strong>mounted：</strong>这个时候已经把编译好的模板挂载到页面指定的容器里；</p><blockquote><p><code>beforeMount:</code> <code>data</code> 的数据可以访问和修改，而且此时的模板已经编译好了，还没有更新到页面中</p><p><code>mounted:</code> 此时编译的模板更新到页面中了</p></blockquote><h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p><strong>beforeUpdate：</strong>状态更新之前执行此函数，此时的 <code>data</code> 中的数据是最新，但是界面上显示的还是旧的，因为此时还没有开始重新渲染DOM节点；</p><p><strong>updated：</strong>实例更新完毕之后调用此函数，此时<code>data</code> 中的状态值和界面上显示的数据，都已经完成了更新，界面已经被重新渲染好了；</p><blockquote><p><strong>beforeUpdate：</strong> 此时修改输入框的内容，<code>data</code>中的数据已经更新了，但是页面上显示的还是旧数据；</p><p><strong>updated：</strong>此时 <code>data</code> 的内容已经更新，页面显示的也是最新的数据。</p></blockquote><h3 id="销毁"><a href="#销毁" class="headerlink" title="销毁"></a>销毁</h3><p><strong>beforeDestroy：</strong>实例销毁之前调用，在这一步，实例仍然完全可用。</p><p><strong>destroyed：</strong>实例销毁后调用，调用后，Vue实例指向的所以东西会被解绑，所有的事件监听器会被移除，所有的子实力也会被销毁。</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 生命周期钩子函数： vue实例从创建到销毁过程中自动执行的函数。创建 beforeCreate created挂载 beforeMount  mounted更新 beforeUpdate updated销毁 beforeDestroy destroyed作用：能在阶段做什么事情。*名称！ 什么时候执行，顺序！--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myp<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>                <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"-------------beforeCreate-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"el"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">"msg:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span> <span class="token string">"p："</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myp<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//el undefined msg: undefined p： undefined</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"-------------created-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"el"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">"msg:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span> <span class="token string">"p："</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myp<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//el undefined msg: hello p： undefined</span>                <span class="token comment">//发起异步请求，请求数据。（提前） 体验更好</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"-------------beforeMount-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"el"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">"msg:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span> <span class="token string">"p："</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myp<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//  this.$el 有值，但是并未渲染msg数据    msg: hello p： undefined</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"-------------mounted-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"el"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">"msg:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span> <span class="token string">"p："</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myp<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 都有值</span>                <span class="token comment">//滚动条数据。获取dom数据</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"-------------beforeUpdate-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"el"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">"msg:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span> <span class="token string">"p："</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"-------------updated-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"el"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">"msg:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span> <span class="token string">"p："</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"-------------beforeDestroy-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"el"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">"msg:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span> <span class="token string">"p："</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myp<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//清除事件</span>                <span class="token comment">//清除定时器</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"-------------destroyed-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"el"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">,</span> <span class="token string">"msg:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">,</span> <span class="token string">"p："</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="生命周期解读"><a href="#生命周期解读" class="headerlink" title="生命周期解读"></a>生命周期解读</h3><p><img src="/2022/07/16/vue2-jin-jie/1657703403507.png" alt="1657703403507"></p><h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><p><img src="/2022/07/16/vue2-jin-jie/1657703241013.png" alt="1657703241013"></p><h3 id="图解"><a href="#图解" class="headerlink" title="图解"></a>图解</h3><p><img src="/2022/07/16/vue2-jin-jie/1652887199109.png" alt="1652887199109"></p><blockquote><p> 父子组件场景: </p><p> ​    加载渲染过程: </p><p> ​    父beforeCreate-&gt;父created-&gt;父beforeMount-&gt;子beforeCreate-&gt;子created-&gt;子beforeMount-&gt;子mounted-&gt;父mounted  </p><p> ​    子组件更新过程: </p><p> ​    父beforeUpdate-&gt;子beforeUpdate-&gt;子updated-&gt;父updated </p><p> ​    销毁过程: </p><p> ​    父beforeDestroy-&gt;子beforeDestroy-&gt;子destroyed-&gt;父destroyed </p></blockquote><h2 id="六、-nextTick"><a href="#六、-nextTick" class="headerlink" title="六、$nextTick"></a>六、$nextTick</h2><p>在挂在阶段之前，我们是拿不到dom标签上及其数据的，如果我们想要<strong>在挂载阶段之前的函数中获取挂载后的数据</strong>，就需要使用$nextTick</p><p>$nextTick有两种基本使用方法：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1、CallBack形式</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>title<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 2、Promise形式</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>title<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Comp1.vue中：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;    &lt;div&gt;        &lt;p ref="op"&gt;文字&lt;/p&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {    data () {        return {        }    },    created(){        // 在该阶段，我们获取不到元素        console.log(this.$refs.op);  // undefined        this.$nextTick(()=&gt;{            console.log(this.$refs.op.innerHTML); //文字        })        this.$nextTick().then(()=&gt;{            console.log(this.$refs.op.innerHTML);  //文字        })    }}&lt;/script&gt;</code></pre><h2 id="七、Mixins混入"><a href="#七、Mixins混入" class="headerlink" title="七、Mixins混入"></a>七、Mixins混入</h2><p>mixins就是定义一部分公共的方法或者计算属性,然后混入到各个组件中使用,方便管理与统一修改。同一个生命周期，混入对象会比组件的先执行。</p><h3 id="1、导出mixins"><a href="#1、导出mixins" class="headerlink" title="1、导出mixins"></a>1、导出mixins</h3><p>在src下创建 <code>mixins/index.js</code>，写入：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> MixinsFn <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"这是mixins触发的created"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="2、引用mixins"><a href="#2、引用mixins" class="headerlink" title="2、引用mixins"></a>2、引用mixins</h3><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div class="about"&gt;    &lt;h1&gt;This is an about page&lt;/h1&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import { MixinsFn } from '@/mixins/index.js'export default {  created(){    console.log("这是about触发的created")  },  mixins: [MixinsFn]}&lt;/script&gt;</code></pre><p>我们会发现，<code>mixins中的created</code> 比 <code>about中的created</code> 优先执行。</p><h2 id="八、Axios-重点"><a href="#八、Axios-重点" class="headerlink" title="八、Axios(重点)"></a>八、Axios(重点)</h2><p>在Vue和React等大型项目中，我们常用的数据请求方式，就是Axios。Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p><p>官网地址：<a href="http://www.axios-js.com/">http://www.axios-js.com/</a></p><h3 id="2-1、安装"><a href="#2-1、安装" class="headerlink" title="2.1、安装"></a>2.1、安装</h3><pre class="language-CQL" data-language="CQL"><code class="language-CQL">yarn add axios</code></pre><h3 id="2-2、使用"><a href="#2-2、使用" class="headerlink" title="2.2、使用"></a>2.2、使用</h3><h4 id="axios统一使用格式"><a href="#axios统一使用格式" class="headerlink" title="* axios统一使用格式"></a>* axios统一使用格式</h4><pre class="language-js" data-language="js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">[</span><span class="token punctuation">,</span> config<span class="token punctuation">]</span><span class="token punctuation">)</span>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">[</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token punctuation">,</span> config<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">// 直白一点表示：</span>axios  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>axios  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="实际操作："><a href="#实际操作：" class="headerlink" title="* 实际操作："></a>* 实际操作：</h4><h5 id="1、开启后端服务"><a href="#1、开启后端服务" class="headerlink" title="1、开启后端服务"></a>1、开启后端服务</h5><p>打开 <code>backend</code> 目录，执行 <code>npm i</code> 命令，安装依赖成功后再执行 <code>node server.js</code>，到浏览器输入 <code>http://localhost:3000</code> 查看接口文档。</p><h5 id="2、组件中发起请求："><a href="#2、组件中发起请求：" class="headerlink" title="2、组件中发起请求："></a>2、组件中发起请求：</h5><p>发送get请求：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// get请求</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://localhost:3000/getdata"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>axios  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"http://localhost:3000/postdata"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="3、解决跨域"><a href="#3、解决跨域" class="headerlink" title="3、解决跨域"></a>3、解决跨域</h5><p>到此，发现跨域，解决方案是找到 <code>vue.config.js</code> :</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token string">"http://localhost:3000"</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>然后请求改写：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// get请求</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/getdata"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 上面的请求也可以这样做</span>axios  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/postdata"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="九、图片资源导入方式"><a href="#九、图片资源导入方式" class="headerlink" title="九、图片资源导入方式"></a>九、图片资源导入方式</h2><p>放置在src目录下的图片资源有三种导入方式：</p><p>1、src的相对路径和@写法，</p><p>2、import写法</p><p>3、require写法</p><p>对于一张图片而言，我可以直接src引入相对路径，我还可以使用模块化的方式引入，无论是require，还是import都可以。</p><p>但这里记住，<strong>在模板中，背景图不可以使用相对路径直接引入</strong>，只能通过模块化方式引入，常见手法：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;    &lt;div&gt;        &lt;img src="../assets/img.jpg" alt=""&gt;        &lt;img src="@/assets/logo.png" alt=""&gt;        &lt;img :src="img01" alt=""&gt;        &lt;img :src="img02" alt=""&gt;        &lt;div class="box"&gt;&lt;/div&gt;        &lt;div class="box2" :style="{background:'url('+img01+')'}"&gt;&lt;/div&gt;        &lt;div class="box2" :style="{background:'url('+img02+')'}"&gt;&lt;/div&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import imgSrc from "@/assets/img.jpg"export default {    data () {        return {            img01:require("@/assets/logo.png"),            img02:imgSrc,        }    }}&lt;/script&gt; &lt;style lang = "less" scoped&gt;.box{    width: 300px;    height: 300px;    background: url("../assets/img.jpg");}.box2{    width: 300px;    height: 300px;}&lt;/style&gt;</code></pre><h2 id="十、环境变量"><a href="#十、环境变量" class="headerlink" title="十、环境变量"></a>十、环境变量</h2><p>我们实际开发中，往往有多种环境，如：</p><ul><li>development 模式用于 vue-cli-service serve</li><li>production 模式用于 vue-cli-service build 和 vue-cli-service test:e2e</li><li>test 模式用于 vue-cli-service test:unit</li></ul><p>甚至还有其他的，这里我们只讨论 development和production。</p><p>此处有几个要注意的点：</p><ol><li>一个模式可以包含多个环境变量</li><li>每个模式都会将环境变量中 NODE_ENV 的值设置为模式的名称</li><li>可以通过为 .env 文件增加后缀来设置某个模式下特有的环境变量</li><li>为一个特定模式准备的环境文件 (例如 .env.production) 将会比一般的环境文件 (例如 .env) 拥有更高的优先级</li></ol><pre class="language-jsx" data-language="jsx"><code class="language-jsx"><span class="token punctuation">.</span>env                # 在所有的环境中被载入<span class="token punctuation">.</span>env<span class="token punctuation">.</span>local          # 在所有的环境中被载入，但会被 git 忽略<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token punctuation">[</span>mode<span class="token punctuation">]</span>         # 只在指定的模式中被载入，优先级高于<span class="token punctuation">.</span>env和<span class="token punctuation">.</span>env<span class="token punctuation">.</span>local<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token punctuation">[</span>mode<span class="token punctuation">]</span><span class="token punctuation">.</span>local   # 只在指定的模式中被载入，但会被 git 忽略，优先级高于<span class="token punctuation">.</span>env和<span class="token punctuation">.</span>env<span class="token punctuation">.</span>local</code></pre><p>一般环境变量文件都创建在根目录下，我们创建以下两份：</p><p><code>.env.development</code> 文件：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token constant">NODE_ENV</span><span class="token operator">=</span>development<span class="token constant">VUE_APP_BASE_URL</span><span class="token operator">=</span><span class="token operator">/</span></code></pre><p><code>.env.production</code> 文件：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> production<span class="token constant">VUE_APP_BASE_URL</span> <span class="token operator">=</span> <span class="token string">'http://www.baidu.com'</span></code></pre><p>注意：</p><ul><li>NODE_ENV - 是 “development”、“production” 、”test”或者自定义的值。具体的值取决于应用运行的模式</li><li>BASE_URL - 会和 vue.config.js 中的 publicPath 选项相符，即你的应用会部署到的基础路径</li><li>除了 NODE_ENV 和 BASE_URL，其他的环境变量必须以 VUE_APP_ 开头</li><li>项目中使用：process.env.环境变量名，eg：VUE_APP_BASE_URL</li></ul><p>我们到任意一个组件中：</p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// development</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_BASE_URL</span><span class="token punctuation">)</span><span class="token comment">// /</span></code></pre><p>通过在 <code>package.json</code> 中的 <code>scripts</code> 下，使用mode，我们可以切换环境：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"serve"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service serve --open --port 3000 --mode prod"</span><span class="token punctuation">,</span>    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service build --mode dev"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>再到任意一个组件中：</p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_BASE_URL</span><span class="token punctuation">)</span></code></pre><h2 id="什么是SPA？"><a href="#什么是SPA？" class="headerlink" title="什么是SPA？"></a>什么是SPA？</h2><p>Single Page Application，中文：单页应用。</p><p>以下两个链接请用浏览器的手机模拟器打开：</p><p>单页应用有很多，比如：<a href="https://m.huxiu.com/">https://m.huxiu.com/</a>  <a href="https://music.163.com/">https://music.163.com/</a></p><p>非单页应用也是以往的开发习惯，比如：<a href="https://36kr.com/">https://36kr.com/</a> </p><h2 id="一、什么是路由？"><a href="#一、什么是路由？" class="headerlink" title="一、什么是路由？"></a>一、什么是路由？</h2><p><img src="/2022/07/16/vue2-jin-jie/Vue-day08-Router.png" alt="Vue-day08-Router"></p><p>说起路由你想起了什么？</p><p>路由器，那路由器是用来做什么的，你有没有想过？</p><ul><li>路由时决定数据包从来源到目的地的路径；</li><li>将输入端的数据转移到合映射表适的输出端；</li><li>路由中最重要的概念就是路由表：<strong>路由表的本质就是一个映射表，决定了数据包的指向</strong>；</li></ul><h2 id="二、后端路由-课外读物，了解即可"><a href="#二、后端路由-课外读物，了解即可" class="headerlink" title="二、后端路由(课外读物，了解即可)"></a>二、后端路由(课外读物，了解即可)</h2><blockquote><ol><li>早期的网站开发整个HTML页面是由服务器来渲染的。服务器将渲染好的对应的HTML页面返回给客户端进行展示；</li><li>但是一个网站包含很多页面，那服务器是怎么处理的呢？<ol><li>每个页面都有对应的网址，也就是URL</li><li>URL会发送给到服务器，服务器会通过正则对该URL进行匹配，最后交给Controller进行处理</li><li>Controller进行处理，最终生成HTML或者数据，然后返回给前端。</li><li>这其实就是服务器的一个IO操作，这其实就是对后端对路由的解析</li></ol></li><li>后端渲染的好处，相对于发送ajax请求拿数据，可以提高首屏渲染的性能，也有利于SEO的优化；</li><li>后端路由的缺点：<ol><li>另一种情况是前端开发人员如果要开发页面, 需要通过PHP和Java等语言来编写页面代码</li><li>而且通常情况下HTML代码和数据以及对应的逻辑会混在一起, 编写和维护都是非常糟糕的事情</li></ol></li></ol></blockquote><h2 id="三、前端路由-了解"><a href="#三、前端路由-了解" class="headerlink" title="三、前端路由(了解)"></a>三、前端路由(了解)</h2><blockquote><p>前后端分离阶段：</p><ul><li>随着Ajax的出现，有了前后端分离的开发模式；</li><li>后端只提供API来返回数据（json，xml），前端通过Ajax获取数据，并且可以通过JavaScript将数据渲染到页面中</li><li>这样做最大的优点就是前后端责任的清晰, 后端专注于数据上, 前端专注于交互和可视化上</li><li>并且当移动端(iOS/Android)出现后, 后端不需要进行任何处理, 依然使用之前的一套API即可</li><li>目前很多的网站依然采用这种模式开发</li></ul><p>单页面应用阶段：</p><ul><li>其实SPA最主要的特点就是在前后端分离的基础上加了一层前端路由</li><li>也就是前端来维护一套路由规则</li></ul><p>前端路由的核心是什么呢？</p><ul><li>改变URL，但是页面不进行整体的刷新</li></ul></blockquote><h2 id="四、前端路由规则-了解"><a href="#四、前端路由规则-了解" class="headerlink" title="四、前端路由规则(了解)"></a>四、前端路由规则(了解)</h2><h3 id="1、URL的hash"><a href="#1、URL的hash" class="headerlink" title="1、URL的hash"></a>1、URL的hash</h3><blockquote><p>URL的hash也就是锚点(#), 本质上是改变window.location的href属性</p><p>我们可以通过直接赋值location.hash来改变href, 但是页面不发生刷新</p></blockquote><p><img src="/2022/07/16/vue2-jin-jie/1652961810554.png" alt="1652961810554"></p><h3 id="2、HTML5的history模式"><a href="#2、HTML5的history模式" class="headerlink" title="2、HTML5的history模式"></a>2、HTML5的history模式</h3><blockquote><p>history接口时HTML5新增的，它有5种模式改变URL而不刷新页面</p></blockquote><p><strong>history.pushState(data, title, url)</strong></p><p><img src="/2022/07/16/vue2-jin-jie/1652961866265.png" alt="1652961866265"></p><p><strong>history.replaceState(data, title, url)</strong></p><p><img src="/2022/07/16/vue2-jin-jie/1652961873543.png" alt="1652961873543"></p><p>**history.go(-1) **返回上一页</p><p><strong>history.back()</strong> 等价于 history.go(-1)</p><p><strong>history.forward()</strong> 等价于 history.go(1)</p><h2 id="五、-重点-Vue-router基本使用"><a href="#五、-重点-Vue-router基本使用" class="headerlink" title="五、(重点)Vue-router基本使用"></a>五、(重点)Vue-router基本使用</h2><blockquote><p>目前前端流行的三大框架，都有自己的路由实现：</p><ul><li>Angular的ngRouter</li><li>React的ReactRouter</li><li>Vue的vue-router</li></ul></blockquote><h3 id="1、认识vue-router"><a href="#1、认识vue-router" class="headerlink" title="1、认识vue-router"></a>1、认识vue-router</h3><p>vue-router是Vue的官方路由插件，它和Vue是深度集成的，适合用于构建单页面应用  <a href="https://router.vuejs.org/zh/">https://router.vuejs.org/zh/</a> 。</p><p>vue-router是基于路由和组件的,路由用于设定访问路径, 将路径和组件映射起来；在vue-router的单页面应用中, 页面的路径的改变就是组件的切换.</p><h3 id="2、安装router"><a href="#2、安装router" class="headerlink" title="2、安装router"></a>2、安装router</h3><p>一般项目中建议在cli创建项目时就直接选择需要路由，并搭配history模式。如果并未选择，那么安装教程请参照官网：</p><p><a href="https://router.vuejs.org/zh/installation.html">https://router.vuejs.org/zh/installation.html</a></p><h3 id="3、路由使用"><a href="#3、路由使用" class="headerlink" title="3、路由使用"></a>3、路由使用</h3><p>在src下的views中，创建 <code>Home.vue</code> 及 <code>User.vue</code> ，随意写入一些信息。找到 <code>router/index.js</code> 中：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/views/Home.vue'</span><span class="token keyword">const</span> <span class="token function-variable function">User</span> <span class="token operator">=</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'@/views/User.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/views/User.vue'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>  <span class="token comment">// 导入路由对象</span><span class="token comment">// 定义路由规则</span><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>    <span class="token literal-property property">component</span><span class="token operator">:</span> Home  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user'</span><span class="token punctuation">,</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'User'</span><span class="token punctuation">,</span>    <span class="token comment">// component: () =&gt; import(/* webpackChunkName: "user" */ '../views/User.vue')</span>    <span class="token literal-property property">component</span><span class="token operator">:</span> User  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token comment">// 创建路由实例</span><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>  <span class="token comment">// vue路由只有两种模式，一种是hash，一种是history，这里使用历史模式</span>  <span class="token literal-property property">base</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>  route<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> router</code></pre><p>可以看到，我们有两种引入组件的方式。第一种比较能理解，第二种我们称之为“路由懒加载”。而这个懒加载中，有个 <code>webpackChunkName</code>，这东西我们称为魔法注释。</p><blockquote><p>魔法注释的作用：</p><p>webpack在打包的时候，对异步引入的库代码（lodash）进行代码分割时，为分割后的代码块取得名字。</p><p>Vue中运用import的懒加载语句以及webpack的魔法注释，在项目进行webpack打包的时候，对不同模块进行代码分割，在首屏加载时，用到哪个模块再加载哪个模块，实现懒加载进行页面的优化。</p><p>当你 <code>npm run build</code> 之后，生成的js文件中，就能看到以魔法注释定义的js文件名。</p></blockquote><h3 id="4、懒加载"><a href="#4、懒加载" class="headerlink" title="4、懒加载"></a>4、懒加载</h3><p>当一个vue项目很大的时候,对于一些“暂时”用不到的组件,我们可以不进行加载,等到用到次组件时再加载。这样可以优化spa应用首次加载白屏情况,也给用户更好的体验。这就是vue路由懒加载。</p><p>懒加载的方式</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 方式一: 结合Vue的异步组件和Webpack的代码分析</span><span class="token keyword">const</span> <span class="token function-variable function">User</span> <span class="token operator">=</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'@/views/User.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/views/User.vue'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 方式二: AMD写法</span><span class="token keyword">const</span> <span class="token function-variable function">User</span> <span class="token operator">=</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'@/views/User.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 方式三: 在ES6中, 我们可以有更加简单的写法来组织Vue异步组件和Webpack的代码分割.</span><span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "user" */</span> <span class="token string">'../views/User.vue'</span><span class="token punctuation">)</span></code></pre><h3 id="5、路由模式"><a href="#5、路由模式" class="headerlink" title="5、路由模式"></a>5、路由模式</h3><p>vue中的路由默认时hash模式，使用 URL 的 hash 来模拟一个完整的 URL，于是当 URL 改变时，页面不会重新加载。如果不想要很丑的 hash，我们可以用路由的history 模式，这种模式充分利用 <code>history.pushState</code> API 来完成 URL 跳转而无须重新加载页面。</p><blockquote><p>hash 虽然出现URL中，但不会被包含在HTTP请求中，对后端完全没有影响，因此改变hash不会重新加载页面。</p><p>history模式提供了对历史记录进行修改的功能，只是当它们执行修改时，虽然改变了当前的URL，但你浏览器不会立即向后端发送请求。history模式，会出现404 的情况，需要后台配置。</p><p>404 错误：</p><p>1、hash模式下，仅hash符号之前的内容会被包含在请求中，如 <a href="http://www.xxx.com/">http://www.xxx.com</a>, 因此对于后端来说，即使没有做到对路由的全覆盖，也不会返回404错误；</p><p>2、history模式下，前端的url必须和实际向后端发起请求的url 一致，如<a href="http://www.xxx.com/book/id">http://www.xxx.com/book/id</a> 。如果后端缺少对/book/id 的路由处理，将返回404错误。</p></blockquote><h3 id="6、路由跳转方式"><a href="#6、路由跳转方式" class="headerlink" title="6、路由跳转方式"></a>6、路由跳转方式</h3><p>我们可以使用 <code>router-link</code> 标签来实现跳转，如：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;div id="nav"&gt;  &lt;router-link to="/"&gt;Home&lt;/router-link&gt; |  &lt;router-link to="/user"&gt;User&lt;/router-link&gt;&lt;/div&gt;&lt;router-view/&gt;</code></pre><p>然后通过 <code>router-view</code> 来显示页面。<code>router-link</code> 最终会被渲染为a标签。</p><p><code>router-link</code> 默认会被解析为a标签，如果想让它转换成其他的标签，就需要添加tag属性：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;router-link tag="li" to="/user"&gt;User&lt;/router-link&gt;</code></pre><p>此时，<code>router-link</code> 就被解析为li标签。</p><h3 id="7、编程式导航"><a href="#7、编程式导航" class="headerlink" title="7、编程式导航"></a>7、编程式导航</h3><p>我们还有别的方式：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 简写</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">)</span><span class="token comment">// 完整的写法</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>我们除了push，还有go、forward、back这几个来触发不同情况的跳转。</p><h3 id="8、路由命名"><a href="#8、路由命名" class="headerlink" title="8、路由命名"></a>8、路由命名</h3><p>当我们给路由命名后：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/:userId'</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'User'</span><span class="token punctuation">,</span><span class="token comment">// 对路由进行命名</span>      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "user" */</span> <span class="token string">'../views/User.vue'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>携带参数：</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>而在User组件中，可以通过 <code>$route.params.userId</code> 获取到参数：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;div&gt;  用户页{{$route.params.userId}}&lt;/div&gt;</code></pre><h3 id="9、query传参"><a href="#9、query传参" class="headerlink" title="9、query传参"></a>9、query传参</h3><p>使用params传参，得到的结果与使用query传参得到的结果有以下区别：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"User"</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">// http://localhost:8081/user/123</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"User"</span><span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>       <span class="token comment">// http://localhost:8081/?userId=123</span></code></pre><h4 id="重调强调："><a href="#重调强调：" class="headerlink" title="* 重调强调："></a>* 重调强调：</h4><p><font color="red">编程式导航中，使用name进行路径跳转，携带参数可以通过params和query，其中query会将参数携带在导航路径上，而使用path进行路径跳转，无法携带params，只能携带query。</font></p><h4 id="补充："><a href="#补充：" class="headerlink" title="补充："></a><strong>补充：</strong></h4><p>params参数传参写法相当于在路径直接添加：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//App.vue中：</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/user/12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// router/index.js中：</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/:userId'</span><span class="token punctuation">,</span>    <span class="token comment">// User.vue中：</span><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 获取到用户id12</span><span class="token punctuation">}</span></code></pre><p><strong>this.$router.replace()   重定向跳转</strong></p><p><strong>next() 本身就是一个重定向跳转</strong></p><h4 id="this-route-query和this-route-params的使用与区别"><a href="#this-route-query和this-route-params的使用与区别" class="headerlink" title="this.$route.query和this.$route.params的使用与区别"></a>this.$route.query和this.$route.params的使用与区别</h4><p><strong>一、this.$route.query的使用</strong></p><p><strong>1.传参数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>         <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/trading'</span><span class="token punctuation">,</span>         <span class="token literal-property property">query</span><span class="token operator">:</span><span class="token punctuation">{</span>               <span class="token literal-property property">id</span><span class="token operator">:</span>id<span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">}</span>）<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/trading?name=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;id=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></code></pre><p><strong>2.获取参数（ *<em>query相对应的是path*</em> params相对应的是name ）</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id</code></pre><p> **3.url的表现形式（*<em>url中带有参数*<em>）</em></em></p><p><code>  http://localhost:8090/#/trading?id=1</code></p><p><em><strong>*PS: 页面之间用路由跳转传参时，刷新跳转后传参的页面，数据还会显示存在*</strong></em></p><p><strong>二、this.$route.params的使用</strong></p><p><strong>1.传参数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>         <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'trading'</span><span class="token punctuation">,</span>         <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span>               <span class="token literal-property property">id</span><span class="token operator">:</span>id<span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">}</span>）</code></pre><p><strong>2.获取参数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id</code></pre><p> **3.url的表现形式（*<em>url中不带参数*<em>）</em></em></p><p>　<code>http://localhost:8090/#/trading</code></p><p><strong>PS: *<em>页面之间用路由跳转传参时，刷新跳转后传参的页面，数据不存在*</em></strong></p><h3 id="10、路由重定向"><a href="#10、路由重定向" class="headerlink" title="10、路由重定向"></a>10、路由重定向</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/home'</span><span class="token comment">// 这就是路由的重定向，重新定义跳转路径</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>    <span class="token comment">// 改成这个之后，原来的/就没有对用的组件了</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Home.vue'</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token operator">...</span>  <span class="token operator">...</span>  <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span><span class="token comment">// 匹配所有剩余的路由，只要不是上面提及的页面，全部跳转到404页面</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Page404.vue'</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><h3 id="11、底部Tab栏-初步布局"><a href="#11、底部Tab栏-初步布局" class="headerlink" title="11、底部Tab栏-初步布局"></a>11、底部Tab栏-初步布局</h3><p>App.vue:</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;div id="app"&gt;    &lt;router-view/&gt;&lt;/div&gt;&lt;style lang="less"&gt;*{ margin: 0; padding: 0;list-style: none;}body,#app,html{ width: 100%; height: 100%;}body{  background-color: #eee;}&lt;/style&gt;</code></pre><p><code>Home.vue</code> ：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div class="home"&gt;      &lt;router-view&gt;&lt;/router-view&gt;      &lt;ul class="tit"&gt;        &lt;li&gt;分类&lt;/li&gt;        &lt;li&gt;用户&lt;/li&gt;        &lt;li&gt;详情&lt;/li&gt;      &lt;/ul&gt;  &lt;/div&gt;&lt;/template&gt;&lt;style lang="less" scoped&gt;.tit{  background-color: #fff;  display: flex;  text-align: center;  position: fixed;  bottom:0;  width: 100%;}.tit li{  flex:1;  height: 50px;  line-height: 50px;}&lt;/style&gt;</code></pre><h3 id="12、底部Tab栏-嵌套路由"><a href="#12、底部Tab栏-嵌套路由" class="headerlink" title="12、底部Tab栏-嵌套路由"></a>12、底部Tab栏-嵌套路由</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    <span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token string">"/home"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>    <span class="token literal-property property">component</span><span class="token operator">:</span> Home<span class="token punctuation">,</span>    <span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home/category'</span><span class="token punctuation">,</span>        <span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../components/Category.vue'</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home/user'</span><span class="token punctuation">,</span>        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../components/User.vue'</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home/detail'</span><span class="token punctuation">,</span>        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../components/Detail.vue'</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token operator">...</span> <span class="token operator">...</span><span class="token punctuation">]</span></code></pre><p>最后 访问：    </p><p><a href="http://localhost:8081/home/category">http://localhost:8081/home/category</a>    可以看到分类页面</p><h3 id="13、底部Tab栏-点击跳转的实现"><a href="#13、底部Tab栏-点击跳转的实现" class="headerlink" title="13、底部Tab栏-点击跳转的实现"></a>13、底部Tab栏-点击跳转的实现</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>li<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home/category<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>分类<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>li<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home/user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>用户<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>li<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home/detail<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>详情<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- &lt;li&gt;分类&lt;/li&gt;&lt;li&gt;用户&lt;/li&gt;&lt;li&gt;详情&lt;/li&gt; --&gt;</span></code></pre><h3 id="14、meta属性"><a href="#14、meta属性" class="headerlink" title="14、meta属性"></a>14、meta属性</h3><p>这是写在路由文件中的字段，我们去 <code>router/index.js</code> 中，将我们要缓存的 <code>Me.vue</code> 页面加上meta：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../views/Home.vue'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token operator">...</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/me'</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Me'</span><span class="token punctuation">,</span>      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/Me.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/you'</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'You'</span><span class="token punctuation">,</span>      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/You.vue'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>  <span class="token literal-property property">base</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>  routes<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> router</code></pre><h3 id="15、（重点）KeepAlive"><a href="#15、（重点）KeepAlive" class="headerlink" title="15、（重点）KeepAlive"></a>15、（重点）KeepAlive</h3><p><code>&lt;keep-alive&gt;</code>是Vue的内置组件，能在组件切换过程中将状态保留在内存中，防止重复渲染DOM。</p><p>KeepAlive用于处理组件缓存。有什么用呢？想象一个业务场景：</p><blockquote><p>在Login页面填写完手机号，发现未注册，需要跳去Register页面完成注册，再返回Login页面填写密码，进行登录，此时如果在Login页面没有保存好手机号，那么跳回来时，用户又得重新输入手机号。为了解决这样的需求，我们需要借助keep-alive。</p></blockquote><p>这里，我们新创建两个页面， <code>You.vue</code> 和 <code>Me.vue</code> ，并且都实现累加功能。</p><p>1、修改App.vue</p><pre class="language-vue" data-language="vue"><code class="language-vue">// 将原本的：&lt;router-view/&gt;// 修改为： &lt;keep-alive&gt;  &lt;router-view/&gt;&lt;/keep-alive&gt;</code></pre><p>这样，我们实现了整个项目中每个页面的缓存，显然我们不想这么做，我们只想针对某些页面，这时，我们修改一下：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;keep-alive&gt;&lt;router-view v-if="$route.meta.keepAlive" /&gt;&lt;/keep-alive&gt;&lt;router-view v-if="!$route.meta.keepAlive" /&gt;</code></pre><blockquote><p>注意：</p><p><code>&lt;keep-alive&gt;</code> 是用在其一个直属的子组件被开关的情形。如果你在其中有 <code>v-for</code> 则不会工作。</p></blockquote><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p><img src="/2022/07/16/vue2-jin-jie/Vue-day09-Vuex.png" alt="Vue-day09-Vuex"></p><h3 id="1、官方定义："><a href="#1、官方定义：" class="headerlink" title="1、官方定义："></a>1、官方定义：</h3><blockquote><p>Vuex 是一个专为 Vue.js 应用程序开发的<strong>状态管理模式</strong>。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p></blockquote><p>说得直白点，vuex就是vue.js中管理数据状态的一个库，通过创建一个集中的数据存储，供程序中所有组件访问。 </p><p><img src="/2022/07/16/vue2-jin-jie/1653207777555.png" alt="1653207777555"></p><p>一个数据只要放在了vuex中，当前项目所有的组件都可以直接访问这个数据。</p><h4 id="Vuex的作用"><a href="#Vuex的作用" class="headerlink" title="Vuex的作用"></a>Vuex的作用</h4><ul><li>能够在vuex中集中管理共享数据，易于开发和后期维护</li><li>能够高校地实现组件之间的数据共享，提高开发效率</li><li>存储在vuex中的数据都是响应式的，能够实时保持数据与页面的同步</li></ul><blockquote><p>当组件之间需要共享数据时，就可以存储到vuex中。 组件私有数据存储到自身的data中即可。</p></blockquote><p><img src="/2022/07/16/vue2-jin-jie/1653198798433.png" alt="1653198798433"></p><p>vuex有以下常用的几个核心属性概念：</p><ul><li>State</li><li>Getters</li><li>Mutations</li><li>Actions</li><li>Modules</li></ul><p>具体用法我们稍后揭晓。</p><h3 id="2、实际场景"><a href="#2、实际场景" class="headerlink" title="2、实际场景"></a>2、实际场景</h3><p>普通的父传子和子传父，或是兄弟组件之间的互传值，都是两个组件之间的数据连接，但如果数据需要多组件共享，并且数据量庞大，那么就不适宜用中央事件总线来解决。此时，我们需要一个更加强大的，能够维护庞大数据的东西，它就是vuex，我们称之为：状态管理。</p><h3 id="3、什么时候用Vuex"><a href="#3、什么时候用Vuex" class="headerlink" title="3、什么时候用Vuex?"></a>3、什么时候用Vuex?</h3><p>是不是学了就必须要在项目中使用呢？来看官网的回答：</p><p>Vuex 可以帮助我们管理共享状态，并附带了更多的概念和框架。这需要对短期和长期效益进行权衡。</p><p>如果您不打算开发大型单页应用，使用 Vuex 可能是繁琐冗余的。确实是如此——如果您的应用够简单，您最好不要使用 Vuex。一个简单的 <a href="https://cn.vuejs.org/v2/guide/state-management.html#%E7%AE%80%E5%8D%95%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E8%B5%B7%E6%AD%A5%E4%BD%BF%E7%94%A8">store 模式</a>就足够您所需了。但是，如果您需要构建一个中大型单页应用，您很可能会考虑如何更好地在组件外部管理状态，Vuex 将会成为自然而然的选择。引用 Redux 的作者 Dan Abramov 的话说就是：</p><blockquote><p>Flux 架构就像眼镜：您自会知道什么时候需要它。</p></blockquote><p>很显然，如果你的项目比较简单，建议还是别强行使用vuex了。</p><p>另外，值得注意的点：<font color="red">vuex会随着页面刷新或关闭，将所有数据恢复至最初始的状态，所以它并不能替代localStorage。</font></p><h3 id="4、安装Vuex"><a href="#4、安装Vuex" class="headerlink" title="4、安装Vuex"></a>4、安装Vuex</h3><p>如果你的项目是较为大型的，那么建议在创建项目时直接选择安装vuex，如果创建时并未选择安装，请参考：《<a href="https://vuex.vuejs.org/zh/installation.html">官网vuex安装</a>》。</p><h3 id="5、State"><a href="#5、State" class="headerlink" title="5、State"></a>5、State</h3><p>vuex中的state类似于data，用于存放数据，只不过这个数据是所有组件公用的。</p><p>我们来实现一个计数功能，但咱们把数据存放到vuex中的state，这里是专门用来存放组件共享的数据的。来看一下怎么实现：</p><p>首先，在 <code>store/index.js</code> 中：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">0</span><span class="token comment">// 定义了一个num</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>然后在组件中：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div&gt;    &lt;h3&gt;{{$store.state.num}}&lt;/h3&gt; &lt;/div&gt;&lt;/template&gt;</code></pre><p>如此这般，我们获取到了state中的数据：</p><p><img src="/2022/07/16/vue2-jin-jie/1653199006334.png" alt="1653199006334"></p><p>但在html中写这么长一串，始终有点难以阅读，因此，可以在computed中获取这个值，再传入html中：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token function">num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>num  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 标签中</span><span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>num<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span></code></pre><p>那么能否在data中存储这个数据呢？比如这样：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>num  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>答案是可以的，但不太建议。因为data中的数据可以修改，但通常唯一能够修改state的方式是通过vuex中的mutations，所以此处我们了解一下即可。</p><h3 id="6、Getters"><a href="#6、Getters" class="headerlink" title="6、Getters"></a>6、Getters</h3><p>vuex中的getters类似于computed计算属性，getters的返回值会根据它的依赖被缓存起来，且只有当它的依赖值发生了改变才会被重新计算。</p><p><code>store/index.js</code> 中：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">2</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token comment">// 这里的参数state可以让我们快速获取到仓库中的数据</span>    <span class="token function">doubleNum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token keyword">return</span> state<span class="token punctuation">.</span>num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>组件中：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div&gt;    &lt;h3&gt;{{num}}&lt;/h3&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default {  computed: {    num(){      return this.$store.getters.doubleNum    }  }};&lt;/script&gt;</code></pre><h3 id="7、Mutations"><a href="#7、Mutations" class="headerlink" title="7、Mutations"></a>7、Mutations</h3><p>官网指出：</p><blockquote><p>更改 Vuex 的 store 中的状态的唯一方法是提交 mutation。</p></blockquote><p>OK！那我们来修改一下这个num：</p><p><code>store/index.js</code> 中（这里暂时先把getters去掉，避免大家学习混乱）：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">2</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token comment">// payload专业名称为“载荷”，其实就是个参数</span>    <span class="token function">addNum</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      state<span class="token punctuation">.</span>num <span class="token operator">+=</span> payload<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>组件中：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div&gt;    &lt;h3&gt;{{num}}&lt;/h3&gt;    &lt;button @click="btnClick"&gt;累加2&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default {  computed: {    num(){      return this.$store.state.num    }  },  methods: {    btnClick(){      // 使用commit来触发事件，第二个参数是要传递给payload的数据      this.$store.commit('addNum', 2)    }  }};&lt;/script&gt;</code></pre><p>来看看效果：</p><img src="/2022/07/16/vue2-jin-jie/07.gif" style="border: 2px solid"><p>有一个必须注意的点，Mutations中不允许出现异步操作，它必须是一个同步函数，来看官网的解释：</p><p><img src="/2022/07/16/vue2-jin-jie/1653199185524.png" alt="1653199185524"></p><p>我们来亲自尝试一下：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token function">addNum</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 这里给mutations添加定时器，也相当于是异步操作</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>       state<span class="token punctuation">.</span>num <span class="token operator">+=</span> payload<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>来看看效果：</p><img src="/2022/07/16/vue2-jin-jie/09.gif" style="zoom: 1.2;border: 2px solid"><h3 id="8、Actions"><a href="#8、Actions" class="headerlink" title="8、Actions"></a>8、Actions</h3><p>Action 类似于 mutation，不同在于：</p><ul><li>Action 提交的是 mutation，而不是直接变更状态。</li><li>Action 可以包含任意异步操作。</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">2</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">addNum</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      state<span class="token punctuation">.</span>num <span class="token operator">+=</span> payload<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token comment">// context是一个对象，包含了commit和state</span>    <span class="token function">AsyncAddNum</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addNum'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>组件中：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div&gt;    &lt;h3&gt;{{num}}&lt;/h3&gt;    &lt;button @click="btnClick"&gt;累加2&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default {  computed: {    num(){      return this.$store.state.num    }  },  methods: {    btnClick(){      // dispatch是分发到意思，其实也是触发Actions中的方法      this.$store.dispatch('AsyncAddNum', 2)    }  }};&lt;/script&gt;</code></pre><p>当然，上面actions中的写法有点累赘，我们还可以改写：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">AsyncAddNum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addNum'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 如果你还想获取state中的值，可以这样：</span><span class="token function">AsyncAddNum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit<span class="token punctuation">,</span>state <span class="token punctuation">}</span><span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addNum'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>那么，既然actions中可以拿到state的值，能否直接改这个值，而不触发mutations呢？答案是可以的，但…还是devtool的问题：</p><img src="/2022/07/16/vue2-jin-jie/10.gif" style="border: 2px solid;zoom: 1.2"><h3 id="9、辅助函数"><a href="#9、辅助函数" class="headerlink" title="9、辅助函数"></a>9、辅助函数</h3><p>获取单个数据或触发某个方法比较容易，我们直接拿到和触发就行，但如果要获取的数据和触发的方法很多个，我们就比较麻烦了，这时候我们需要借用辅助函数。比如，我们刚刚只写了累加，现在再补充一个递减。然后来看看辅助函数怎么用。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'标题'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">doubleNum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> state<span class="token punctuation">.</span>num <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">addNum</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      state<span class="token punctuation">.</span>num <span class="token operator">+=</span> payload<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">cutNum</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      state<span class="token punctuation">.</span>num <span class="token operator">-=</span> payload<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">AsyncAddNum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addNum'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">AsyncCutNum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'cutNum'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>此时，要拿到num和title的话，我们可以在组件中：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div&gt;    &lt;h2&gt;{{title}}&lt;/h2&gt;    &lt;h3&gt;{{num}}&lt;/h3&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;// 引入辅助函数mapStateimport {mapState} from 'vuex'export default {  // 在computed中引用  computed: {    ...mapState(['title', 'num'])  }};&lt;/script&gt;</code></pre><p>如果打算从getters中取出num：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;h3&gt;{{doubleNum}}&lt;/h3&gt;&lt;script&gt;import {mapState, mapGetters} from 'vuex'export default {  computed: {    ...mapState(['title']),    ...mapGetters(['doubleNum'])  }};&lt;/script&gt;</code></pre><p>如果打算把mutations和actions中的方法引入：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div&gt;    &lt;h2&gt;{{title}}&lt;/h2&gt;    &lt;h3&gt;{{doubleNum}}&lt;/h3&gt;    &lt;button @click="addNum(2)"&gt;累加2&lt;/button&gt;    &lt;button @click="AsyncCutNum(2)"&gt;递减2&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import {mapState, mapGetters, mapMutations, mapActions} from 'vuex'methods: {  // 这里负责引入，我们把引入后的事件直接写在标签上，顺便把参数也带上    ...mapMutations(['addNum']),    ...mapActions(['AsyncCutNum'])}&lt;/script&gt;</code></pre><p>如果你必须把点击事件写在methods中，而不是标签上的话，你也可以这样：</p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt; &lt;div&gt;    &lt;button @click="btnClick1"&gt;累加2&lt;/button&gt;    &lt;button @click="btnClick2"&gt;递减2&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;import {mapState, mapGetters, mapMutations, mapActions} from 'vuex'export default {  methods: {    ...mapMutations(['addNum']),    ...mapActions(['AsyncCutNum']),    btnClick1(){      // 直接通过this.xxx来调用辅助函数引入的事件      this.addNum(2)    },    btnClick2(){      this.AsyncCutNum(2)    }  }};&lt;/script&gt;</code></pre><h3 id="10、Module"><a href="#10、Module" class="headerlink" title="10、Module"></a>10、Module</h3><p>假设我们把累加单独抽出来作为一个模块，在store下新建一个 <code>add/index.js</code> 文件：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//命名空间，为true时，可以在store中把当前模块文件夹名称（add），当作模块名使用</span>    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">2</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token function">doubleNum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> state<span class="token punctuation">.</span>num <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token function">addNum</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            state<span class="token punctuation">.</span>num <span class="token operator">+=</span> payload<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token function">AsyncAddNum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addNum'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>把有关累加的所有内容，都移动至本文件。再到原来仓库index.js中的modules添加：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> add <span class="token keyword">from</span> <span class="token string">'./add'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token operator">...</span><span class="token punctuation">,</span><span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>    add  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在组件中使用时，稍微有些变化：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token string-property property">'title'</span><span class="token operator">:</span> <span class="token string">'title'</span><span class="token punctuation">,</span>  <span class="token string-property property">'num1'</span><span class="token operator">:</span> <span class="token string">'num1'</span><span class="token punctuation">,</span>  <span class="token string-property property">'num'</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>add<span class="token punctuation">.</span>num<span class="token comment">// module中state值的获取方法和getters等不太一样，需要写函数形式</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token string-property property">'doubleNum'</span><span class="token operator">:</span> <span class="token string">'add/doubleNum'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token string-property property">'addNum'</span><span class="token operator">:</span> <span class="token string">'add/addNum'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="11、拆分写法"><a href="#11、拆分写法" class="headerlink" title="11、拆分写法"></a>11、拆分写法</h3><p>实际上我们可以把state、getter、mutation、action和module都抽离出来，这样可以让store文件看着更加简洁。我们来将 <code>store/index.js</code> 进行拆分：</p><p><code>state.js</code>：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token literal-property property">num1</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'标题'</span><span class="token punctuation">}</span></code></pre><p><code>mutations.js</code>：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token function">cutNum</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        state<span class="token punctuation">.</span>num1 <span class="token operator">-=</span> payload<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><code>actions.js</code>：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token function">AsyncCutNum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'cutNum'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><code>modules.js</code>：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> add <span class="token keyword">from</span> <span class="token string">'./add'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    add<span class="token punctuation">}</span></code></pre><p>最后，在 <code>store/index.js</code> 中：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token keyword">import</span> state <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token keyword">import</span> mutations <span class="token keyword">from</span> <span class="token string">'./mutations'</span><span class="token keyword">import</span> actions <span class="token keyword">from</span> <span class="token string">'./actions'</span><span class="token keyword">import</span> modules <span class="token keyword">from</span> <span class="token string">'./modules'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  state<span class="token punctuation">,</span>  mutations<span class="token punctuation">,</span>  actions<span class="token punctuation">,</span>  modules<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue2-基础</title>
      <link href="/2022/07/16/vue2-ji-chu/"/>
      <url>/2022/07/16/vue2-ji-chu/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue-简介"><a href="#Vue-简介" class="headerlink" title="Vue 简介"></a>Vue 简介</h2><p><img src="/2022/07/16/vue2-ji-chu/vue2%E5%9F%BA%E7%A1%80.png" alt="vue2基础"></p><p><strong>vue思想：用数据来控制(驱动)界面</strong></p><p>所有样式的切换都是数据的修改控制</p><p><strong>Vue 实例基本格式：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span><span class="token string">"要绑定的元素"</span>，    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>    数据<span class="token number">1</span>：值<span class="token number">1</span>，    数据<span class="token number">2</span>：值<span class="token number">2</span>，    <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>        <span class="token function">方法名1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    xxxx<span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">方法名2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        xxxx    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>注意：</strong></p><ul><li>注意 js 运行环境来考虑加不加   引号，不加引号就是data里面声明了的；</li><li>methods 对象里面需要 data 对象 里面的值，需要加<code>this.</code></li></ul><p><strong>负责界面 视图 (view)</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>{{str}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>负责数据 模型(model)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>     <span class="token comment">// 告诉Vue 这个对象是来管理#app 盒子的内部的数据</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span>    <span class="token comment">// 定义一个变量num 值是21</span>        <span class="token literal-property property">str</span><span class="token operator">:</span> <span class="token string">"hello"</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="语法-—-指令"><a href="#语法-—-指令" class="headerlink" title="语法 — 指令"></a>语法 — 指令</h2><h4 id="插值语法-x2F-模板语法-x2F-胡子语法-看成是一个js的书写环境"><a href="#插值语法-x2F-模板语法-x2F-胡子语法-看成是一个js的书写环境" class="headerlink" title="插值语法/模板语法/胡子语法 { {} } 看成是一个js的书写环境"></a>插值语法/模板语法/胡子语法 { {} } 看成是一个js的书写环境</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{num1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{num2}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>    num1和num2中比较最大是数字是：{{num1&gt;num2?num1:num2}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- vue思想：用数据来控制(驱动)界面 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{str2.split("").reverse().join("")}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">num1</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>        <span class="token literal-property property">num2</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>        <span class="token literal-property property">str2</span><span class="token operator">:</span> <span class="token string">"hello"</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="v-bind-指令"><a href="#v-bind-指令" class="headerlink" title="v-bind 指令"></a>v-bind 指令</h4><p>v-xxx Vue指令，一般给标签属性用的</p><p><strong>v-bind: 指令  值可以是data中的数据</strong>，简写为 <code>:</code></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>百度一下<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>淘宝一下<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">url1</span><span class="token operator">:</span> <span class="token string">"http://www.baidu.com"</span><span class="token punctuation">,</span>        <span class="token literal-property property">url2</span><span class="token operator">:</span> <span class="token string">"http://www.taobao.com"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="v-on-事件指令"><a href="#v-on-事件指令" class="headerlink" title="v-on: 事件指令"></a>v-on: 事件指令</h4><p>简写为<code>@</code></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num1++<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num1+=5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add(11)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">num1</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>        <span class="token literal-property property">num2</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>        <span class="token literal-property property">str2</span><span class="token operator">:</span> <span class="token string">"hello"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token comment">/*                     add:function(val){                        this 指向创建出来的vue对象                        this.num1 += val                    },                */</span>        <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// this 指向创建出来的Vue对象</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>num1 <span class="token operator">+=</span> val        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="vue-控制类名"><a href="#vue-控制类名" class="headerlink" title="vue 控制类名"></a>vue 控制类名</h4><p>**:class 的值可以是一个对象 键名就是类名，值是一个布尔值，为true表示有这个类，false 表示没有这个类 **</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{current:bool1,active:bool2}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>:class 的值可以是一个数组  数组中每一个元素表示类名，有写到的类名就表示有这个类</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[<span class="token punctuation">'</span>current<span class="token punctuation">'</span>,<span class="token punctuation">'</span>active<span class="token punctuation">'</span>]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>:class 的值可以是一个三元运算符 通过一个条件来决定有没有这个类</strong></p><p><strong>要么 这样  要么  那样 ———— 三元运输符</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age&gt;18?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- 可以将这个三元运算符写成对象 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{active:age&gt;18}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"app"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">bool1</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">bool2</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="vue-控制行内样式-了解"><a href="#vue-控制行内样式-了解" class="headerlink" title="vue 控制行内样式(了解)"></a>vue 控制行内样式(了解)</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>div <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"{color:'red',backgroundColor:'skyblue'}"</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>div <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"[{color:'red',backgroundColor:'skyblue'},{fontSize:'40px'}]"</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">bool1</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">bool2</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h4 id="Tab栏-—-vue"><a href="#Tab栏-—-vue" class="headerlink" title="Tab栏 — vue"></a>Tab栏 — vue</h4><p><strong>三元运算符方法</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab_con<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab_btns<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>按钮一<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num==1?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num=1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>按钮二<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num==2?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num=2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>按钮三<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num==3?<span class="token punctuation">'</span>active<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num=3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab_cons<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num==1?<span class="token punctuation">'</span>current<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮一对应的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num==2?<span class="token punctuation">'</span>current<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮二对应的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num==3?<span class="token punctuation">'</span>current<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮三对应的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">".tab_con"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span>  <span class="token comment">//用来控制当前类 在哪一个标签上面，为1的时候，表示在第一个盒子身上</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>class 类名对象方法</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab_btns<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>按钮一<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{active:num==1}<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num=1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>按钮二<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{active:num==2}<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num=2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>按钮三<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{active:num==3}<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num=3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab_cons<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{current:num==1}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮一对应的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{current:num==2}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮二对应的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{current:num==3}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮三对应的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="v-if-和-v-show"><a href="#v-if-和-v-show" class="headerlink" title="v-if  和  v-show"></a>v-if  和  v-show</h4><p><strong>v-if的值为false的话，这个标签会被进行DOM删除</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>第1个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>display:none 只是样式上的隐藏</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>第2个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>v-show 为false的话，效果和display：none 一样，只是样式上的隐藏</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>第3个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>v-if  和  v-else  之间不能有标签</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>num&gt;15<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>第4个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>第5个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>type===<span class="token punctuation">'</span>a<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>第6个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>type===<span class="token punctuation">'</span>b<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>第7个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>type===<span class="token punctuation">'</span>c<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>第8个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>第9个盒子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="v-bind-quot-attrs-quot"><a href="#v-bind-quot-attrs-quot" class="headerlink" title="v-bind=&quot;$attrs&quot;"></a><code>v-bind="$attrs"</code></h4><p>父组件如果要传入非 props 属性。给子组件，子组件可以使用<code>v-bind="$attrs"</code>来接收。</p><h4 id="v-for-指令【重点】"><a href="#v-for-指令【重点】" class="headerlink" title="v-for  指令【重点】"></a>v-for  指令【重点】</h4><p><strong>谁要不断的出现，v-for 就加在谁身上</strong></p><p><strong>v-for=”item in 数组名”      item是数组的每一个元素  in  是固定写法</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>v-for=”item,index in 数组名” item是数组的每一个元素  in 是固定写法  index是每一项的下标</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{index}}、{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>v-for=”value,key in 对象名” value 每一项的值，key每一项的键名</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>value,key in obj<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{key}}:{{value}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>eg:</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- &lt;li v-for="item,index in title" :style="{fontWeight: 前2个 ?700:400}"&gt; --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in title<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{fontWeight:index&lt;2?700:400}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="v-model-双向数据绑定-【重点】"><a href="#v-model-双向数据绑定-【重点】" class="headerlink" title="v-model   双向数据绑定  【重点】"></a>v-model   双向数据绑定  【重点】</h4><ul><li>​    v-model 怎么使用：配合表单元素使用</li><li>​    v-model 的<strong>值是一个变量</strong>，已经在data中定义过。</li><li>​    效果：<strong>用户一旦输入数据，实际上是在修改data中的txtVal,修改成用户输入的值</strong></li><li>​    所有怎么拿到用户输入的值？  【重点】: <strong>拿到txtVal，就是拿到用户输入的值！！！</strong></li></ul><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{txtVal}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>广东省<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bj<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>北京<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sh<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>上海<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>四川省<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{selVal}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">txtVal</span><span class="token operator">:</span> <span class="token string">"初始值"</span><span class="token punctuation">,</span>            <span class="token literal-property property">selVal</span><span class="token operator">:</span> <span class="token string">"sc"</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="v-mode的本质"><a href="#v-mode的本质" class="headerlink" title="v-mode的本质"></a>v-mode的本质</h4><p><strong>v-model 可以用 value 属性和input事件来代替</strong> </p><p>需求：当用户输入的时候，把txtVal 修改成用户输入的信息</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- v-model 可以用 value 属性和input事件来代替 --&gt;</span>    <span class="token comment">&lt;!-- 需求：当用户输入的时候，把txtVal 修改成用户输入的信息 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hdInput<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{txtVal}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">txtVal</span><span class="token operator">:</span> <span class="token string">"初始值"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">hdInput</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//e在这里是一个事件对象</span>                <span class="token comment">// 一遍输入一遍触发</span>                <span class="token comment">// 把 txtVal 修改成用户输入的信息</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"触发了hdInput"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// this.txtVal = 用户输入的信息</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>方法二</strong></p><p><strong>$event 是 vue提供给我们的一个事件对象  $开头属性对象方法，都是vue提供的特殊的变量，可以直接使用</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal=$event.target.value<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{txtVal}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>eg:   聊天对话框</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>talk_con<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>talk_show<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>words<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.who===<span class="token punctuation">'</span>A<span class="token punctuation">'</span>?<span class="token punctuation">'</span>atalk<span class="token punctuation">'</span>:<span class="token punctuation">'</span>btalk<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in arr<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{item.who}}说：{{item.words}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!-- &lt;div class="atalk"&gt;&lt;span&gt;A说：吃饭了吗？&lt;/span&gt;&lt;/div&gt;&lt;div class="btalk"&gt;&lt;span&gt;B说：还没呢，你呢？&lt;/span&gt;&lt;/div&gt;--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>talk_input<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>whotalk<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>who<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>A说：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>B<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>B说：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>talk_word<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>talkwords<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>发送<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>talk_sub<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>talksub<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>send<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>    new Vue({        el: ".talk_con",        data: {            arr: [{ who: "A", words: '吃饭了吗？' }, { who: "B", words: '还没呢，你呢？' }],            // 用户输入的数据            txtVal: "",            // 用户选择的数据            selVal: "A"        },        methods: {            send() {                // 点击发送，本质是？往arr里面添加一个数据                // this.arr.push({who:用户选择的数据,words:用户输入的数据})                this.arr.push({ who: this.selVal, words: this.txtVal });                // 清空输入框                this.txtVal = ""            }        }    })</code></pre><p><strong>eg:</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list_con<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>To do list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txt1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inputtxt<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>增加<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inputbtn<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in arr<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:;<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del<span class="token punctuation">"</span></span>                                                                  <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!-- &lt;li&gt;&lt;span&gt;学习css&lt;/span&gt;&lt;a href="javascript:;" class="del"&gt;删除&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;学习javascript&lt;/span&gt;&lt;a href="javascript:;" class="del"&gt;删除&lt;/a&gt;&lt;/li&gt; --&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">".list_con"</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"学习html"</span><span class="token punctuation">,</span> <span class="token string">"学习css"</span><span class="token punctuation">,</span> <span class="token string">"学习javascript"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">txtVal</span><span class="token operator">:</span> <span class="token string">""</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// 常规的非空校验</span>                    <span class="token comment">// if (this.txtVal.trim()) {</span>                    <span class="token comment">// this.arr.unshift(this.txtVal);</span>                    <span class="token comment">// this.txtVal = ""</span>                    <span class="token comment">// } else {</span>                    <span class="token comment">// alert("请输入内容")</span>                    <span class="token comment">// }</span>                    <span class="token comment">//  更方便的非空校验</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入内容"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// 判空后清空</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token comment">// if(不符合规范){</span>                    <span class="token comment">// return</span>                    <span class="token comment">// }</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>txtVal<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>txtVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// 删除arr中的某一项</span>                    <span class="token comment">// this.arr.splice(要操作的元素的下标，要删除的个数，要增加的元素)</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>注意：使用更方便的非空校验 ，直接return</strong></p><h2 id="不常用的指令"><a href="#不常用的指令" class="headerlink" title="不常用的指令"></a>不常用的指令</h2><pre class="language-js" data-language="js"><code class="language-js"><span class="token literal-property property">strHtml</span><span class="token operator">:</span> <span class="token string">"&lt;span&gt;这是span标签&lt;/span&gt;"</span></code></pre><h4 id="v-text-把strHtml-的值替换到-标签内部-标签内部原本的内容会消失-不会解析strHtml-的值内部的标签"><a href="#v-text-把strHtml-的值替换到-标签内部-标签内部原本的内容会消失-不会解析strHtml-的值内部的标签" class="headerlink" title="v-text 把strHtml 的值替换到 标签内部(标签内部原本的内容会消失) 不会解析strHtml 的值内部的标签"></a>v-text 把strHtml 的值替换到 标签内部(标签内部原本的内容会消失) 不会解析strHtml 的值内部的标签</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>strHtml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>这是a标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="v-html-把strHtml的值替换到-标签内部-标签内部原本的内容会消失-会解析strHtml的值内部的标签"><a href="#v-html-把strHtml的值替换到-标签内部-标签内部原本的内容会消失-会解析strHtml的值内部的标签" class="headerlink" title="v-html 把strHtml的值替换到 标签内部(标签内部原本的内容会消失) 会解析strHtml的值内部的标签"></a>v-html 把strHtml的值替换到 标签内部(标签内部原本的内容会消失) 会解析strHtml的值内部的标签</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>strHtml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>222<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="v-pre-让vue不去解析标签内部的"><a href="#v-pre-让vue不去解析标签内部的" class="headerlink" title="v-pre 让vue不去解析标签内部的{ {} }"></a>v-pre 让vue不去解析标签内部的{ {} }</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-pre</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>的值是：{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="v-cloak-在加载的时候将-隐藏，需要搭配样式-display-none"><a href="#v-cloak-在加载的时候将-隐藏，需要搭配样式-display-none" class="headerlink" title="v-cloak 在加载的时候将{ {} }隐藏，需要搭配样式  display: none"></a>v-cloak 在加载的时候将{ {} }隐藏，需要搭配样式  display: none</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">&gt;</span></span>{{strHtml}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">//标签选择器[v-cloak]</span> <span class="token punctuation">{</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="vue的计算属性"><a href="#vue的计算属性" class="headerlink" title="vue的计算属性"></a>vue的计算属性</h2><ul><li><strong>在界面中获取这个total属性的时候就执行这个函数</strong></li><li><strong>需要有返回值， 的结果就是返回值</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs入门'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs底层'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs从入门到放弃'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> cur<span class="token punctuation">.</span>price <span class="token operator">*</span> cur<span class="token punctuation">.</span>count <span class="token operator">+</span> pre            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token string">"￥"</span> <span class="token operator">+</span> ret<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"元"</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>第二种格式：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs入门'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs底层'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs从入门到放弃'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"执行了get方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 获取total这个属性的值的时候来执行这里的代码</span>                <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> cur<span class="token punctuation">.</span>price <span class="token operator">*</span> cur<span class="token punctuation">.</span>count <span class="token operator">+</span> pre                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token string">"¥"</span> <span class="token operator">+</span> ret<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"元"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//newVal 用来接收新的值</span>                <span class="token comment">// total 属性被修改的时候，就执行这里的代码</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"-------执行了set方法"</span><span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 只用于演示，在项目中不会去修改计算属性的值 计算属性只有在影响它值的值修改才会变</span>vm<span class="token punctuation">.</span>total <span class="token operator">=</span> <span class="token number">222</span></code></pre><p><strong>计算属性和方法两种写法的区别</strong></p><ul><li><strong>什么时候用计算属性：一般这个值受到其他值的影响 (总价) 受到单价和数量的影响</strong></li><li><strong>计算属性有缓存的效果</strong></li></ul><h2 id="常用的数组方法"><a href="#常用的数组方法" class="headerlink" title="常用的数组方法"></a>常用的数组方法</h2><p><strong>如何学习一个函数？？</strong> </p><ul><li>什么时候执行？</li><li>这个函数的形参分别表示什么？</li><li>这个函数有没有返回值？</li></ul><h4 id="reduce-方法"><a href="#reduce-方法" class="headerlink" title="reduce  方法"></a>reduce  方法</h4><ul><li>当执行到reduce的时候就开始遍历这个数组，每遍历到一个元素，就执行这个函数1次</li><li>pre 用来接收上一次遍历的返回值</li><li>current 当前遍历到的这个元素</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> current</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span> current<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>       <span class="token comment">//这个0 表示pre 的初始值</span><span class="token comment">// ret 接收最后一次遍历的返回值</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 0 {name: 'Vuejs入门', price: 99, count: 3}</span><span class="token comment">// 10 {name: 'Vuejs底层', price: 89, count: 1}</span><span class="token comment">// 10 {name: 'Vuejs从入门到放弃', price: 19, count: 5}</span><span class="token comment">// 10</span></code></pre><p><strong>reduce  方法 进行求和</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs入门'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs底层'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vuejs从入门到放弃'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> total <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 每一次都返回  当前这次的单价*当前的数量 + 上一次返回给我的值</span>    <span class="token keyword">return</span> cur<span class="token punctuation">.</span>price <span class="token operator">*</span> cur<span class="token punctuation">.</span>count <span class="token operator">+</span> pre<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="filter方法"><a href="#filter方法" class="headerlink" title="filter方法"></a>filter方法</h4><p><strong>原理：每遍历一个元素的时候，return 返回值为true的时候，就会把这个元素item,push到ret这个数组中</strong></p><p><strong>经验：return 满足我们需求的条件</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 需求：找出这里面大于15的数字</span><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> self</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 执行到filter 的时候，就会开始遍历arr 这个数组</span>    <span class="token comment">// 每遍历到一个元素，就会执行这个代码1次</span>    <span class="token comment">// item 当前遍历的这个元素</span>    <span class="token comment">// index 当前遍历的这个元素的下标</span>    <span class="token comment">// self 当前遍历的这个数组arr</span>    <span class="token comment">// 需要有返回值</span>    <span class="token comment">// 经验：return 满足我们需求的条件</span>    <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">15</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="map-方法"><a href="#map-方法" class="headerlink" title="map 方法"></a>map 方法</h4><p><strong>经验：return 后面写新数组的元素是什么样子，这里就写它个格式</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 需求：把数组改成[{id:10},{id:20}]</span><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> self</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 执行到map 的时候，就会开始遍历arr这个数组</span>    <span class="token comment">// 每遍历到一个元素，就会执行这个代码1次</span>    <span class="token comment">// item  当前遍历的这个元素</span>    <span class="token comment">// index  当前遍历的这个元素的下标</span>    <span class="token comment">// self  当前遍历的这个数组arr</span>    <span class="token comment">// 经验：return 后面写新数组的元素是什么样子，这里就写它个格式</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> item <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 把arr2中每一个元素改成false</span><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// let ret2 = arr2.map(item =&gt; false)</span><span class="token keyword">let</span> ret2 <span class="token operator">=</span> arr2<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p><strong>添加</strong></p><ul><li><p><strong>在数组最后追加一个元素，并返回新数组的元素的个数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>在数组第一个位置追加一个元素,并返回新数组的元素的个数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><p><strong>删除</strong></p><ul><li><p><strong>删除数组最后一个元素,返回被删除的那个元素</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>删除数组第一个元素,返回被删除的那个元素</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>arr.splice(要操作的元素的下标,要删除的个数,要增加的元素)</strong></p></li><li><p><strong>返回被删除元素组成的数组</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span></code></pre></li><li><p><strong>返回被删除元素组成的数组</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span></code></pre></li></ul><p><strong>合并</strong></p><ul><li><p><strong>返回出来的是新的合并之后的数组,并不会修改arr</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>…是扩展运算符,展开数组再放入数组中</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><p><strong>其他</strong></p><ul><li><p><strong>数组名.indexOf(某个元素)   用来获取元素在数组中第一次出现时候的下标</strong></p></li><li><p><strong>如果数组不存在这个元素，就返回-1</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>数组名.indexOf(某个元素，下标);  表示从这个下标的位置开始找到这个元素，找到就返回他的下标</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>真正用来判断元素在不在数组  数组名.includes(某个元素) 得到布尔值，为true 表示在数组里面</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p><strong>ES6</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//第一种</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//第二种</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>可以利用filter 来实现</strong></p><p>数组名.indexOf(某个元素)   用来获取元素在数组中第一次出现时候的下标</p><ul><li>第1个元素是不重复的元素，arr.indexOf(1) 结果是0, 刚好等于这个元素的下标(index)</li><li>第2个元素是不重复的元素，arr.indexOf(2) 结果是1, 刚好等于这个元素的下标(index)</li><li>第3个元素是不重复的元素，arr.indexOf(3) 结果是2, 刚好等于这个元素的下标(index)</li><li>第4个元素是重复的元素，arr.indexOf(1) 结果是0, 不等于这个元素的下标(index)</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> ret <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> self</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// return 满足我们需求的条件(不重复)</span>    <span class="token comment">// return 没有重复的元素满足什么条件</span>    <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> index<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>eg:   购物车</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in titles<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in books<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.date}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.price.toFixed(2)+"元"}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>redu(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                    {{item.num}}                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>总价：{{total}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">titles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'编号'</span><span class="token punctuation">,</span> <span class="token string">'书籍名称'</span><span class="token punctuation">,</span> <span class="token string">'出版日期'</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">,</span> <span class="token string">'数量'</span><span class="token punctuation">,</span> <span class="token string">'操作'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">books</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span>                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'算法导论'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">'2006-9'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span>                        <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span>                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'UNIX编程艺术'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">'2006-2'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">59</span><span class="token punctuation">,</span>                        <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span>                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Vue程序设计'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">'2008-10'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span>                        <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span>                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'颈椎康复'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">'2006-3'</span><span class="token punctuation">,</span>                        <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">129</span><span class="token punctuation">,</span>                        <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">]</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> cur<span class="token punctuation">.</span>price <span class="token operator">*</span> cur<span class="token punctuation">.</span>num <span class="token operator">+</span> pre                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>                    <span class="token keyword">return</span> <span class="token string">"￥"</span> <span class="token operator">+</span> ret<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"元"</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// this.books[下标].num++</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">redu</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token operator">--</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><h1 id="Vue-day03"><a href="#Vue-day03" class="headerlink" title="Vue-day03"></a>Vue-day03</h1><h3 id="vue2局部过滤器"><a href="#vue2局部过滤器" class="headerlink" title="vue2局部过滤器"></a>vue2局部过滤器</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- {{值 | 过滤器名字}} --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>总价：{{total | RMBFormat}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">10</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">RMBFormat</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// value 接受 | 前面的值</span>                <span class="token keyword">return</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">"元"</span>     <span class="token comment">//返回到上面使用过理器的地方</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="vue2全局过滤器"><a href="#vue2全局过滤器" class="headerlink" title="vue2全局过滤器"></a>vue2全局过滤器</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- {{值 | 过滤器名字}} --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>总价：{{total | RMBFormat}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app2<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- {{值 | 过滤器名字}} --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>总价：{{total | RMBFormat}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>    Vue.filter("RMBFormat", value =&gt; {      // value接受 | 前面的值        return value + "元" // 放回到上面使用过滤器的地方    })    new Vue({        el: '#app',        data: {            total: 10        }    });    new Vue({        el: '#app2',        data: {            total: 200        }    })</code></pre><h3 id="本地存储"><a href="#本地存储" class="headerlink" title="本地存储"></a>本地存储</h3><p><strong>本地存储添加</strong></p><pre class="language-js" data-language="js"><code class="language-js">localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"Vue"</span><span class="token punctuation">)</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token string">"8"</span><span class="token punctuation">)</span></code></pre><p><strong>存储在本地,即使上面注释了,本地没有删除,还能打印</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>删除了本地存储</strong></p><pre class="language-js" data-language="js"><code class="language-js">localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>清空了本地存储</strong></p><pre class="language-js" data-language="js"><code class="language-js">localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Vue"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>    <span class="token literal-property property">job</span><span class="token operator">:</span> <span class="token string">"web前端"</span><span class="token punctuation">}</span><span class="token comment">// 注意点: 保存数组或者对象的时候,需要先进行转化成 JSON格式的字符串(JSON.stringify)</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"Aobj"</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"Aobj"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"Aobj"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> str <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"Aobj"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 解析成对象</span><span class="token keyword">let</span> myobj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myobj<span class="token punctuation">)</span><span class="token punctuation">;</span>localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="本地存储-sessionStorage"><a href="#本地存储-sessionStorage" class="headerlink" title="本地存储 (sessionStorage)"></a>本地存储 (sessionStorage)</h3><ol><li>关闭浏览器会自动清空数据</li><li>一般浏览器存储的大小是5M</li></ol><pre class="language-js" data-language="js"><code class="language-js">sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"Vue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token string">"8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="本地存储的使用"><a href="#本地存储的使用" class="headerlink" title="本地存储的使用"></a>本地存储的使用</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token keyword">null</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 是生命周期函数中的一个。先理解成：这个函数会在刷新页面的时候执行</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"执行了created"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 第一次访问这个页面的时候，localStorage 中是没有num这个数字的，所以要判断</span>            <span class="token comment">// 方法一:     三元运算 </span>            <span class="token comment">// this.num = localStorage.getItem("num") ? parseInt(localStorage.getItem("num")) : 20</span>            <span class="token comment">// 方法二:     短路运算</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"num"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">20</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token comment">// 保存现在这个新的num值</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 保存到本地存储</span>                localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"num"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="Object-defineProperty方法的使用【重点】"><a href="#Object-defineProperty方法的使用【重点】" class="headerlink" title="Object.defineProperty方法的使用【重点】"></a>Object.defineProperty方法的使用【重点】</h3><p><strong>原生 定义对象属性</strong></p><pre class="language-js" data-language="js"><code class="language-js">obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Vue"</span></code></pre><p><strong>这个方法是来给对象定义属性用的</strong></p><pre class="language-js" data-language="js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>对象，要定义的属性名，<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 这个get什么时候执行？ 获取这个"name"属性的时候，执行get方法</span>        <span class="token comment">// obj的name属性到底是什么？就是return后面的这个值</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"执行了get方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> val    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//newVal 获取新的值(要修改成的这个值，即等号后面的值)</span>        <span class="token comment">// 什么时候执行set？修改这个"name"属性的时候，执行set方法</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"--------执行了set方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// val = 新的值</span>        val <span class="token operator">=</span> newVal<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 获取这个"name"属性的时候，执行get方法</span><span class="token comment">// console.log(obj.name);</span>obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Vue3"</span><span class="token punctuation">;</span>      <span class="token comment">// 触发set方法的执行</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="Vue2双向数据绑定的原理【重点】"><a href="#Vue2双向数据绑定的原理【重点】" class="headerlink" title="Vue2双向数据绑定的原理【重点】"></a>Vue2双向数据绑定的原理【重点】</h3><p><strong>Vue2 的双向数据绑定原理：借助Object.defineProperty() 对数据进行劫持，并结合发布-订阅者模式，来实现双向数据绑定</strong></p><p><strong>核心：用户输入的时候，实际上是在修改txtVal这个值</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txtVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{txtVal}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">txtVal</span><span class="token operator">:</span> <span class="token string">"初始值"</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>原生js</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> id<span class="token operator">=</span><span class="token string">"oipt"</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>p id<span class="token operator">=</span><span class="token string">"op"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>        <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token comment">//理解成为上面的data的对象</span><span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token string">"初始值"</span><span class="token punctuation">;</span><span class="token comment">// define 定义</span><span class="token comment">// Property  属性   props  属性</span><span class="token comment">// 在 obj  对象里面添加 txtVal 属性</span>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">"txtVal"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> val<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// 第三方</span>    <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// newVal 就是用户输入的信息</span>        <span class="token comment">// 数据劫持，对象劫持</span>        <span class="token comment">// 界面的操作</span>        <span class="token comment">// 由第三方通知到每一位订阅者</span>        oipt<span class="token punctuation">.</span>value <span class="token operator">=</span> newVal<span class="token punctuation">;</span>        op<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> newVal<span class="token punctuation">;</span>        val <span class="token operator">=</span> newVal<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 订阅者 oipt op， 都订阅了 obj.txtVal 这个数据</span>oipt<span class="token punctuation">.</span>value <span class="token operator">=</span> obj<span class="token punctuation">.</span>txtVal<span class="token punctuation">;</span>op<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> obj<span class="token punctuation">.</span>txtVal<span class="token punctuation">;</span>oipt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 用户输入的时候，要修改txtVal这个值</span>    <span class="token comment">// obj.txtVal= 用户输入的信息</span>    <span class="token comment">// 发布了新是数据  (即修改)</span>    obj<span class="token punctuation">.</span>txtVal <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token comment">// 触发set方法</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="v-for-的key属性"><a href="#v-for-的key属性" class="headerlink" title="v-for 的key属性"></a>v-for 的key属性</h3><ul><li>key  是给Vue内部去用的</li><li>key  是内部判断节点需不需要更新的依据  (一旦key的值发生变化，这个节点就会更新)</li><li>key 的值只能是字符串或者数组，不要是对象。</li><li>这个值，以后在项目中写这个 item.id</li><li>写到v-for的时候，就需要写这个:key</li><li>:key 的作用，减少不必要的DOM更新，提高节点的更新效率(高效更新虚拟DOM)</li></ul><p><strong>虚拟DOM  (就是一个js对象)</strong></p><pre class="language-js" data-language="js"><code class="language-js">虚拟<span class="token constant">DOM</span>  <span class="token punctuation">(</span>就是一个js对象<span class="token punctuation">)</span><span class="token keyword">let</span> ulDOM <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"ul"</span><span class="token punctuation">,</span>    <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"title"</span><span class="token punctuation">,</span>        <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token string">"xxx"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"class"</span><span class="token punctuation">,</span>        <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token string">"box"</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>        <span class="token punctuation">{</span>            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"li"</span><span class="token punctuation">,</span>            <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p><strong>eg:</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">'app'</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"add"</span><span class="token operator">&gt;</span>按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span>ul title<span class="token operator">=</span><span class="token string">"xxx"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box"</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item,index in arr2"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.id"</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"css"</span><span class="token punctuation">,</span> <span class="token string">"javascript"</span><span class="token punctuation">,</span> <span class="token string">"jQuery"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token literal-property property">arr2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"html"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"css"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"javascript"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jQuery"</span>            <span class="token punctuation">}</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>arr2<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Vue"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>不写key的话会有隐患</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xxx<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in arr2<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item.name}}        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"css"</span><span class="token punctuation">,</span> <span class="token string">"javascript"</span><span class="token punctuation">,</span> <span class="token string">"jQuery"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token literal-property property">arr2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"html"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"css"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"javascript"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jQuery"</span>            <span class="token punctuation">}</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>arr2<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Vue"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="双向数据绑定-单选按钮和复选框"><a href="#双向数据绑定-单选按钮和复选框" class="headerlink" title="双向数据绑定-单选按钮和复选框"></a>双向数据绑定-单选按钮和复选框</h3><p><strong>单选框</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>man<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>women<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zx<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 中性<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    保密<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{gender}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>复选框</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sj<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 睡觉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>qdm<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 敲代码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cf<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 吃饭<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hlj<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 回笼觉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{hobby}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>复选框</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkList[0]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 睡觉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkList[1]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 敲代码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkList[2]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 吃饭<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkList[3]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 回笼觉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{checkList}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"sc"</span><span class="token punctuation">,</span>        <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">checkList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="学生管理系统v1-0-展示学生"><a href="#学生管理系统v1-0-展示学生" class="headerlink" title="学生管理系统v1.0-展示学生"></a>学生管理系统v1.0-展示学生</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 现有数据：</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token comment">// 要删除的元素的索引</span>        <span class="token literal-property property">delIndex</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token comment">// 要删除的姓名</span>        <span class="token literal-property property">delName</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token literal-property property">isShow</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token literal-property property">nameVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token literal-property property">ageVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token literal-property property">genderVal</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span>        <span class="token literal-property property">titles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"姓名"</span><span class="token punctuation">,</span> <span class="token string">"年龄"</span><span class="token punctuation">,</span> <span class="token string">"性别"</span><span class="token punctuation">,</span> <span class="token string">"操作"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小红'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"女"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小刚'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"保密"</span> <span class="token punctuation">}</span>        <span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 判空</span>            <span class="token comment">// 只要其中一个为空，就要弹出，然后return</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>nameVal<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>ageVal<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>nameVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>ageVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> ru <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?:[1-9][0-9]?|1[01][0-9]|120)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>            <span class="token comment">// console.log(ru.test(this.ageVal.trim()), this.ageVal.trim());</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ru<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ageVal<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入正确的年龄!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span>            <span class="token punctuation">}</span>            <span class="token comment">// 来到这里，证明两个都不为空了</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nameVal<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ageVal<span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>genderVal <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 增加完之后，把表单元素恢复为默认值</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>nameVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>ageVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>genderVal <span class="token operator">=</span> <span class="token string">"男"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 点击红色删除按钮的时候执行这里的代码</span>            <span class="token comment">// 展示模态窗口</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token comment">// 修改要被删除的姓名</span>            <span class="token comment">// this.delName = 要被删除的姓名</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>delName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>delIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">realdel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 点击确认按钮的时候执行的代码</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>delIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h1 id="Vue-day04"><a href="#Vue-day04" class="headerlink" title="Vue-day04"></a>Vue-day04</h1><h3 id="局部自定义指令"><a href="#局部自定义指令" class="headerlink" title="局部自定义指令"></a>局部自定义指令</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">isShowBox</span><span class="token operator">:</span> <span class="token boolean">false</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">myshow</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 什么时候执行这个函数？ 在这个指令绑定这个元素的时候，执行这里的代码(只执行1次)</span>                <span class="token comment">// 页面刷新的时候，就会绑定这个指令</span>                <span class="token comment">// el就是被绑定的这个元素</span>                <span class="token comment">// binding 是这个自定义指令的一些信息，binding.value 是我们要的(这个指令的)值</span>                <span class="token comment">// console.log("执行了bind",el,binding.value);</span>                <span class="token comment">// 我们要做的是：页面刷新的时候，让盒子根据 binding.value 的值来显示或者隐藏</span>                el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">"block"</span> <span class="token operator">:</span> <span class="token string">"none"</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 绑定的这个元素的子节点更新时候，执行这里的代码</span>                <span class="token comment">// console.log("执行了update");</span>                <span class="token comment">// isShowBox 可能更新了，我们要重新让盒子根据这个值来显示或者隐藏</span>                el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">"block"</span> <span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="全局自定义指令"><a href="#全局自定义指令" class="headerlink" title="全局自定义指令"></a>全局自定义指令</h3><pre class="language-js" data-language="js"><code class="language-js">Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">"myshow"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 什么时候执行这个函数？ 在这个指令绑定这个元素的时候，执行这里的代码(只执行1次)</span>        <span class="token comment">// 页面刷新的时候，就会绑定这个指令</span>        <span class="token comment">// el就是被绑定的这个元素</span>        <span class="token comment">// binding 是这个自定义指令的一些信息，binding.value 是我们要的(这个指令的)值</span>        <span class="token comment">// console.log("执行了bind",el,binding.value);</span>        <span class="token comment">// 我们要做的是：页面刷新的时候，让盒子根据 binding.value 的值来显示或者隐藏</span>        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">"block"</span> <span class="token operator">:</span> <span class="token string">"none"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 绑定的这个元素的子节点更新时候，执行这里的代码</span>        <span class="token comment">// console.log("执行了update");</span>        <span class="token comment">// isShowBox 可能更新了，我们要重新让盒子根据这个值来显示或者隐藏</span>        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token string">"block"</span> <span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">isShowBox</span><span class="token operator">:</span> <span class="token boolean">false</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="全局组件"><a href="#全局组件" class="headerlink" title="全局组件"></a>全局组件</h3><p><strong>注意事项：</strong></p><ol><li>定义组件的时候，组件名称可以写 驼峰式，也可以写 - 的形式</li><li>(在html文件中)在调用组件的时候，不要写驼峰式，只能写 - 的形式</li><li>组件不要再 #app 外面使用</li><li>template 的根标签只能有1个</li></ol><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 使用(调用)组件 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>这是头部组件11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>这是内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token comment">/*             注意事项：            1.定义组件的时候，组件名称可以写 驼峰式，也可以写 - 的形式            2.(在html文件中)在调用组件的时候，不要写驼峰式，只能写 - 的形式            3.组件不要再 #app 外面使用            4.template 的根标签只能有1个        */</span>    <span class="token comment">// component 组件</span>    <span class="token comment">// template 模板</span>    Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"myHeader"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="局部组件【重点】"><a href="#局部组件【重点】" class="headerlink" title="局部组件【重点】"></a>局部组件【重点】</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 3.调用组件 --&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- 2.准备组件模板 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>这是和11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>        new Vue({        el: '#app',        data: {        },        // 1.注册组件   注册：就是把什么和什么关联起来        components: {            // 可以写 -             // "my-header": {            //     template: "#tmpl"            // }            // 可以写驼峰式            myHeader: {                template: "#tmpl"            }        }    })</code></pre><h3 id="组件的复用【重点】"><a href="#组件的复用【重点】" class="headerlink" title="组件的复用【重点】"></a>组件的复用【重点】</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 2.使用这个标签属性，把值传到模板内部中使用 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>分类<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>购物车<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!-- 3.在组件内部使用这个title属性 --&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{title}}标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">myHeader</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span><span class="token punctuation">,</span>                <span class="token comment">// 1.给myHeader 这个组件  定义标签属性</span>                <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"title"</span><span class="token punctuation">]</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>组件的复用2(父传子)</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 2.使用这个标签属性，把值传到模板内部中使用 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tit1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tit2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!-- 3.在组件内部使用这个title属性 --&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{title}}标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">tit1</span><span class="token operator">:</span> <span class="token string">"分类1"</span><span class="token punctuation">,</span>            <span class="token literal-property property">tit2</span><span class="token operator">:</span> <span class="token string">"购物车1"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">myHeader</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span><span class="token punctuation">,</span>                <span class="token comment">// 1.给myHeader 这个组件 定义标签属性</span>                <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"title"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                    <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">20</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="子组件的抽取"><a href="#子组件的抽取" class="headerlink" title="子组件的抽取"></a>子组件的抽取</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 3.使用组件 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- 组件模板 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token comment">// 1.定义子组件</span>    <span class="token keyword">let</span> myHeader <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span><span class="token punctuation">,</span>        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">{</span>                <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">30</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">++</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment">// 2.注册组件</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            myHeader        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="props的另外一种写法"><a href="#props的另外一种写法" class="headerlink" title="props的另外一种写法"></a>props的另外一种写法</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>这是{{title}}标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">let</span> myHeader <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span><span class="token punctuation">,</span>        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">"默认值"</span><span class="token punctuation">,</span> <span class="token comment">// 当 title 没有接收到值的时候，就使用这个默认值</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> String    <span class="token comment">//title 期望接受到的类型</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">tit</span><span class="token operator">:</span> <span class="token string">"30"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            myHeader        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="父传子【重中之重】"><a href="#父传子【重中之重】" class="headerlink" title="父传子【重中之重】"></a>父传子【重中之重】</h3><p><strong>三部走</strong></p><ol><li>在子组件中，定义一标签属性，用来接收父组件的数据</li><li>在父组件中，使用num这个标签属性，来接收fatherNum 这个数，传入子组件的模板中</li><li>在子组件中，使用num</li></ol><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 2.在父组件中，使用num这个标签属性，来接收fatherNum 这个数，传入子组件的模板中 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:num</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fatherNum<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!-- 3.在子组件中，使用num --&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token comment">// 声明子组件</span>    <span class="token keyword">let</span> child <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span><span class="token punctuation">,</span>        <span class="token comment">// 1.在子组件中，定义一标签属性，用来接收父组件的数据</span>        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"num"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span>    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">fatherNum</span><span class="token operator">:</span> <span class="token number">20</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            child        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="子传父【重中之重】"><a href="#子传父【重中之重】" class="headerlink" title="子传父【重中之重】"></a>子传父【重中之重】</h3><p><strong>三部走</strong></p><ol><li>在父组件中，提供一个修改数据的方法</li><li>在父组件中，自定义一个事件，后面可以在子组件中去触发这个事件</li><li>Vue 提供了一个专门用来触发自定义事件的一个方法 <code>$emit("事件名"，事件函数需要传的参数)</code></li></ol><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 数据通讯 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>父组件的fatherNum为：{{fatherNum}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 2.在父组件中，自定义一个事件，后面可以在子组件中去触发这个事件 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:num</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fatherNum<span class="token punctuation">"</span></span> <span class="token attr-name">@fn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeFatherNum<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- 子组件模板 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token comment">// Vue/React 单向数据流。子组件中无法直接修改父组件数据</span>    <span class="token comment">// ！！！在子组件修改父组件数据的时候，就用子传父</span>    <span class="token keyword">let</span> child <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span><span class="token punctuation">,</span>        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"num"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">{</span>                <span class="token literal-property property">step</span><span class="token operator">:</span> <span class="token number">10</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// this.num++   这种写法没有办法修改到父组件的数据</span>                <span class="token comment">// Vue 提供了一个专门用来触发自定义事件的一个方法 $emit("事件名"，事件函数需要传的参数)</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"fn"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>step<span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">fatherNum</span><span class="token operator">:</span> <span class="token number">20</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            child        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token comment">// 1.在父组件中，提供一个修改数据的方法</span>            <span class="token function">changeFatherNum</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>fatherNum <span class="token operator">+=</span> val            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>eg:弹框案例</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>点击结果：{{clickResult}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:obj</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>textObj<span class="token punctuation">"</span></span> <span class="token attr-name">@fn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeClickResult<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 子组件模板 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowWrapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{obj.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{obj.msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bottom<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hdClick(obj.cancelTxt)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{obj.cancelTxt}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hdClick(obj.submitTxt)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{obj.submitTxt}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token comment">// 现有以上布局，把wrapper抽取成子组件，通过传值的方式往内部传递数据</span>    <span class="token comment">// 声明子组件</span>    <span class="token keyword">let</span> child <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span><span class="token punctuation">,</span>        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"obj"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">{</span>                <span class="token literal-property property">isShowWrapper</span><span class="token operator">:</span> <span class="token boolean">true</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token comment">// 修改父组件数据--子传父</span>            <span class="token function">hdClick</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"fn"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 隐藏wapper</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>isShowWrapper <span class="token operator">=</span> <span class="token boolean">false</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app1'</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">textObj</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'bug提示'</span><span class="token punctuation">,</span>                <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'亲，你还有53633个bug，是否要处理?'</span><span class="token punctuation">,</span>                <span class="token literal-property property">cancelTxt</span><span class="token operator">:</span> <span class="token string">'忽略，下班'</span><span class="token punctuation">,</span>                <span class="token literal-property property">submitTxt</span><span class="token operator">:</span> <span class="token string">'加班处理'</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">clickResult</span><span class="token operator">:</span> <span class="token string">""</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment">// 注册</span>        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>            child        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token function">changeClickResult</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>clickResult <span class="token operator">=</span> val<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>eg: 学生管理系统v1.0-展示学生 (组件版)</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 父组件 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!-- 列表 --&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table table-striped<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span>学生管理系统v1.0-展示学生<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in titles<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item,index in arr<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{item.gender}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-danger btn-xs<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#exampleModal<span class="token punctuation">"</span></span>                                <span class="token attr-name">data-whatever</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@mdo<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!-- 添加学生信息 --&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table table-striped<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span>添加学生信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>项目<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stuname<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>姓名<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stuname<span class="token punctuation">"</span></span>                                   <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nameVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>年龄<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stuage<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>年龄<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stuage<span class="token punctuation">"</span></span>                                   <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ageVal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>性别<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gen-span<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>genderVal<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio-info<span class="token punctuation">"</span></span>                                                           <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>男<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gen-span<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>genderVal<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio-info<span class="token punctuation">"</span></span>                                                           <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>女<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                                女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gen-span<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>genderVal<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio-info<span class="token punctuation">"</span></span>                                                           <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>保密<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                                保密<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-info btn-sm add-btn<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span>                                                        <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>确定增加<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!-- 子组件调用 --&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>model</span> <span class="token attr-name">:isshow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isshow<span class="token punctuation">"</span></span> <span class="token attr-name">:delname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>delname<span class="token punctuation">"</span></span> <span class="token attr-name">@fn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>realdel<span class="token punctuation">"</span></span> <span class="token attr-name">@fn2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>model</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 子组件 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!-- 删除按钮确认框 --&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal fade<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>exampleModal<span class="token punctuation">"</span></span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialog<span class="token punctuation">"</span></span> <span class="token attr-name">aria-labelledby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>exampleModalLabel<span class="token punctuation">"</span></span>             <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isshow<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-dialog<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>document<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span> <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Close<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>                                                                                                          <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>×<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-title<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>exampleModalLabel<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>确认框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message-text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>control-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>确定要删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>control-label-name<span class="token punctuation">"</span></span>                                                                                             <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>blue</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>{{delname}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>吗？<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-default<span class="token punctuation">"</span></span> <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>返回<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>###<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>delete-a<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span>                                                               <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>realdel<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>确认<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">let</span> model <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#tmpl"</span><span class="token punctuation">,</span>            <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"isshow"</span><span class="token punctuation">,</span> <span class="token string">"delname"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">realdel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"fn"</span><span class="token punctuation">)</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"fn2"</span><span class="token punctuation">)</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token comment">// 要删除的元素的索引</span>                <span class="token literal-property property">delIndex</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>                <span class="token comment">// 要删除的姓名</span>                <span class="token literal-property property">delname</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>                <span class="token literal-property property">isshow</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                <span class="token literal-property property">nameVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                <span class="token literal-property property">ageVal</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                <span class="token literal-property property">genderVal</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span>                <span class="token literal-property property">titles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"姓名"</span><span class="token punctuation">,</span> <span class="token string">"年龄"</span><span class="token punctuation">,</span> <span class="token string">"性别"</span><span class="token punctuation">,</span> <span class="token string">"操作"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小红'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"女"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小刚'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"保密"</span> <span class="token punctuation">}</span>                <span class="token punctuation">]</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// 判空</span>                    <span class="token comment">// 只要其中一个为空，就要弹出，然后return</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>nameVal<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>ageVal<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span>nameVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span>ageVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span>                    <span class="token punctuation">}</span><span class="token punctuation">;</span>                    <span class="token keyword">var</span> ru <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?:[1-9][0-9]?|1[01][0-9]|120)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>                    <span class="token comment">// console.log(ru.test(this.ageVal.trim()), this.ageVal.trim());</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ru<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ageVal<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入正确的年龄!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span>                    <span class="token punctuation">}</span>                    <span class="token comment">// 来到这里，证明两个都不为空了</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nameVal<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ageVal<span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>genderVal <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// 增加完之后，把表单元素恢复为默认值</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>nameVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>ageVal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>genderVal <span class="token operator">=</span> <span class="token string">"男"</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// 点击红色删除按钮的时候执行这里的代码</span>                    <span class="token comment">// 展示模态窗口</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>isshow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token comment">// 修改要被删除的姓名</span>                    <span class="token comment">// this.delname = 要被删除的姓名</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>delname <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>delIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">realdel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// 点击确认按钮的时候执行的代码</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>delIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>isshow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>isshow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>                model            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="中央事件总线【兄弟传值】"><a href="#中央事件总线【兄弟传值】" class="headerlink" title="中央事件总线【兄弟传值】"></a>中央事件总线【兄弟传值】</h3><blockquote><p>非父子组件传值，兄弟组件，跨级组件传值</p><p>中央事件总线 空实例</p><p>let bus = new Vue();</p><p>发送事件</p><p>bus.$emit(自定义事件名称,参数)</p><p>接收事件</p><p>bus.$on(自定义事件名称,data=&gt;{})</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>components1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>components1</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>components2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>components2</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">var</span> eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">components1</span><span class="token operator">:</span> <span class="token punctuation">{</span>                    <span class="token literal-property property">template</span><span class="token operator">:</span>                    <span class="token string">"&lt;div&gt;组件1 &lt;button @click='fn'&gt;点击传递数据到2&lt;/button&gt; &lt;/div&gt;"</span><span class="token punctuation">,</span>                    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> <span class="token punctuation">{</span>                            <span class="token literal-property property">msg1</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span>                        <span class="token punctuation">}</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>                        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                            eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"send"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg1<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token literal-property property">components2</span><span class="token operator">:</span> <span class="token punctuation">{</span>                    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"&lt;div&gt;组件2 接收到组件1的数据是：{{msg}} &lt;/div&gt;"</span><span class="token punctuation">,</span>                    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> <span class="token punctuation">{</span>                            <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>                        <span class="token punctuation">}</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                    <span class="token comment">//组件2渲染完毕后就可以开始接收事件</span>                    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"挂载完成"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//   eventBus.$on("send", (val) =&gt; {</span>                        <span class="token comment">//     console.log("拿到了", val);</span>                        <span class="token comment">//     this.msg = val;</span>                        <span class="token comment">//   });</span>                        eventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span>                            <span class="token string">"send"</span><span class="token punctuation">,</span>                            <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"拿到了"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> val<span class="token punctuation">;</span>                            <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>                        <span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="一、slot槽口"><a href="#一、slot槽口" class="headerlink" title="一、slot槽口"></a>一、slot槽口</h2><h3 id="1-为什么使用slot"><a href="#1-为什么使用slot" class="headerlink" title="1. 为什么使用slot"></a>1. 为什么使用slot</h3><blockquote><p>slot翻译为插槽，组件的插槽：</p><ol><li>组件的插槽也是为了让我们封装的组件更加具有扩展性。</li><li>让使用者可以决定组件内容的一些内容到底展示什么。</li></ol></blockquote><p><strong>京东头部导航栏例子：</strong></p><p><img src="/2022/07/16/vue2-ji-chu/1652545653662.png" alt="1652545653662"></p><h3 id="2-如何在组件中使用slot呢？"><a href="#2-如何在组件中使用slot呢？" class="headerlink" title="2. 如何在组件中使用slot呢？"></a>2. 如何在组件中使用slot呢？</h3><blockquote><p>如何去封装这类的组件呢？</p><ol><li>它们也很多区别，但是也有很多共性。</li><li>如果，我们每一个单独去封装一个组件，显然不合适：比如每个页面都返回，这部分内容我们就要重复去封装。</li><li>但是，如果我们封装成一个，好像也不合理：有些左侧是菜单，有些是返回，有些中间是搜索，有些是文字，等等</li></ol><p>如何封装合适呢？<strong>抽取共性，保留不同</strong></p><ol><li>最好的封装方式就是将共性抽取到组件中，将不同暴露为插槽。</li><li>一旦我们预留了插槽，就可以让使用者根据自己的需求，决定插槽中插入什么内容。</li><li>是搜索框，还是文字，还是菜单。由调用者自己来决定。</li></ol></blockquote><h3 id="3-匿名插槽"><a href="#3-匿名插槽" class="headerlink" title="3. 匿名插槽"></a>3. 匿名插槽</h3><blockquote><p>了解了为什么用slot，我们再来谈谈如何使用slot？</p><ol><li>在子组件中，使用特殊的元素<code>&lt;slot&gt;</code>就可以为子组件开启一个插槽。</li><li>该插槽插入什么内容取决于父组件如何使用。</li></ol></blockquote><p><img src="/2022/07/16/vue2-ji-chu/1652545733172.png" alt="1652545733172"></p><pre class="language-vue" data-language="vue"><code class="language-vue">&lt;body&gt;  &lt;div id="app1"&gt;    &lt;my-con&gt;&lt;/my-con&gt;    &lt;my-con&gt;      &lt;h2&gt;我是h2标签的内容&lt;/h2&gt;      &lt;p&gt;我是p标签的内容&lt;/p&gt;    &lt;/my-con&gt;  &lt;/div&gt;&lt;/body&gt;&lt;template id="template1"&gt;    &lt;div&gt;      &lt;slot&gt;我是插槽中的默认内容！！&lt;/slot&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;  var componentA = {    template: '#template1',  }  const vm1 = new Vue({    el: '#app1',    data: {          },    components: {      myCon: componentA    }  })&lt;/script</code></pre><h3 id="4-具名插槽"><a href="#4-具名插槽" class="headerlink" title="4. 具名插槽"></a>4. 具名插槽</h3><blockquote><p>当子组件的功能复杂时，子组件的插槽可能并非是一个。</p><ol><li>比如我们封装一个导航栏的子组件，可能就需要三个插槽，分别代表左边、中间、右边。</li><li>那么，外面在给插槽插入内容时，如何区分插入的是哪一个呢？</li><li>这个时候，我们就需要给插槽起一个名字</li></ol><p>如何使用具名插槽呢？</p><ol><li>非常简单，只要给slot元素一个name属性即可</li><li><code>&lt;slot name='myslot'&gt;&lt;/slot&gt;</code></li></ol></blockquote><pre class="language-vue" data-language="vue"><code class="language-vue">  &lt;div id="app1"&gt;    &lt;my-con&gt;      &lt;div slot="left"&gt;左侧&lt;/div&gt;      &lt;div slot="right"&gt;右侧&lt;/div&gt;      &lt;div slot="center"&gt;中间&lt;/div&gt;    &lt;/my-con&gt;  &lt;/div&gt;&lt;/body&gt;&lt;template id="template1"&gt;    &lt;div&gt;      &lt;slot name="left"&gt;我是左侧插槽中的默认内容！！&lt;/slot&gt;      &lt;slot name="center"&gt;我是中间侧插槽中的默认内容！！&lt;/slot&gt;      &lt;slot name="right"&gt;我是右侧插槽中的默认内容！！&lt;/slot&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;  var componentA = {    template: '#template1',  }  const vm1 = new Vue({    el: '#app1',    data: {          },    components: {      myCon: componentA    }  })&lt;/script&gt;</code></pre><h3 id="5-课堂练习"><a href="#5-课堂练习" class="headerlink" title="5.课堂练习"></a>5.课堂练习</h3><p><img src="/2022/07/16/vue2-ji-chu/1652545815019.png" alt="1652545815019"></p><h3 id="6-作用域插槽"><a href="#6-作用域插槽" class="headerlink" title="6.作用域插槽"></a>6.作用域插槽</h3><blockquote><p>默认情况下，父组件使用子组件，插槽数据默认是拿父组件的数据，而不是子组件拿数据。<br><strong>作用域插槽</strong>在父组件使用我们的子组件时， 插槽的数据从子组件中拿到数据，而不是从父组件拿到。</p></blockquote><p><img src="/2022/07/16/vue2-ji-chu/1652545872265.png" alt="1652545872265"></p><h3 id="7-作用域插槽的多种写法"><a href="#7-作用域插槽的多种写法" class="headerlink" title="7. 作用域插槽的多种写法"></a>7. 作用域插槽的多种写法</h3><pre class="language-vue" data-language="vue"><code class="language-vue">// 1、基本写法&lt;one-comp&gt;  &lt;button slot="btn" slot-scope="scope"&gt;按钮{{scope.msg}}&lt;/button&gt;&lt;/one-comp&gt;// 2、基本写法之模板写法&lt;one-comp&gt;  &lt;template slot="btn" slot-scope="scope"&gt;    &lt;button&gt;按钮{{scope.msg}}&lt;/button&gt;  &lt;/template&gt;&lt;/one-comp&gt;// 3、指令写法&lt;one-comp v-slot:btn="scope"&gt;  &lt;button&gt;按钮{{scope.msg}}&lt;/button&gt;&lt;/one-comp&gt;// 4、指令写法之模板写法&lt;one-comp&gt;  &lt;template v-slot:btn="scope"&gt;    &lt;button&gt;按钮{{scope.msg}}&lt;/button&gt;  &lt;/template&gt;&lt;/one-comp&gt;// v-slot:XXX 可以简写成 #XXX</code></pre><blockquote><p>注意 : slot 和slot-scope已经开始废弃， 有了新的替代: v-slot，v-slot只能用在template 上，和组件标签上   </p></blockquote><h2 id="二、watch"><a href="#二、watch" class="headerlink" title="二、watch"></a>二、watch</h2><p>watch的作用可以监控一个值的变换，并调用因为变化需要执行的方法。可以通过watch动态改变关联的状态。</p><p>简单点说，就是实时监听某个数据的变化。</p><h3 id="1、普通监听"><a href="#1、普通监听" class="headerlink" title="1、普通监听"></a>1、普通监听</h3><pre class="language-vue" data-language="vue"><code class="language-vue"> &lt;div class="home"&gt;  &lt;input type="text" v-model="msg"&gt;  &lt;h3&gt;{{msg}}&lt;/h3&gt;&lt;/div&gt;  data(){  return {    msg: "你好，世界"  }},watch: {  msg(val, oldVal){    console.log(val, oldVal)  }} </code></pre><h3 id="2、立即监听"><a href="#2、立即监听" class="headerlink" title="2、立即监听"></a>2、立即监听</h3><p>如果我们需要在最初绑定值的时候也执行函数，则就需要用到immediate属性。</p><pre class="language-vue" data-language="vue"><code class="language-vue"> &lt;div class="home"&gt;  &lt;input type="text" v-model="num"&gt;&lt;/div&gt;  data() {  return {    num: 20  };},watch: {  num: {    handler(val, oldVal) {      console.log(val, oldVal);    },    // 组件注入页面时就立即监听    immediate: true  }} </code></pre><blockquote><p>immediate需要搭配handler一起使用，其在最初绑定时，调用的函数也就是这个handler函数。</p></blockquote><h3 id="3、深度监听"><a href="#3、深度监听" class="headerlink" title="3、深度监听"></a>3、深度监听</h3><p>当需要监听一个对象的改变时，普通的watch方法无法监听到对象内部属性的改变，只有data中的数据才能够监听到变化，此时就需要deep属性对对象进行深度监听。</p><pre class="language-vue" data-language="vue"><code class="language-vue"> &lt;div class="home"&gt;  &lt;h3&gt;{{obj.age}}&lt;/h3&gt;  &lt;button @click="btnClick"&gt;按钮&lt;/button&gt;&lt;/div&gt;  data(){  return {    obj: {      name: "Lucy",      age: 13    }  }},methods: {  btnClick(){    this.obj.age = 33;  }},watch: {  obj: {    handler(val, oldVal){      console.log(val.age, oldVal.age)//  33   33    },    deep: true  }} </code></pre><blockquote><p>注意：</p><p>1、如果监听的数据是一个对象，那么 <code>immediate: true </code>失效；</p><p>2、一般使用于对引用类型的监听，深度监听，如监听一个Object，只要Object里面的任何一个字段发生变化都会被监听，但是比较消耗性能，根据需求使用，能不用则不用。</p><p>3、因为上面代码obj是引用数据类型，val, oldVal指向一致，导致看到的结果一样。</p></blockquote><h3 id="4、deep优化"><a href="#4、deep优化" class="headerlink" title="4、deep优化"></a>4、deep优化</h3><p>我们可以通过点语法获取对象中的属性，然后转为字符串，即是对深度监听的优化</p><pre class="language-vue" data-language="vue"><code class="language-vue"> &lt;div class="home"&gt;  &lt;h3&gt;{{obj.age}}&lt;/h3&gt;  &lt;button @click="btnClick"&gt;按钮&lt;/button&gt;&lt;/div&gt;  data() {  return {    obj: {      name: "Lucy",      age: 13    }  };},methods: {  btnClick() {    this.obj.age = 33;  }},watch: {  // 通过点语法获取对象中的属性，然后转为字符串，即是对深度监听的优化  "obj.age": {    handler(val, oldVal) {      console.log(val, oldVal);    },    deep: true,    immediate: true,// 此时监听的数据不是一个对象，可以使用immediate  }} </code></pre><h3 id="5、Watch与Computed的区别"><a href="#5、Watch与Computed的区别" class="headerlink" title="5、Watch与Computed的区别"></a>5、Watch与Computed的区别</h3><ul><li>watch中的函数是不需要调用的，computed内部的函数调用的时候不需要加()</li><li>watch(属性监听)，监听的是属性的变化，而computed(计算属性)，是通过计算而得来的数据</li><li>watch需要在数据变化时执行异步或开销较大的操作时使用，而对于任何复杂逻辑或一个数据属性，在它所依赖的属性发生变化时，也要发生变化，这种情况下，我们最好使用计算属性computed。 </li><li>computed 属性的结果会被<strong>缓存</strong>，且computed中的函数必须用return返回最终的结果</li><li>watch 一个对象，键是需要观察的表达式，值是对应回调函数。主要用来监听某些特定数据的变化，从而进行某些具体的业务逻辑操作；</li></ul><h3 id="6、Watch与Computed的使用场景"><a href="#6、Watch与Computed的使用场景" class="headerlink" title="6、Watch与Computed的使用场景"></a>6、Watch与Computed的使用场景</h3><ul><li>computed 　　　<ul><li>当一个结果受多个属性影响的时候就需要用到computed</li><li>最典型的例子： 购物车商品结算的时候</li></ul></li><li>watch<ul><li>当一个数据的变化需要有额外操作的时候就需要用watch</li><li>搜索数据</li></ul></li><li>总结：<ul><li>一个值的结果受其他值的影响，用computed</li><li>一个值的变化将时刻影响其他值，用watch</li></ul></li></ul><p>watch擅长处理的场景：一个数据影响多个数据 (一般用于异步或者开销较大的操作) 监听到数据的变化，去指定响应的操作<br>computed擅长处理的场景：一个数据受多个数据影响  (对于任何复杂逻辑，你都应当使用计算属性)</p><h2 id="三、修改数组元素的解决方案"><a href="#三、修改数组元素的解决方案" class="headerlink" title="三、修改数组元素的解决方案"></a>三、修改数组元素的解决方案</h2><p>在Vue2.0中，单独修改数组的某个元素的时候，触发不了视图层的修改。</p><p>需要使用$set()方法来修改元素，才能起到双向数据绑定的作用。</p><pre class="language-vue" data-language="vue"><code class="language-vue"> &lt;div&gt;    &lt;p&gt;{{arr[0]}}&lt;/p&gt;    &lt;p&gt;{{arr}}&lt;/p&gt;    &lt;button @click="hdClick"&gt;按钮&lt;/button&gt;&lt;/div&gt;  data () {    return {        arr:[10,20,30]     }},methods:{    hdClick(){        console.log("执行了hdClick");        // Object.defineProperty()  不支持引用类型数据的数据劫持 (触发不了set)        // this.arr[0] = 100;        // this.$set(要修改的数组,要修改的下标,要修改成的值)        // 在Vue2.0中提供了 $set方法来支持界面的修改        this.$set(this.arr,0,100);        console.log(this.arr);    }}  </code></pre><h2 id="四、axios"><a href="#四、axios" class="headerlink" title="四、axios"></a>四、axios</h2><p>在Vue和React等大型项目中，我们常用的数据请求方式，就是Axios。Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p><p>官网地址：<a href="http://www.axios-js.com/Axios">http://www.axios-js.com/Axios</a> 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p><p>从浏览器中创建 XMLHttpRequests<br>从 node.js 创建 http 请求<br>支持 Promise API<br>拦截请求和响应<br>转换请求数据和响应数据<br>取消请求<br>自动转换 JSON 数据<br>客户端支持防御 XSRF<br>vue官方表示，vue 1.0的时候使用vue-resource,vue2.0后将不再继续维护vue-resource了，并推荐大家使用 axios</p><p><a href="http://www.axios-js.com/zh-cn/docs/">http://www.axios-js.com/zh-cn/docs/</a> </p><h3 id="Axios-提供的方法"><a href="#Axios-提供的方法" class="headerlink" title="Axios 提供的方法"></a>Axios 提供的方法</h3><p>axios.request(config)<br>axios.get(url[, config])<br>axios.delete(url[, config])<br>axios.head(url[, config])<br>axios.post(url[, data[, config]])<br>axios.put(url[, data[, config]])<br>axios.patch(url[, data[, config]])<br>并发：处理并发请求的助手函数<br>axios.all(iterable)<br>axios.spread(callback)</p><h3 id="示例代码-axios-get"><a href="#示例代码-axios-get" class="headerlink" title="示例代码 - axios.get()"></a>示例代码 - axios.get()</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//axios.get(url[, config])  </span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8000/get"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>   <span class="token comment">//携带参数的写法</span>   <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">temp</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>   <span class="token comment">//请求头中添加参数</span>   <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"123"</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>对应服务器代码</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//get(地址,访问对应的地址所触发的回调函数)</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/get'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"输出授权："</span><span class="token punctuation">,</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token string-property property">"result"</span><span class="token operator">:</span><span class="token function">parseInt</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">parseInt</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token punctuation">}</span><span class="token punctuation">)</span>    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="示例代码-axios-post"><a href="#示例代码-axios-post" class="headerlink" title="示例代码 - axios.post()"></a>示例代码 - axios.post()</h3><pre class="language-js" data-language="js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span> <span class="token string">'http://localhost:8000/post'</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span> <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">"Content-Type"</span><span class="token operator">:</span><span class="token string">"application/json;charset=UTF-8"</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  </code></pre><p>对应服务器代码</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 解析 json</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//解析 application/x-www-form-urlencoded</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/post'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"输出授权："</span><span class="token punctuation">,</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'post'</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token string-property property">"result"</span><span class="token operator">:</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name<span class="token operator">+</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>age<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="Axios拦截器"><a href="#Axios拦截器" class="headerlink" title="Axios拦截器"></a>Axios拦截器</h3><p>在请求或响应被 then 或 catch 处理前拦截它们。</p><p>作用：发送请求之前拦截，可以对请求数据进行处理，比如给每一个请求都添加上token或者给请求统一添加一些内容 ，在响应请求之前拦截，我们可以对返回的数据进行二次的加工</p><p> “拦截器就是在你的请求要做接下来的处理时，多一次或多次验证。<br> 例如：你写了几个请求数据的接口，开启服务后，用户没登录直接访问这些接口，也是可以拿到数据的，但这就违背了后台管理系统必须先登录的原则，有心人就会利用这个bug来窃取你的数据库数据了</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//1.拦截请求</span>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"拦截器-request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'usertoken'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>common<span class="token punctuation">[</span><span class="token string">'Authorization'</span><span class="token punctuation">]</span>  <span class="token operator">=</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'usertoken'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span>   <span class="token keyword">return</span> config<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>   <span class="token comment">//请求错误之前可以处理的操作 </span>   <span class="token keyword">return</span> Promist<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//2.拦截响应</span>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>  <span class="token comment">//返回响应数据时做一些操作  </span>  <span class="token keyword">return</span> response<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token comment">//响应错误的时候做一些操作 </span>  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NodeJs</title>
      <link href="/2022/07/07/nodejs/"/>
      <url>/2022/07/07/nodejs/</url>
      
        <content type="html"><![CDATA[<h1 id="NodeJs-总结"><a href="#NodeJs-总结" class="headerlink" title="NodeJs - 总结"></a>NodeJs - 总结</h1><p><img src="/2022/07/07/nodejs/image-20210315174139590.png" alt="流程图"></p><h3 id="nvm命令"><a href="#nvm命令" class="headerlink" title="nvm命令"></a>nvm命令</h3><ul><li><p>nvm ls        查看当前的电脑上下载了哪些 node 版本</p></li><li><p>nvm install     下载指定版本的node</p></li><li><p>nvm use       切换指定的node版本</p></li><li><p>nvm version     查看当前安装 nvm 的版本</p></li><li><p>nvm root       查看nvm的安装目录</p></li><li><p>nvm uninstall    卸载</p></li><li><p>node -v       查看当前使用 node 的版本</p></li><li><p>node       用于执行js代码</p><p>node js文件的路径  —&gt;  node  ./a/b/c/xx.js</p></li><li><p>环境变量</p><p>快速连接到一个执行程序(.exe/.cmd)一种功能</p></li><li><p>知识点</p><p>*    服务器的工作原理</p><p>*      1. 浏览器根据ip找到服务器的主机</p><p>*      2. 根据端口找到服务器软件</p><p>*      3. 判断请求的类型(静态/动态)</p><p>*        静态  —&gt;  读取文件  —&gt; 响应</p><p>*        动态  —&gt;  操作数据库..  —&gt; 响应</p></li></ul><h3 id="使用http实现一个极其简单的服务器"><a href="#使用http实现一个极其简单的服务器" class="headerlink" title="使用http实现一个极其简单的服务器"></a>使用http实现一个极其简单的服务器</h3><ol><li>引入http 模块</li><li>创建一个服务器对象</li><li>监听端口和ip</li><li>监听浏览器请求服务器事件</li><li>响应数据回浏览器</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1， 引入http 模块</span><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这个写法是node里面比较特殊的写法，目前大家就习惯一下就好</span><span class="token comment">// 2， 创建一个服务器对象</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 3， 监听端口和ip</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span><span class="token string">'192.168.12.131'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 4， 监听浏览器请求服务器事件</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token comment">// 5， 响应数据回浏览器</span>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;helloworld&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="从文件中读取内容"><a href="#从文件中读取内容" class="headerlink" title="从文件中读取内容"></a>从文件中读取内容</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 引入fs模块</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token comment">// 使用 readFile 方法 读取内容</span><span class="token comment">// 从文件里面读取出来东西，默认是 buffer - 缓冲/缓存 ， 需要进行转换才能展示</span><span class="token comment">// 如果在使用 readFile的时候，没有给指定的 编码格式，就是得到 缓冲</span><span class="token comment">// 如果指定编码，并且正确，才能看到内容</span>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./views/03-index.html'</span><span class="token punctuation">,</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token comment">// fs.readFile('./views/03-index.html',"base64",(err,data)=&gt;{    </span>    <span class="token comment">// err 是读取出错</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// data 就是读取到的数据</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="响应html回到浏览器"><a href="#响应html回到浏览器" class="headerlink" title="响应html回到浏览器"></a>响应html回到浏览器</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 引入模块一般都放在最前面</span><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这个写法是node里面比较特殊的写法，目前大家就习惯一下就好</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2， 创建一个服务器对象</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 3， 监听端口和ip</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token string">"192.168.12.131"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 4， 监听浏览器请求服务器事件</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 先使用fs 读取 html 里面的内容</span>  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">"./views/03-index.html"</span><span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 使用res.end 响应回浏览器</span>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="区分请求"><a href="#区分请求" class="headerlink" title="区分请求"></a>区分请求</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token string">"192.168.12.131"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// req - request</span>  <span class="token comment">// res - response</span>  <span class="token comment">// 区分请求</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 该属性就是 端口后面的所有内容</span>  <span class="token comment">// response 是响应对象，所以我们调用了 响应对象的 end 方法，把请求结束了，并响应回浏览器</span>  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">"1123123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="统一处理静态资源"><a href="#统一处理静态资源" class="headerlink" title="统一处理静态资源"></a>统一处理静态资源</h3><ul><li>目标： 希望把所有的静态都能统一管理，而不是每个静态都要判断</li><li>思路： url 就是 完整的 要读取的资源的路径</li><li>url : /views/index.html</li><li>读取的时候  __dirname + /views/index.html</li><li>就可以使用 url 代替 可以变化的路径部分</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token string">"192.168.12.131"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="判断是否静态资源"><a href="#判断是否静态资源" class="headerlink" title="判断是否静态资源"></a>判断是否静态资源</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token string">"192.168.12.131"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 目标： 希望可以把静态请求和动态请求分开</span>  <span class="token comment">// 思路： 把静态资源放在一些固定的 文件夹里面   views /  assets</span>  <span class="token comment">// 此时当用户请求静态资源的时候，一定是以这些文件夹开头</span>  <span class="token comment">// 只要判断， 请求 是否是 以 指定的文件夹开头就行</span>  <span class="token comment">// if(req.url 是否 以 /views 开头或者以 /assets 开头)</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/views</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/assets</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="path模块"><a href="#path模块" class="headerlink" title="path模块"></a>path模块</h3><ul><li>在node里面使用相对路径，是存在一定的安全隐患的</li><li>./  是基于 node 命令的 执行目录的</li><li>D:/a/b/c  node a.jg  —-&gt; ./   就是c目录</li><li>建议在node里面写绝对路径 ， 使用path 模块解决路径的问题</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// console.log(__dirname); // __dirname 是node提供的一个 变量，可以得到当前的js所有的绝对目录</span><span class="token comment">// 然后再使用这个绝对目录 和 相对路径进行拼接</span><span class="token comment">// const res = path.join(__dirname, "a", "b", "c");</span><span class="token keyword">const</span> res <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./views/03-index.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// const res = path.resolve(__dirname, "./views/03-index.html");</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="通过绝对路径找到html"><a href="#通过绝对路径找到html" class="headerlink" title="通过绝对路径找到html"></a>通过绝对路径找到html</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 引入模块一般都放在最前面</span><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这个写法是node里面比较特殊的写法，目前大家就习惯一下就好</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2， 创建一个服务器对象</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 3， 监听端口和ip</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token string">"192.168.12.131"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 4， 监听浏览器请求服务器事件</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 先使用fs 读取 html 里面的内容</span>  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>    path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./views/03-index.html"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token string">"utf-8"</span><span class="token punctuation">,</span>    <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 使用res.end 响应回浏览器</span>      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="响应动态数据"><a href="#响应动态数据" class="headerlink" title="响应动态数据"></a>响应动态数据</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  目标： 响应一些动态数据回到浏览器 * */</span><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token string">"192.168.12.131"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">//  服务器接收到请求，除了静态资源，就是动态请求</span>  <span class="token comment">// 动态请求有： 登录 / 注册 / 文章列表 / 分布请求  / 评论 / 评论列表 ...</span>  <span class="token comment">//   登录的逻辑：  ,  用户名和密码是否正确 ..</span>  <span class="token comment">//   注册的逻辑 ： 判断用户名是否合法 ， 用户名是否已经存在 ...</span>  <span class="token comment">//   获取文章列表 ： 获取哪种文章 ， 到数据库里面根据一定的条件获取</span>  <span class="token comment">//   获取文章详情 ： 根据id到数据库里找</span>  <span class="token comment">//   ...</span>  <span class="token comment">//   动态请求每个请求都需要单独处理 ， 只能一个一个判断</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/login"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//   一般在后端会响应回来一个 json 格式的对象</span>    <span class="token comment">// 里面包含： code - 业务代码 , 不同的数字代表不同的状态 ， msg -- 业务消息 ， data --- 响应回来的数据</span>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>      <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>        <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"531ga654fg35adfg4a3dfg1as35df1"</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/register"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">"用户名不合法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">//   ...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="npm的用法"><a href="#npm的用法" class="headerlink" title="npm的用法"></a>npm的用法</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  npm 是一个用于下载 删除  node第三方包的工具 *      使用步骤： *          1. npm init -y         作用：创建一个package.json文件，里面用于记录当前的项目的信息，只需要在一开始创建项目的时候使用1次 *          2. npm install 第三方库的名称 *          3. 使用第三方库  去 npmjs.com 去查看对应的文档 * * *  其它命令 *      npm uninstall 包名 * * *  依赖模式 *      下载的用于实现项目功能的第三方库也叫依赖 * *      全局依赖 *          可能任何一个项目都需要使用的工具 ，比如： nodemon *              npm i -g 包 *      开发依赖 *          在开发阶段需要用，但是在项目上线后不用了 ，比如： less *              npm i -D 包  /   npm i --save-dev 包 *      生产依赖 *          项目上线之后也要使用的功能 ， 比如 jquery , 随着项目在浏览器里面访问需要使用到的 库 *              npm i -S 包  /   npm i --save 包 */</span></code></pre><h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><pre class="language-js" data-language="js"><code class="language-js">CommonJS的模块化标准 有两部分内容 <span class="token operator">*</span>      导出 <span class="token operator">*</span>          module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> 数据 <span class="token punctuation">}</span> <span class="token operator">*</span>          module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>数据 <span class="token operator">=</span> 值 <span class="token operator">*</span> <span class="token operator">*</span>          exports<span class="token punctuation">.</span>数据 <span class="token operator">=</span> 数据 <span class="token operator">*</span> <span class="token operator">*</span>      导入 <span class="token operator">*</span>        变量 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'模块/路径'</span><span class="token punctuation">)</span></code></pre><p><strong>导出</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 导出数据</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"狗蛋"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// module.exports = 新的对象，只能写一次</span><span class="token comment">// module.exports = {</span><span class="token comment">//   age: 16,</span><span class="token comment">// };</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">165</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"你好"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 下面这个写法理论上也可以导出，但是要注意： 模块最终导出的是  modeule.exports 对象</span>exports<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">188</span><span class="token punctuation">;</span><span class="token comment">// Node环境下，默认每个js都是一个模块，模块和模块之间是无法直接访问数据的，只能使用导入和导出</span><span class="token comment">// 模块之间是存在作用域的  —————— 模块作用域</span><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"二狗"</span><span class="token punctuation">;</span></code></pre><p><strong>导入</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./03-a.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 无法直接访问在 03-a.js 里面声明的 name 变量</span><span class="token comment">// console.log(name);</span></code></pre><h3 id="ESModule-mjs-后缀"><a href="#ESModule-mjs-后缀" class="headerlink" title="ESModule    .mjs 后缀"></a>ESModule    .mjs 后缀</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  ES Module ---&gt;  es6 模块化 标准 *      导入 *          默认导入 *              import 数据 from '模块/路径' * *          按需导入 *              import { 数据 } from '模块/路径' * *          合写 *              import 默认 , {按需} from '模块/路径' *      导出 *          默认导出 *              export default 数据 * *          按需导出 *              export 数据 */</span></code></pre><p><strong>导出</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 默认导出</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>   <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"狗蛋"</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token number">500</span><span class="token punctuation">;</span><span class="token comment">// 一般会习惯先声明再导出</span><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"狗蛋"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> obj<span class="token punctuation">;</span><span class="token comment">// 按需导出</span><span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token punctuation">{</span> num <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// export function fn(){</span><span class="token comment">// }</span></code></pre><p><strong>导入</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 默认导入</span><span class="token keyword">import</span> aaaa <span class="token keyword">from</span> <span class="token string">"./04-a.mjs"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aaaa<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 按需导入</span><span class="token keyword">import</span> <span class="token punctuation">{</span> num<span class="token punctuation">,</span> fn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./04-a.mjs"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 合写</span><span class="token keyword">import</span> obj<span class="token punctuation">,</span> <span class="token punctuation">{</span> fn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./04-a.mjs"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="模块化的服务器"><a href="#模块化的服务器" class="headerlink" title="模块化的服务器"></a>模块化的服务器</h3><pre class="language-js" data-language="js"><code class="language-js">分析： 如何把 <span class="token number">02</span><span class="token punctuation">.</span>js 拆开 <span class="token operator">*</span>      模块化 ：按照不同的功能　把　代码　　分割　到不同的文件里面 <span class="token operator">*</span>          分析当前的服务器的功能： <span class="token operator">*</span>              a<span class="token punctuation">.</span> 开启服务器 <span class="token operator">*</span>              b<span class="token punctuation">.</span> 处理静态资源 <span class="token operator">*</span>              c<span class="token punctuation">.</span> 处理动态请求 <span class="token operator">*</span>                  c1<span class="token punctuation">.</span> c2<span class="token punctuation">.</span> c3 <span class="token operator">...</span></code></pre><h4 id="server"><a href="#server" class="headerlink" title="server"></a>server</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 当前这个 05-server.mjs 就负责开启服务器</span><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">"http"</span><span class="token punctuation">;</span><span class="token comment">// 导入 处理静态资源的函数</span><span class="token keyword">import</span> staticAssets <span class="token keyword">from</span> <span class="token string">"./05-static.mjs"</span><span class="token punctuation">;</span><span class="token comment">// 导入 处理动态请求的 函数</span><span class="token keyword">import</span> <span class="token punctuation">{</span> dynamic <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./05-dynamic.mjs"</span><span class="token punctuation">;</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// http协议的默认端口是 80 , https  协议的端口默认是443</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"request"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 处理静态</span>  <span class="token function">staticAssets</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//   处理动态请求</span>  <span class="token function">dynamic</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="static"><a href="#static" class="headerlink" title="static"></a>static</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  这个文件负责实现静态资源处理 */</span><span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">"fs"</span><span class="token punctuation">;</span><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">"path"</span><span class="token punctuation">;</span><span class="token keyword">import</span> url <span class="token keyword">from</span> <span class="token string">"url"</span><span class="token punctuation">;</span><span class="token keyword">const</span> __dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">fileURLToPath</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 静态处理的思路： 判断 请求 以 什么开头</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">staticAssets</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/assets|\/views</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 读取静态文件</span>    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="dynamic"><a href="#dynamic" class="headerlink" title="dynamic"></a>dynamic</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** * 负责处理动态请求 */</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">dynamic</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/login"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>      <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>        <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"a6g54as56fdg4afd54ga6+sdf5"</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/register"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>      <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>        <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>          <span class="token literal-property property">isSuccess</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>es6的__dirname</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> url <span class="token keyword">from</span> <span class="token string">"url"</span><span class="token punctuation">;</span><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">"path"</span><span class="token punctuation">;</span><span class="token comment">// console.log(import.meta.url);</span><span class="token comment">// console.log(url.fileURLToPath(import.meta.url));</span><span class="token keyword">const</span> __dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">fileURLToPath</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="yarn使用"><a href="#yarn使用" class="headerlink" title="yarn使用"></a>yarn使用</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">*</span>  yarn 是一个 包管理工具<span class="token operator">*</span>      下载<span class="token operator">*</span>          npm i <span class="token operator">-</span>g yarn<span class="token operator">*</span>      <span class="token number">1</span> 创建  <span class="token keyword">package</span><span class="token punctuation">.</span>json<span class="token operator">*</span>          yarn init <span class="token operator">-</span>y<span class="token operator">*</span>      <span class="token number">2.</span> 下载第三方包<span class="token operator">*</span>          yarn add colors<span class="token operator">*</span><span class="token operator">*</span>              全局   yarn global add 包<span class="token operator">*</span>                  如果是使用yarn全局安装的包，需要添加环境变量才能使用<span class="token operator">*</span>                      yarn global bin 得到一个路径，把这个路径添加到 环境变量里面<span class="token operator">*</span>              生产   yarn add  包 <span class="token operator">-</span><span class="token constant">S</span><span class="token operator">*</span>              开发   yarn add  包 <span class="token operator">-</span><span class="token constant">D</span><span class="token operator">*</span>      <span class="token number">3.</span> 按照使用说明使用</code></pre><p><strong>回顾</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  模块化 *      把代码按照功能进行拆分 * *      CommonJS *          民间提出 *              module.exports   导出 *              require()        导入 *      ES6模块化 *          export default  默认导出 *          export {}       按需导出 * *          import 默认,{按需} from '模块' *  包管理工具 *      npm *          npm init -y             创建一个  package.json  文件 *          npm i 包名 *              -g              全局    ， 一般是下载一些工具 *              -S              生产    ， 一般是我们上线也要使用的包           jquery *              -D              开发    ， 在开发时使用，但是在上线时不用       less * *          npm uninstall 包名 *      yarn */</span></code></pre><h3 id="express"><a href="#express" class="headerlink" title="express"></a>express</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1. 引入</span><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2. 创建服务器对象</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span><span class="token comment">// 当访问 url 为 / 的时候</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 响应  hello 回去</span>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 3. 监听端口和ip</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Example app listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="静态请求处理"><a href="#静态请求处理" class="headerlink" title="静态请求处理"></a>静态请求处理</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1. 引入</span><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2. 创建服务器对象</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span><span class="token comment">// 3. 监听端口和ip</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Example app listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 4. 告诉express 服务器，哪个目录是静态资源</span><span class="token comment">// 不常用</span><span class="token comment">// app.use(express.static("views"));</span><span class="token comment">// app.use(express.static("assets"));</span><span class="token comment">// 一般用下面的方式更加符合 前端的 习惯</span><span class="token comment">// 第一个参数是url以什么开头</span><span class="token comment">// 第二个参数就是去哪个文件夹找</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">"/views"</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">"views"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">"/assets"</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">"assets"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="处理动态请求"><a href="#处理动态请求" class="headerlink" title="处理动态请求"></a>处理动态请求</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Example app listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">"/views"</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">"views"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">"/assets"</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">"assets"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// express帮我们封装好多个监听不同请求的方法</span><span class="token comment">// app.Method(url,处理函数)</span><span class="token comment">// app.get  app.post  app.put  app.delete</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/swiper"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">//</span>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"成功"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">{</span>          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>          <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"post 请求进来了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"a354g65adf4g56af4dg6465adfs"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="获取get请求携带的数据"><a href="#获取get请求携带的数据" class="headerlink" title="获取get请求携带的数据"></a>获取get请求携带的数据</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Example app listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 目标： 可以在 接口里面 获取 浏览器带回的数据</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/list"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  query string parameter  --  query 传参得到的数据</span>  <span class="token comment">// 然后根据 req.query 得到的数据进行具体的分页操作</span>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"ok"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="获取post参数"><a href="#获取post参数" class="headerlink" title="获取post参数"></a>获取post参数</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Example app listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 目标： 在接口里面获取post传递过来的数据</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用来解析 json数据</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用来解析urlencoded数据</span>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// console.log(req.body);</span>  <span class="token keyword">let</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="srr"><a href="#srr" class="headerlink" title="srr"></a>srr</h3><ul><li><p>SEO   -   爬虫    -   ssr 保证了 爬虫 爬取回来的数据总是最新的，提升排名</p></li><li><p>ssr 工作原理</p><p>请求过来，就把动态数据注入  响应体  里面</p></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Example app listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 把 下载下来的pug 模板 设置为 默认的 渲染引擎</span>app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"view engine"</span><span class="token punctuation">,</span> <span class="token string">"pug"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 通过 特定的方法 把数据传入 pug 文件里面 再渲染</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 参数1是指要去views里面找index.pug</span>  <span class="token comment">// 参数2是要传入pug里面解析的数据</span>  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Hey"</span><span class="token punctuation">,</span>    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"Hello there!"</span><span class="token punctuation">,</span>    <span class="token literal-property property">num</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 后期如果真的要写srr , 目前在 外面比较流行的 做法 : Nuxt.js</span></code></pre><h3 id="mysql的代码操作"><a href="#mysql的代码操作" class="headerlink" title="mysql的代码操作"></a>mysql的代码操作</h3><p><strong>使用  sql  的语法 来对数据库进行操作</strong></p><p><strong>增</strong></p><pre class="language-js" data-language="js"><code class="language-js">insert into  表格  <span class="token keyword">set</span> key<span class="token operator">=</span>value<span class="token punctuation">,</span>key<span class="token operator">=</span>value</code></pre><p><strong>删</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">delete</span> from 表格 where 条件</code></pre><p><strong>改</strong></p><pre class="language-js" data-language="js"><code class="language-js">update 表格 <span class="token keyword">set</span> key<span class="token operator">=</span>value<span class="token punctuation">,</span>key<span class="token operator">=</span>value where 条件</code></pre><p><strong>查</strong></p><pre class="language-js" data-language="js"><code class="language-js">select <span class="token operator">*</span> from 表格select 字段，字段  from 表格</code></pre><h3 id="使用node操作mysql"><a href="#使用node操作mysql" class="headerlink" title="使用node操作mysql"></a>使用node操作mysql</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  我们现在使用一个 第三方包快速操作 mysql * */</span><span class="token comment">// 引入包</span><span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mysql2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// create the connection to database</span><span class="token comment">// 创建连接到数据库</span><span class="token keyword">const</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment">// ip</span>  <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">"192.168.12.131"</span><span class="token punctuation">,</span>  <span class="token comment">//   用户名</span>  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">"root"</span><span class="token punctuation">,</span>  <span class="token comment">//   密码</span>  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">"root"</span><span class="token punctuation">,</span>  <span class="token comment">//   数据库的名称</span>  <span class="token literal-property property">database</span><span class="token operator">:</span> <span class="token string">"db42"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// simple query</span><span class="token comment">// 执行sql查询</span>connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM `student`"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// results contains rows returned by server - 执行结果</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fields contains extra meta data about results, if available - 查询的时候得到的字段</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="使用服务器连接数据"><a href="#使用服务器连接数据" class="headerlink" title="使用服务器连接数据"></a>使用服务器连接数据</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  目标： *      把接口开好，让浏览器请求，把数据 操作到 数据库里面 * *      步骤： *          1. 使用express搭建服务器 *          2. 在服务器上开放获取数据库里数据的接口 *          3. 在浏览器发请求，渲染数据 * */</span><span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mysql2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">"/views"</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">"views"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/list"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 连接数据库</span>  <span class="token comment">// create the connection to database</span>  <span class="token comment">// 创建连接到数据库</span>  <span class="token keyword">const</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token comment">// ip</span>    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">"192.168.12.131"</span><span class="token punctuation">,</span>    <span class="token comment">//   用户名</span>    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">"root"</span><span class="token punctuation">,</span>    <span class="token comment">//   密码</span>    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">"root"</span><span class="token punctuation">,</span>    <span class="token comment">//   数据库的名称</span>    <span class="token literal-property property">database</span><span class="token operator">:</span> <span class="token string">"db42"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// simple query</span>  <span class="token comment">// 执行sql查询</span>  connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM `student`"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// results contains rows returned by server - 执行结果</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fields contains extra meta data about results, if available - 查询的时候得到的字段</span>    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>      <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span>      <span class="token literal-property property">data</span><span class="token operator">:</span> results<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><ul><li>跨过域名请求数据，进行数据交互</li><li>浏览器默认是不认同，它认为是危险的</li><li>现代的web开发，一定会在开发的时候产生跨域</li><li>只要 <strong>协议名   /   ip   /   端口</strong> 三者中有一个不同，就会产生跨域</li><li>aaa.com 网站， 向 bbb.com 的服务器发起了请求  —————— &gt; 跨域</li></ul><h4 id="jsonp"><a href="#jsonp" class="headerlink" title="jsonp"></a>jsonp</h4><blockquote><p>Step1: 创建 callback 方法</p><p>Step2: 插入 script 标签</p><p>Step3: 后台接受到请求，解析前端传过去的 callback 方法，返回该方法的调用，并且数据作为参数传入该方法</p><p>Step4: 前端执行服务端返回的方法调用</p></blockquote><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">// 具体的逻辑自己实现</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://127.0.0.1:8081/jsonp?callback=fn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8081</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/jsonp"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">//   let { callback } = req.query;</span>  <span class="token comment">//   let m = Math.random();</span>  <span class="token comment">//   res.send(`${callback}(${m})`);</span>  <span class="token comment">//   express帮我们封装好了一个 以 jsonp 为格式返回的方法</span>  res<span class="token punctuation">.</span><span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="插件-cors"><a href="#插件-cors" class="headerlink" title="插件 cors"></a>插件 cors</h4><p><strong>或者在服务器设置一个对应的响应头</strong></p><pre class="language-js" data-language="js"><code class="language-js">res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Origin"</span><span class="token punctuation">,</span> <span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> cors <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"cors"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8081</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// express 里面有一个专用于 实现 服务器堵端 控制跨域的 插件 cors</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 如果在服务器设置一个对应的响应头，前端的浏览器，就允许跨域了</span>  <span class="token comment">// res.setHeader("Access-Control-Allow-Origin", "*");</span>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"ok"</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">"success"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="代理服务器"><a href="#代理服务器" class="headerlink" title="代理服务器"></a>代理服务器</h4><p><strong>proxy</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  代理服务器 * */</span><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> cors <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"cors"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/a"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 当c.html 发一个请求过来</span>  <span class="token comment">// 我们把这个请求转发到 data-server</span>  http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://127.0.0.1:8081/b"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chuck</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      data <span class="token operator">+=</span> chuck<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    response<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"end"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token comment">//   到了这里是 http 向 8081 请求完成</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//   再把从 8081 提到的数据响应回 浏览器</span>      res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>data-server</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/** *  真正的处理数据的服务器 * */</span><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8081</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/b"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"请求进来了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"ok from data server"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> NodeJs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>this指向</title>
      <link href="/2022/07/02/this-zhi-xiang/"/>
      <url>/2022/07/02/this-zhi-xiang/</url>
      
        <content type="html"><![CDATA[<h1 id="this-指向问题"><a href="#this-指向问题" class="headerlink" title="this 指向问题"></a>this 指向问题</h1><p>① 在普通函数中，this指向window</p><p>② 在构造函数中，this指向创建的对象</p><p>③ 在方法声明中，this指向调用者</p><p>④ 在定时器中， this指向window</p><p>⑤ 在事件中，this 指向事件源</p><h3 id="this指向的问题"><a href="#this指向的问题" class="headerlink" title="this指向的问题"></a><strong>this指向的问题</strong></h3><p><strong>vue中的this，注意</strong>：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//1.ES5的普通函数写法，这里的this指向app,指向vue实例</span><span class="token comment">// 调用时被决定。根据调用我的人（谁调用我，我的this就指向谁）</span><span class="token comment">// 当函数被作为某个对象的方法调用时，this就等于那个对象</span><span class="token comment">//2.ES6的箭头函数写法，箭头函数没有自己的this,它的this事继承来的，指向在定义它时所处的宿主对象，在这里this指向window。</span><span class="token comment">// 定义时被决定。根据所在的环境（我在哪个环境中，this就指向谁)</span><span class="token comment">//3.在匿名函数中，这里的this不指向vue实例，这里的this指向window，在严格模式下，this指向undefined ，要使用this，可以直接用app（即vue实例）</span><span class="token comment">// 匿名函数的执行环境是全局性的。匿名函数中this指向window</span><span class="token comment">// 匿名函数的this是执行时的上下文</span><span class="token keyword">this</span><span class="token punctuation">.</span>sList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>app<span class="token punctuation">.</span>sResultList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//4.既是匿名函数又是箭头函数中的this，匿名函数没有自己的this，它的this继承来的，也可以说这里的this指向跟上一级的this指向相同，即vue实例</span><span class="token comment">// 箭头函数是定义时的父级执行上下文。</span><span class="token keyword">this</span><span class="token punctuation">.</span>sList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>sResultList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>fn.apply(this) 将fn里面的this指向，指向括号里面的，参数是传给拥有着的(括号外的fn)</strong></p><p><strong>fn.bind()()，只是改变this指向,如果需要调用函数的时候，就需要在后面加上()</strong></p><p><strong>fn.apple()和fn.call()如果是用方法的话，就会直接调用。</strong></p><p><strong>this指向，如果是多重的嵌套，就取最近调用的那个变量</strong></p><blockquote><p>定时器里面的回调函数如果是<strong>匿名函数</strong>：this指向window；(可以在外层将this指向that)</p><p>定时器里面的回调函数如果是<strong>箭头函数</strong>：this指向外层作用域；</p></blockquote><h3 id="（1）在全局环境中的this——window"><a href="#（1）在全局环境中的this——window" class="headerlink" title="（1）在全局环境中的this——window"></a>（1）在全局环境中的this——window</h3><p><strong>无论是否在严格模式下</strong>，在全局执行环境中（在任何函数体外部）<code>this</code> 都指向全局对象。</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token string">"use strict"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">===</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span></code></pre><h3 id="（2）在函数中的this——window"><a href="#（2）在函数中的this——window" class="headerlink" title="（2）在函数中的this——window"></a>（2）在函数中的this——window</h3><p>在函数内部，<code>this</code>的值取决于函数被调用的方式。</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">===</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span><span class="token punctuation">}</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span>window<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></code></pre><p>因为定义的函数在全局作用域下定义的 </p><h3 id="（3）函数在严格模式下——undefined"><a href="#（3）函数在严格模式下——undefined" class="headerlink" title="（3）函数在严格模式下——undefined"></a>（3）函数在严格模式下——undefined</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token string">"use strict"</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span><span class="token punctuation">}</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>上面的f是直接调用的指向undefined </p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token string">"use strict"</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span><span class="token punctuation">}</span>window<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>有一些浏览器最初在支持严格模式时没有正确实现这个功能，于是它们错误地返回了<code>window</code>对象。</p><h3 id="（4）对象中的this——指向调用者"><a href="#（4）对象中的this——指向调用者" class="headerlink" title="（4）对象中的this——指向调用者"></a>（4）对象中的this——指向调用者</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//指向obj这个对象</span></code></pre><p><strong>eg1</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'奥特曼'</span><span class="token punctuation">,</span>    <span class="token literal-property property">fn</span><span class="token operator">:</span> fun<span class="token punctuation">}</span><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"怪兽"</span>obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//奥特曼</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//怪兽</span></code></pre><p>obj.fn() 是obj 调用的所以去找obj里面的name </p><p>fun是window调用的所以去找全局里面的this.name</p><p><strong>eg2</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'怪兽'</span><span class="token punctuation">,</span>    <span class="token function-variable function">f</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'姓名:'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'奥特曼'</span><span class="token punctuation">}</span>obj2<span class="token punctuation">.</span>f <span class="token operator">=</span> obj1<span class="token punctuation">.</span>fobj1<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//姓名:怪兽</span>obj2<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//姓名:奥特曼</span></code></pre><p>把obj1.赋值给obj2.f obj2也有了f 方法 </p><p><strong>eg3</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>    <span class="token literal-property property">fn</span><span class="token operator">:</span>foo<span class="token punctuation">}</span><span class="token keyword">var</span> obj1<span class="token operator">=</span><span class="token punctuation">{</span>    <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>    <span class="token literal-property property">o1</span><span class="token operator">:</span>obj2<span class="token punctuation">}</span>obj1<span class="token punctuation">.</span>o1<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//2</span></code></pre><p>obj1里面的o1是obj2 obj2里的fn是foo函数  在obj2里面调用的拿到obj2中的a</p><h3 id="（8）事件绑定中的this"><a href="#（8）事件绑定中的this" class="headerlink" title="（8）事件绑定中的this"></a>（8）事件绑定中的this</h3><pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">Hclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>点击事件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">       <span class="token keyword">function</span> <span class="token function">Hclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p> 由于还是在当前window环境下运行的还是指向window</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">"console.log(this)"</span><span class="token operator">&gt;</span>点击事件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></code></pre><p>运行在节点对象中 指向当前dom</p><h3 id="（9）动态绑定"><a href="#（9）动态绑定" class="headerlink" title="（9）动态绑定"></a>（9）动态绑定</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>动态绑定<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>       <span class="token keyword">let</span> btn<span class="token operator">=</span>  document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></code></pre><p>指向当前dom</p><h3 id="（10）addEventlistenr——当前dom"><a href="#（10）addEventlistenr——当前dom" class="headerlink" title="（10）addEventlistenr——当前dom"></a>（10）addEventlistenr——当前dom</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>指向当前dom<code> &lt;button&gt;动态绑定&lt;/button&gt;</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>换成箭头函数后 this指向当前作用域下的上级作用域的this  window </p><h3 id="（11）构造函数中的this——当前实例化对象"><a href="#（11）构造函数中的this——当前实例化对象" class="headerlink" title="（11）构造函数中的this——当前实例化对象"></a>（11）构造函数中的this——当前实例化对象</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Pro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">=</span><span class="token string">'1'</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">y</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>p<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>通过构造函数创建了一个新的实例对象 所以当前的this指向新的实例对象</p><h3 id="（12）定时器中的this——window"><a href="#（12）定时器中的this——window" class="headerlink" title="（12）定时器中的this——window"></a>（12）定时器中的this——window</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span></code></pre><p>this指向当前window</p><p><strong>小扩展</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">MyClass</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> myClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'myClass:'</span><span class="token punctuation">,</span> myClass<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>当有了返回值以后</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">MyClass</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token number">2</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> myClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'myClass:'</span><span class="token punctuation">,</span> myClass<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>会把return的内容放在构造函数中</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据处理常用方法</title>
      <link href="/2022/07/01/shu-ju-chu-li-chang-yong-fang-fa/"/>
      <url>/2022/07/01/shu-ju-chu-li-chang-yong-fang-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="数据处理常用的方法"><a href="#数据处理常用的方法" class="headerlink" title="数据处理常用的方法"></a>数据处理常用的方法</h1><p>原文链接：<a href="https://blog.csdn.net/m0_37296026/article/details/123410578">https://blog.csdn.net/m0_37296026/article/details/123410578</a></p><p>请结合<a href="https://hellozhj.github.io/2022/07/01/bian-cheng-ti/">编程题</a></p><p><img src="/2022/07/01/shu-ju-chu-li-chang-yong-fang-fa/123.png" alt="123"></p><h3 id="一、数据类型"><a href="#一、数据类型" class="headerlink" title="一、数据类型"></a>一、数据类型</h3><ul><li><p>基本类型：String、Number、Boolean、Undefined、Null、Symbol、<strong>bigInt</strong></p></li><li><p>引用类型：Object、Function</p></li><li><p>基本类型的数据是存放在栈内存中的，而引用类型的数据是存放在堆内存中的</p></li><li><p>typeof</p><p>typeof 是一个操作符，其右侧跟一个一元表达式，并返回这个表达式的数据类型。返回的结果用该类型的字符串(全小写字母)形式表示，包括以下 7 种：number、<a href="https://so.csdn.net/so/search?q=boolean&amp;spm=1001.2101.3001.7020">boolean</a>、symbol、string、object、undefined、function</p></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">typeof</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// number </span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// undefined </span><span class="token keyword">typeof</span> <span class="token string">'222'</span><span class="token punctuation">;</span> <span class="token comment">// string </span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol </span><span class="token keyword">typeof</span> <span class="token number">1n</span><span class="token punctuation">;</span> <span class="token comment">// bigint</span><span class="token keyword">typeof</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bigint</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// object </span><span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// object </span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// object </span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span><span class="token comment">// 对于基本类型，除 null 以外，均可以返回正确的结果。</span><span class="token comment">// 对于引用类型，除 function 以外，一律返回 object 类型。</span><span class="token comment">// 对于 null ，返回 object 类型。</span><span class="token comment">// 对于 function 返回 function 类型。</span><span class="token comment">// 其中，null 有属于自己的数据类型 Null ，引用类型中的 数组、日期、正则 也都有属于自己的具体类型，而 typeof 对于这些类型的处理，只返回了处于其原型链最顶端的 Object 类型。</span></code></pre><ul><li><p>instanceof</p><p>instanceof 是用来判断 A 是否为 B 的实例，表达式为：A instanceof B，如果 A 是 B 的实例，则返回 true,否则返回 false。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">instanceof</span> <span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> <span class="token constant">L</span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>    <span class="token keyword">var</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token class-name">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">L</span> <span class="token operator">===</span> <span class="token constant">R</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// A的内部属性 __proto__ 指向 B 的原型对象</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p><strong>toString转字符串</strong></p><p>toString() 是 Object 的原型方法，调用该方法，默认返回当前对象的 [[Class]] 。这是一个内部属性，其格式为 [object Xxx]，其中 Xxx 就是对象的类型。<br>对于 Object 对象，直接调用 toString() 就能返回 [object Object] 。而对于其他对象，则需要通过 call / apply 来调用才能返回正确的类型信息。</p></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object String]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Number]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Boolean]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Symbol]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Undefined]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Null]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">newFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Function]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">newDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">;</span> <span class="token comment">// [object Date]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Array]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">newRegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object RegExp]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">newError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Error]</span></code></pre><ul><li><p>Boolean(value)――把给定的值转换成Boolean型；(转布尔)</p></li><li><p>Number(value)――把给定的值转换成数字（可以是整数或浮点数）；（转数字）</p><blockquote><p>字符串前面加<code>+</code>可以隐式转换数字型</p><pre class="language-none"><code class="language-none">&gt;parseInt()`和`parseFloat()；前者把值转换成整数，后者把值转换成浮点数。&gt;只有对String类型调用这些方法，这两个函数才能正确运行；对其他类型返回的都是NaN(Not a Number)。</code></pre></blockquote></li><li><p>String(value)――把给定的值转换成字符串。（转字符串）</p></li></ul><hr><h3 id="二、常用数组遍历方法"><a href="#二、常用数组遍历方法" class="headerlink" title="二、常用数组遍历方法"></a>二、常用数组遍历方法</h3><h4 id="1-forEach-遍历数组"><a href="#1-forEach-遍历数组" class="headerlink" title="1.forEach()遍历数组"></a>1.forEach()遍历数组</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> currentIndex</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 1 0</span>    <span class="token comment">// 2 1</span>    <span class="token comment">// 3 2</span>    <span class="token comment">// 4 3</span>    <span class="token comment">// 5 4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// undefined 没有返回值</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><ul><li>注：forEach中<strong>不能使用break和continue关键字</strong></li><li>注：forEach中可以使用return来实现continue的效果，无法实现break效果。一经调用，就一定会遍历完。</li></ul><h4 id="2-every-fn-判断数组中是否所有元素都满足fn函数中的条件"><a href="#2-every-fn-判断数组中是否所有元素都满足fn函数中的条件" class="headerlink" title="2.every(fn)判断数组中是否所有元素都满足fn函数中的条件"></a>2.every(fn)判断数组中是否所有元素都满足fn函数中的条件</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true  所有元素都大于0</span>result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false  1并不大于1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><h4 id="3-filter-fn-返回数组中满足fn函数中条件的集合"><a href="#3-filter-fn-返回数组中满足fn函数中条件的集合" class="headerlink" title="3.filter(fn)返回数组中满足fn函数中条件的集合"></a>3.filter(fn)返回数组中满足fn函数中条件的集合</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [5] 只有5满足条件</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><h4 id="4-find-fn-返回数组中第一个匹配fn函数中条件的值，没有则返回undefined"><a href="#4-find-fn-返回数组中第一个匹配fn函数中条件的值，没有则返回undefined" class="headerlink" title="4.find(fn)返回数组中第一个匹配fn函数中条件的值，没有则返回undefined"></a>4.find(fn)返回数组中第一个匹配fn函数中条件的值，没有则返回undefined</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><h4 id="5-findIndex-fn-返回数组中第一个匹配fn函数中条件的索引，没有则返回-1"><a href="#5-findIndex-fn-返回数组中第一个匹配fn函数中条件的索引，没有则返回-1" class="headerlink" title="5.findIndex(fn)返回数组中第一个匹配fn函数中条件的索引，没有则返回-1"></a>5.findIndex(fn)返回数组中第一个匹配fn函数中条件的索引，没有则返回-1</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 3</span>result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><h4 id="6-includes-返回一个布尔值，表示某个数组是否包含给定的值"><a href="#6-includes-返回一个布尔值，表示某个数组是否包含给定的值" class="headerlink" title="6.includes()返回一个布尔值，表示某个数组是否包含给定的值"></a>6.includes()返回一个布尔值，表示某个数组是否包含给定的值</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><h4 id="7-map-fn-以fn函数中返回值组成新的数组返回-想要什么就返回什么，数据重构"><a href="#7-map-fn-以fn函数中返回值组成新的数组返回-想要什么就返回什么，数据重构" class="headerlink" title="7.map(fn)以fn函数中返回值组成新的数组返回(想要什么就返回什么，数据重构)"></a>7.map(fn)以fn函数中返回值组成新的数组返回(想要什么就返回什么，数据重构)</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token number">9</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [9, 9, 9, 9, 9]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><h4 id="8-reduce-累计器"><a href="#8-reduce-累计器" class="headerlink" title="8.reduce()累计器"></a>8.reduce()累计器</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> accumulator <span class="token operator">+</span> currentValue<span class="token punctuation">;</span>    <span class="token comment">// 5  1 0 [1, 2, 3, 4, 5]  第一次accumulator的值为reduce第二个参数5, currentValue为数组第一个元素</span>    <span class="token comment">// 6  2 1 [1, 2, 3, 4, 5]  第二次accumulator的值为5加上数组a中的第一个值，即是第一次循环时return的值</span>    <span class="token comment">// 8  3 2 [1, 2, 3, 4, 5]  同上</span>    <span class="token comment">// 11 4 3 [1, 2, 3, 4, 5]  同上</span>    <span class="token comment">// 15 5 4 [1, 2, 3, 4, 5]  同上</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 20 为最终累计的和</span><span class="token comment">// 无初始值时，accumulator的初始值为数组的第一个元素，currentValue为数组第二个元素</span>result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> accumulator <span class="token operator">+</span> currentValue<span class="token punctuation">;</span>    <span class="token comment">// 1  2 1 [1, 2, 3, 4, 5]</span>    <span class="token comment">// 3  3 2 [1, 2, 3, 4, 5]</span>    <span class="token comment">// 6  4 3 [1, 2, 3, 4, 5]</span>    <span class="token comment">// 10 5 4 [1, 2, 3, 4, 5]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 15 为最终累计的和</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><h4 id="9-some-fn-检查数组中是否含有满足fn函数条件的值"><a href="#9-some-fn-检查数组中是否含有满足fn函数条件的值" class="headerlink" title="9.some(fn)检查数组中是否含有满足fn函数条件的值"></a>9.some(fn)检查数组中是否含有满足fn函数条件的值</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>result <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> currentValue <span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><ul><li><strong>注：以上方法均不改变原数组</strong></li><li><strong>注：find(), findIndex(), includes()均为es6语法，ie不支持</strong></li></ul><h4 id="10-for…of…"><a href="#10-for…of…" class="headerlink" title="10.for…of…"></a>10.for…of…</h4><ul><li>for in遍历的是数组的<strong>索引（</strong>即键名），而for of遍历的是数组<strong>元素值</strong>。</li><li>for of遍历的<strong>只是数组内的元素</strong>，而<strong>不包括数组的原型属性</strong>method和索引name</li><li>for..of适用遍历数/数组对象/字符串/map/set等拥有<strong>迭代器对象</strong>的集合.但是<strong>不能遍历对象</strong>,因为没有迭代器对象.与forEach()不同的是，它可以<strong>正确响应break、continue和return语句</strong></li><li>for-of循环不支持普通对象，但如果你想迭代一个对象的属性，你可以用for-in循环（这也是它的本职工作）或内建的Object.keys()方法</li></ul><h4 id="11"><a href="#11" class="headerlink" title="11."></a>11.</h4><hr><h3 id="三、常用对象操作-遍历-方法"><a href="#三、常用对象操作-遍历-方法" class="headerlink" title="三、常用对象操作(遍历)方法"></a>三、常用对象操作(遍历)方法</h3><h4 id="1-for-in"><a href="#1-for-in" class="headerlink" title="1.for-in"></a>1.for-in</h4><p><strong>for-in会遍历出原型链上的属性，可以通过hasOwnProperty方法来实现过滤</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sexy <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key  <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">'---'</span> <span class="token operator">+</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 输出结果：</span><span class="token comment">// id---1</span><span class="token comment">// name---zhangsan</span><span class="token comment">// age---18</span><span class="token comment">// sexy---男</span><span class="token comment">// hasOwnProperty() 方法检测是否是实例成员</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key  <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">'---'</span> <span class="token operator">+</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 输出结果：</span><span class="token comment">// id---1</span><span class="token comment">// name---zhangsan</span><span class="token comment">// age---18</span></code></pre><h4 id="2-Object-keys（obj）、Object-values（obj）-对象转数组"><a href="#2-Object-keys（obj）、Object-values（obj）-对象转数组" class="headerlink" title="2.Object.keys（obj）、Object.values（obj）[对象转数组]"></a>2.Object.keys（obj）、Object.values（obj）[对象转数组]</h4><p><strong>该方法返回对象自身属性名、属性值组成的数组，它会自动过滤掉原型链上的属性，然后可以通过数组的 forEach() 方法来遍历</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出结果： obj对象的key组成的数组['id','name','age']</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出结果： obj对象的value组成的数组['1','zhangsan','18']</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token operator">+</span> <span class="token string">'---'</span><span class="token operator">+</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出结果：</span><span class="token comment">// id---1</span><span class="token comment">// name---zhangsan</span><span class="token comment">// age---18</span></code></pre><h4 id="3-Object-getOwnPropertyNames-obj"><a href="#3-Object-getOwnPropertyNames-obj" class="headerlink" title="3.Object.getOwnPropertyNames(obj)"></a>3.Object.getOwnPropertyNames(obj)</h4><p>该方法返回对象自身属性名组成的数组，包括不可枚举的属性</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token operator">+</span> <span class="token string">'---'</span><span class="token operator">+</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出结果：</span><span class="token comment">// id---1</span><span class="token comment">// name---zhangsan</span><span class="token comment">// age---18</span></code></pre><h4 id="4-对象的合并-后面的会覆盖前面的"><a href="#4-对象的合并-后面的会覆盖前面的" class="headerlink" title="4.对象的合并(后面的会覆盖前面的)"></a>4.对象的合并(后面的会覆盖前面的)</h4><ul><li><p><strong>Object.assign()</strong></p><p>合并对象是将后面的对象合拼到<strong>第一个对象</strong>里面了</p><p>会改变第一个的对象，如果不想改变可以给第一个给<strong>空对象</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 给到一个新对象，属于深拷贝</span></code></pre></li><li><p><strong>…扩展运算符</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"历史"</span><span class="token punctuation">,</span>    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>    <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">"cdscds@163.com"</span><span class="token punctuation">}</span><span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj1<span class="token punctuation">,</span> <span class="token operator">...</span>obj2 <span class="token punctuation">}</span><span class="token comment">// 对象里面都是简单数据类型，扩展运算符相对于深拷贝</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {name: '张三', gender: '男', email: 'cdscds@163.com'}</span></code></pre></li></ul><hr><h3 id="四、常用字符串操作方法"><a href="#四、常用字符串操作方法" class="headerlink" title="四、常用字符串操作方法"></a>四、常用字符串操作方法</h3><ul><li><p>charAt()</p><p>返回给定位置的那个字符</p><blockquote><p>原字符：没有修改</p><p>返回值：返回给定位置的那个字符</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'e'</span></code></pre></li><li><p>concat()</p><p>将一或多个字符串拼接起来，返回拼接得到的新的字符串</p><blockquote><p>原字符：没有修改</p><p>返回值：返回拼接的字符</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello '</span><span class="token punctuation">;</span><span class="token keyword">var</span> resrult <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resrult<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'hello world'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'hello ' 不改变源字符串</span></code></pre></li><li><p>replace()、replaceAll()</p><p>替换指定字符串</p><p><strong>replace()</strong></p><blockquote><p>原字符：没有修改</p><p>返回值：替换指定的第一个字符，返回替换后的</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'cat,bat,sat,fat'</span><span class="token punctuation">;</span><span class="token keyword">var</span> result <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'at'</span><span class="token punctuation">,</span> <span class="token string">'ond'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cond,bat,sat,fat'</span>result <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">'ond'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 利用正则可以全部替换</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cond,bond,sond,fond'</span></code></pre><p><strong>replaceAll()</strong></p><blockquote><p>原字符：没有修改</p><p>返回值：替换指定的全部字符，返回替换后的</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'cat,bat,sat,fat'</span><span class="token punctuation">;</span><span class="token keyword">var</span> result <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">'at'</span><span class="token punctuation">,</span> <span class="token string">'ond'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cond,bond,sond,fond'</span>result <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">at</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">'ond'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cond,bond,sond,fond'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cat,bat,sat,fat' 不改变源字符串</span></code></pre></li><li><p>slice()、substring()、substr()</p><p>提取字符串的片断，并在新的字符串中返回被提取的部分</p><p><strong>substring()方法返回一个索引和另一个索引之间的字符串。语法如下：</strong></p><blockquote><p>原字符：没有修改</p><p>返回值：返回一个索引和另一个索引之间的字符串</p><p>参数：开始索引，结束索引</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>indexStart<span class="token punctuation">,</span> <span class="token punctuation">[</span>indexEnd<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//注意要点：</span><span class="token comment">// substring()提取的字符包含 indexStart 但不包括 indexEnd。</span><span class="token comment">// 如果indexStart 等于indexEnd，返回一个空字符串。</span><span class="token comment">// 如果indexEnd省略，则将字符提取到字符串的末尾。</span><span class="token comment">// 如果任一参数小于0或是NaN，它被视为为0。</span><span class="token comment">// 如果任何一个参数都大于str.length，则被视为是str.length。</span><span class="token comment">// 如果indexStart大于indexEnd，则返回交换两者的值之后的结果</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abcdefghij'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(1, 2): '</span>   <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// '(1, 2): b'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(1, 1): '</span>   <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// '(1, 1): '</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-3, 2): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(-3, 2): ab'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-3): '</span>     <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// '(-3): abcdefghij'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(1): '</span>      <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// '(1): bcdefghij'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-20, 2): '</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '(-20, 2): ab'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(2, 20): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(2, 20): cdefghij'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(20, 2): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(20, 2): cdefghij'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'abcdefghij' 不改变源字符串</span></code></pre><p><strong>substr()方法返回从指定位置开始的字符串中指定字符数的字符。语法如下：</strong></p><blockquote><p>原字符：没有修改</p><p>返回值：返回指定开始到指定长度的字符串</p><p>参数：开始索引，个数</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> <span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//注意要点：</span><span class="token comment">// substr()会从start获取长度为length字符（如果截取到字符串的末尾，则会停止截取）。</span><span class="token comment">// 如果start是正的并且大于或等于字符串的长度，则返回一个空字符串。</span><span class="token comment">// 若start为负数,则将该值加上字符串长度后再进行计算（如果加上字符串的长度后还是负数，则从0开始截取）。</span><span class="token comment">// 如果length为0或为负数，返回一个空字符串。如果length省略，则将字符提取到字符串的末尾。</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abcdefghij'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(1, 2): '</span>   <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// '(1, 2): bc'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-3, 2): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(-3, 2): hi'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-3): '</span>     <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// '(-3): hij'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(1): '</span>      <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// '(1): bcdefghij'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-20, 2): '</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '(-20, 2): ab'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(20, 2): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(20, 2): '</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'abcdefghij' 不改变源字符串</span></code></pre><p><strong>slice()方法返回一个索引和另一个索引之间的字符串，语法如下：</strong></p><blockquote><p>原字符：没有修改</p><p>返回值：返回一个索引和另一个索引之间的字符串</p><p>参数：开始索引，结束索引</p></blockquote><p><strong>适用于一维数组的深拷贝，对多维数组无效。</strong></p><pre class="language-js" data-language="js"><code class="language-js">str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>beginIndex<span class="token punctuation">[</span><span class="token punctuation">,</span> endIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//注意要点：</span><span class="token comment">// 若beginIndex为负数,则将该值加上字符串长度后再进行计算（如果加上字符串的长度后还是负数，则从0开始截取）。</span><span class="token comment">// 如果beginIndex大于或等于字符串的长度，则slice()返回一个空字符串。</span><span class="token comment">// 如果endIndex省略，则将slice()字符提取到字符串的末尾。如果为负，它被视为strLength + endIndex其中strLength是字符串的长度。</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abcdefghij'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(1, 2): '</span>   <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// '(1, 2): b'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-3, 2): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(-3, 2): '</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-3, 9): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(-3, 9): hi'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-3): '</span>     <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// '(-3): hij'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-3，-1): '</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span>，<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// '(-3，-1): hi'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(0，-1): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span>，<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// '(0，-1): abcdefghi'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(1): '</span>      <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// '(1): bcdefghij'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(-20, 2): '</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '(-20, 2): ab'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(20): '</span>     <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(20): '</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'(20, 2): '</span>  <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '(20, 2): '</span></code></pre></li><li><p>split()：把字符串分割为子字符串数组（字符串变数组）</p><blockquote><p>原字符：没有修改</p><p>返回值：返回分割后的数组</p><p>参数：<code>''</code>默认每一项都分割</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['hello', 'world']</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['h','e', 'l', 'l', 'o', '','w', 'o', 'r','l', 'd']</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'hello world' 不改变源字符串</span></code></pre></li><li><p>trim()：移除字符串首尾空白，但不能移除中间的空白</p><blockquote><p>原字符：没有修改</p><p>返回值：返回首位空白的字符串</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">' hello world  '</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'hello world'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ' hello world  ' 不改变源字符串</span></code></pre></li><li><p>indexOf()、lastIndexOf()：搜索指定的子字符串，返回子字符串的位置，没有找到则返回-1</p><p><strong>indexOf()</strong></p><blockquote><p>原字符：没有修改</p><p>返回值：返回首个被找到的元素在数组中的索引位置; 若没有找到则返回 -1</p><p>参数：目标元素</p></blockquote><p><strong>lastIndexOf()</strong></p><blockquote><p>原字符：没有修改</p><p>返回值：返回首个被找到的元素在数组中的索引位置; 若没有找到则返回 -1</p><p>参数：目标元素（从后面开始找）</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span><span class="token comment">// indexOf() 首个被找到的元素在数组中的索引位置; 若没有找到则返回 -1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//4</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//7</span></code></pre></li><li><p>toLowerCase()：创建原字符串的小写副本</p><blockquote><p>原字符：没有修改</p><p>返回值：返回小写</p></blockquote></li><li><p>toUpperCase()：创建原字符串的大写副本</p><blockquote><p>原字符：没有修改</p><p>返回值：返回大写</p></blockquote></li></ul><hr><h3 id="五、常用数组操作方法"><a href="#五、常用数组操作方法" class="headerlink" title="五、常用数组操作方法"></a>五、常用数组操作方法</h3><h4 id="1-join-：数组拼接为字符串（数组变字符串）"><a href="#1-join-：数组拼接为字符串（数组变字符串）" class="headerlink" title="1.join()：数组拼接为字符串（数组变字符串）"></a>1.join()：数组拼接为字符串（数组变字符串）</h4><blockquote><p>原数组：没有修改</p><p>返回值：返回拼接的字符串</p><p>参数：默认无，就用<code>,</code>拼接</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1,2,3'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1-2-3'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]（原数组不变）</span></code></pre><h4 id="2-push-、pop"><a href="#2-push-、pop" class="headerlink" title="2.push()、pop()"></a>2.push()、pop()</h4><ul><li><p>push(): 把里面的内容添加到数组末尾，并返回修改后的长度。</p><blockquote><p>原数组：被修改（数组末尾添加内容）</p><p>返回值：返回修改后的长度</p><p>参数：需要加入数组的数据项</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Lily'</span><span class="token punctuation">,</span><span class="token string">'lucy'</span><span class="token punctuation">,</span><span class="token string">'Tom'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> count <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">,</span><span class="token string">'Sean'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Lily', 'lucy', 'Tom', 'Jack', 'Sean']</span></code></pre></li><li><p><code>pop()</code>移除数组最后一项，返回移除的那个值，减少数组的length。</p><blockquote><p>原数组：被修改（删除数组最后一项）</p><p>返回值：返回被移除的那个值</p></blockquote></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Lily'</span><span class="token punctuation">,</span> <span class="token string">'lucy'</span><span class="token punctuation">,</span> <span class="token string">'Tom'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> item <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tom</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Lily', 'lucy']</span></code></pre><h4 id="3-shift-、unshift"><a href="#3-shift-、unshift" class="headerlink" title="3.shift()、unshift()"></a>3.shift()、unshift()</h4><ul><li><p>shift()：把数组的第一个元素从其中删除，并返回第一个元素的值</p><blockquote><p>原数组：被修改（删除第一个元素）</p><p>返回值：返回被删除的值</p></blockquote></li><li><p>unshift()：向数组的开头添加一个或更多元素，并返回新的长度</p><blockquote><p>原数组：被修改（开头添加一个或更多元素）</p><p>返回值：返回新的长度</p><p>参数：需要添加的数据项</p></blockquote></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Lily'</span><span class="token punctuation">,</span><span class="token string">'lucy'</span><span class="token punctuation">,</span><span class="token string">'Tom'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> count <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">,</span><span class="token string">'Sean'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['Jack', 'Sean', 'Lily', 'lucy', 'Tom']</span><span class="token keyword">var</span> item <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Jack</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Sean', 'Lily', 'lucy', 'Tom']</span></code></pre><h4 id="4-sort-：将数组里的项从小到大排序"><a href="#4-sort-：将数组里的项从小到大排序" class="headerlink" title="4.sort()：将数组里的项从小到大排序"></a>4.sort()：将数组里的项从小到大排序</h4><blockquote><p>原数组：被修改</p><p>返回值：排正序的数组[数组]</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['a', 'b', 'c', 'd']</span></code></pre><p>sort()方法比较的是字符串，没有按照数值的大小对数字进行排序，要实现这一点，就必须使用一个排序函数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sortNumber</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>　　<span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [13, 24, 3, 51] </span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>sortNumber<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 13, 24, 51]</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token comment">// 数组随机数</span></code></pre><h4 id="5-reverse-：反转数组-改变原数组"><a href="#5-reverse-：反转数组-改变原数组" class="headerlink" title="5.reverse()：反转数组(改变原数组)"></a>5.reverse()：反转数组(改变原数组)</h4><blockquote><p>原数组：被修改</p><p>返回值：反转的数组[数组]</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 51, 24, 13]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 51, 24, 13]</span></code></pre><h4 id="6-concat-：连接两个或多个数组"><a href="#6-concat-：连接两个或多个数组" class="headerlink" title="6.concat()：连接两个或多个数组"></a>6.concat()：连接两个或多个数组</h4><blockquote><p>原数组：没有修改</p><p>返回值：被拼接后的数组[数组]</p></blockquote><p><strong>适用于一维数组的深拷贝，对多维数组无效。</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arrCopy <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrCopy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 3, 5, 7, 9, 11, 13]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 3, 5, 7]</span></code></pre><h4 id="7-slice-start，end-：数组截取"><a href="#7-slice-start，end-：数组截取" class="headerlink" title="7.slice(start，end)：数组截取"></a>7.slice(start，end)：数组截取</h4><blockquote><p>原数组：没有修改</p><p>返回值：被截取的项[数组]</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arrCopy <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> arrCopy2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrCopy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 5, 7, 9, 11]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrCopy2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 5, 7]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 3, 5, 7, 9, 11]</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//获取数组最后一项</span></code></pre><h4 id="8-splice-index-howmany-：删除、插入和替换"><a href="#8-splice-index-howmany-：删除、插入和替换" class="headerlink" title="8.splice(index,howmany)：删除、插入和替换"></a>8.splice(index,howmany)：删除、插入和替换</h4><blockquote><p>原数组：被修改</p><p>返回值：被删除项[数组]</p></blockquote><ul><li>删除：指定 2 个参数：要删除的第一项的位置和要删除的项数。<br>书写格式：arr.splice(1, 3)</li><li>插入：可以向指定位置插入任意数量的项，只需提供 个参数：起始位置、 0（要删除的项数）和要插入的项。<br>书写格式：arr.splice(2, 0, 4, 6)</li><li>替换：可以向指定位置插入任意数量的项，且同时删除任意数量的项，只需指定3个参数：起始位置、要删除的项数和要插入的任意数量的项。插入的项数不必与删除的项数相等。<br>书写格式：arr.splice(2,0,4,6)</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arrRemoved <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [5, 7, 9, 11]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrRemoved<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 3]</span><span class="token keyword">var</span> arrRemoved2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [5, 7, 4, 6, 9, 11]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrRemoved2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// []</span><span class="token keyword">var</span> arrRemoved3 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [5, 2, 4, 4, 6, 9, 11]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrRemoved3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [7]</span></code></pre><h4 id="9-flat-数组扁平化："><a href="#9-flat-数组扁平化：" class="headerlink" title="9.flat()数组扁平化："></a>9.flat()数组扁平化：</h4><blockquote><p>原数组：没有修改</p><p>返回值：被扁平化的数组</p><p>参数：指定要提取嵌套数组的结构深度，默认值为 1。<code>Infinity</code>为全部</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [0, 1, 2, 3, 4]</span><span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, [3, 4]]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, 3, 4]</span></code></pre><h4 id="10-转数组"><a href="#10-转数组" class="headerlink" title="10.转数组"></a>10.转数组</h4><p><strong>Array.from(）转数组</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// new Set(天然去重)</span><span class="token comment">// Array.from() 转数组</span><span class="token keyword">var</span> b <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[1, 3, 2, 4, 5]</span><span class="token comment">// 将两类对象转为真正的数组</span><span class="token comment">// 类似数组的对象（array-like object），和可遍历（iterable）的对象（包括 ES6 新增的数据结构 Set 和 Map）</span><span class="token keyword">let</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string-property property">'0'</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>    <span class="token string-property property">'1'</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span>    <span class="token string-property property">'2'</span><span class="token operator">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span>    <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span><span class="token comment">// 需要加上长度</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['a', 'b', 'c']</span></code></pre><p><strong>Array.of()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 方法用于将一组值，转换为数组</span>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">// [3,11,8]</span></code></pre><p><strong>…扩展运算符</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3</span></code></pre><p><strong>‘…’这个扩展运算符可以帮助我们把一系列的入参变为数组</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readArr</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">readArr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [1,2,3]</span></code></pre><h4 id="11-去重"><a href="#11-去重" class="headerlink" title="11.去重"></a>11.去重</h4><p><strong>Set方法</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token comment">// 这里原本是一个对象用了es6的语法 转化成了数组，就是转化数组之前已经过滤掉了重复的元素了</span><span class="token keyword">var</span> arr2<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">//[1,3,4,2,5]</span></code></pre><blockquote><p><strong>Set常用语法如下</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span><span class="token comment">//初始化一个Set ，需要一个Array数组，要么空Set</span><span class="token operator">&gt;</span><span class="token keyword">var</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span>  <span class="token comment">// {1, 2, 3, 5, 6}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span><span class="token comment">//添加元素到Set中</span><span class="token operator">&gt;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token comment">//{1, 2, 3, 5, 6, 7}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span><span class="token comment">//删除Set中的元素</span><span class="token operator">&gt;</span>set<span class="token punctuation">.</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token keyword">delete</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token comment">// {1, 2, 5, 6, 7}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span><span class="token comment">//检测是否含有此元素，有为true，没有则为false</span><span class="token operator">&gt;</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token comment">//true</span></code></pre></blockquote><hr><blockquote><p><strong>Map常用语法如下</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span><span class="token comment">//初始化`Map`需要一个二维数组(请看 Map 数据结构)，或者直接初始化一个空`Map` </span><span class="token operator">&gt;</span><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&gt;</span><span class="token comment">//添加key和value值</span><span class="token operator">&gt;</span>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'Amy'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'liuQi'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token comment">//是否存在key，存在返回true,反之为false</span><span class="token operator">&gt;</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'Amy'</span><span class="token punctuation">)</span> <span class="token comment">//true</span><span class="token operator">&gt;</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'amy'</span><span class="token punctuation">)</span> <span class="token comment">//false</span><span class="token operator">&gt;</span><span class="token comment">//根据key获取value</span><span class="token operator">&gt;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'Amy'</span><span class="token punctuation">)</span> <span class="token comment">//女</span><span class="token operator">&gt;</span><span class="token comment">//删除 key为Amy的value</span><span class="token operator">&gt;</span>map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'Amy'</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'Amy'</span><span class="token punctuation">)</span> <span class="token comment">//undefined  删除成功</span><span class="token operator">&gt;</span><span class="token comment">// Map 构造函数可以将一个二维键值对转换成一个Map对象</span><span class="token operator">&gt;</span><span class="token keyword">var</span> myMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>kvArray<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token comment">// 使用 Array.from 函数可以将一个 Map对象转换成一个二维键值对数组</span><span class="token operator">&gt;</span><span class="token keyword">var</span> outArray <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>myMap<span class="token punctuation">)</span></code></pre></blockquote><h4 id="12-判断数组的方法"><a href="#12-判断数组的方法" class="headerlink" title="12.判断数组的方法"></a>12.判断数组的方法</h4><ul><li><p><strong>Array.isArray()判断：</strong>用于确定传递的值是否是一个数组，返回一个布尔值。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span></code></pre></li><li><p><strong>instanceof判断：</strong>运算符用于检验构造函数的prototype属性是否出现在对象的原型链中的任何位置，返回一个布尔值。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">//true</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>b <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">//false</span></code></pre></li><li><p><strong>constructor判断：</strong>构造函数属性constructor指向构造函数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">;</span><span class="token comment">//true</span></code></pre></li><li><p><strong>Object.prototype.toString.call()判断：</strong>以获取到对象的不同类型</p><blockquote><p>对于 Object 对象，直接调用 toString() 就能返回 [object Object] 。而对于其他对象，则需要通过 call / apply 来调用才能返回正确的类型信息。</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">;</span><span class="token comment">//true</span></code></pre></li></ul><hr><h3 id="六、解构用途"><a href="#六、解构用途" class="headerlink" title="六、解构用途"></a>六、解构用途</h3><h4 id="1-交换变量的值"><a href="#1-交换变量的值" class="headerlink" title="1.交换变量的值"></a>1.交换变量的值</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> x<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h4 id="2-提取-JSON-数据"><a href="#2-提取-JSON-数据" class="headerlink" title="2.提取 JSON 数据"></a>2.提取 JSON 数据</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> jsonData <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>  <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">"OK"</span><span class="token punctuation">,</span>  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">867</span><span class="token punctuation">,</span> <span class="token number">5309</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> status<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token operator">=</span> jsonData<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> status<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 42, "OK", [867, 5309]</span></code></pre><h4 id="3-遍历Map"><a href="#3-遍历Map" class="headerlink" title="3.遍历Map"></a>3.遍历Map</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'first'</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'second'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">let</span> <span class="token punctuation">[</span>key <span class="token punctuation">,</span> value<span class="token punctuation">]</span>  <span class="token keyword">of</span> map<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">" is "</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//输出</span><span class="token comment">// first is hello</span><span class="token comment">// second is world</span><span class="token comment">//获取键名</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ...</span><span class="token punctuation">}</span><span class="token comment">//获取键值</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ...</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>编程题</title>
      <link href="/2022/07/01/bian-cheng-ti/"/>
      <url>/2022/07/01/bian-cheng-ti/</url>
      
        <content type="html"><![CDATA[<p>关联：<a href="https://hellozhj.github.io/2022/07/01/shu-ju-chu-li-chang-yong-fang-fa/">数据处理常用方法</a></p><h3 id="1-多表关联id查询"><a href="#1-多表关联id查询" class="headerlink" title="1.多表关联id查询"></a>1.多表关联id查询</h3><p><strong>目的：最终输出：[‘员工张三，29岁，工作于百度’, ‘员工李四，26岁，工作于阿里巴巴’,…]</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> employees <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token comment">// 员工名字</span>        <span class="token literal-property property">empId</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 员工id</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token comment">// 员工年龄</span>        <span class="token literal-property property">compId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 所属公司id</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span>        <span class="token literal-property property">empId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>        <span class="token literal-property property">compId</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"王五"</span><span class="token punctuation">,</span>        <span class="token literal-property property">empId</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>        <span class="token literal-property property">compId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小明"</span><span class="token punctuation">,</span>        <span class="token literal-property property">empId</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span>        <span class="token literal-property property">compId</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> companies <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"百度"</span><span class="token punctuation">,</span> <span class="token comment">// 公司名称</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 公司id</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"阿里巴巴"</span><span class="token punctuation">,</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"腾讯"</span><span class="token punctuation">,</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 目的：最终输出：['员工张三，29岁，工作于百度', '员工李四，26岁，工作于阿里巴巴',...]</span><span class="token comment">// 1:封装一个根据公司的ID返回公司的名称的方法</span><span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">mid</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 2对包含公司名称的数组进行循环遍历</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> companies<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 3:将数组里面的ID和我传过去的ID值进行比较，两者一致 返回对应的公司名称</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">===</span> companies<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> companies<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 声明一个新数组；</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 4:循环遍历员工数组</span>employees<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 5:将每一项数据推入新数组</span>    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">员工</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">，</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁，工作于</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getName</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>compId<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 方法二：两次for循环，对比id，push到新数组</span></code></pre><h3 id="2-数组对象转二维数组"><a href="#2-数组对象转二维数组" class="headerlink" title="2.数组对象转二维数组"></a>2.数组对象转二维数组</h3><p><strong>目的： [[‘苹果’,’胡萝卜’, ‘花生’], [‘梨’, ‘西芹’, ‘坚果’]….]</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> basket <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span> <span class="token literal-property property">fruit</span><span class="token operator">:</span> <span class="token string">"苹果"</span><span class="token punctuation">,</span> <span class="token literal-property property">veg</span><span class="token operator">:</span> <span class="token string">"胡萝卜"</span><span class="token punctuation">,</span> <span class="token literal-property property">nut</span><span class="token operator">:</span> <span class="token string">"花生"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">fruit</span><span class="token operator">:</span> <span class="token string">"梨"</span><span class="token punctuation">,</span> <span class="token literal-property property">veg</span><span class="token operator">:</span> <span class="token string">"西芹"</span><span class="token punctuation">,</span> <span class="token literal-property property">nut</span><span class="token operator">:</span> <span class="token string">"坚果"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">fruit</span><span class="token operator">:</span> <span class="token string">"香蕉"</span><span class="token punctuation">,</span> <span class="token literal-property property">veg</span><span class="token operator">:</span> <span class="token string">"土豆"</span><span class="token punctuation">,</span> <span class="token literal-property property">nut</span><span class="token operator">:</span> <span class="token string">"杏仁"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">fruit</span><span class="token operator">:</span> <span class="token string">"西瓜"</span><span class="token punctuation">,</span> <span class="token literal-property property">veg</span><span class="token operator">:</span> <span class="token string">"豆芽"</span><span class="token punctuation">,</span> <span class="token literal-property property">nut</span><span class="token operator">:</span> <span class="token string">"核桃"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 想要实现的是[[],[],...]</span><span class="token comment">// 底层代码</span><span class="token comment">// 声明数组</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 循环早餐数组</span>basket<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 符合需求,推入数组，建立二维数组</span>    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 将每一项遍历</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 将数组的每一项推入每个对象的值</span>        arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 快捷方法</span><span class="token comment">// .map() 方法创建一个新数组，这个新数组由原数组中的每个元素都调用一次提供的函数后的返回值组成。</span><span class="token comment">// Object.values()  将对象转数组</span><span class="token keyword">var</span> arr <span class="token operator">=</span> basket<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="3-数据统计"><a href="#3-数据统计" class="headerlink" title="3.数据统计"></a>3.数据统计</h3><p><strong>程序实现  对数据统计其出现的次数并  按出现次数  进行排序，[1, 4, 2, 1, 3, 2, 1, 4] 作为参数（参数可变）传入js方法中，控制台输出如下结果</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token number">1</span> 出现了 <span class="token number">3</span> 次<span class="token number">2</span> 出现了 <span class="token number">2</span> 次<span class="token number">4</span> 出现了 <span class="token number">2</span> 次<span class="token number">3</span> 出现了 <span class="token number">1</span> 次</code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 思路：1：封装一个返回数组的方法</span><span class="token keyword">function</span> <span class="token function">getArr</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> total</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 因为需要返回数组，先声明一个数组</span>    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 需要total个数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 取随机数推入空数组</span>        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> arr<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 声明一个数组 </span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token function">getArr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将计数功能封装</span><span class="token keyword">function</span> <span class="token function">countArr</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 利用对象的属性不重复的特性, 声明一个空对象，目的：是找到属性的次数</span>    <span class="token comment">/*            期望数据类型：利用对象里面的key值不可以重复实现这个计数                1：3                2：2            ...            */</span>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">// 遍历数组 </span>    arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 判断对象的每一个值是否为空，为空就赋值为1  不为空就+1</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">// 排序是数组的方法 声明一个新数组</span>    <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 对象的属性和值装填完成  可以遍历对象  k是属性  值是次数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 打印基本的功能</span>        <span class="token comment">// console.log(`${k} 出现了 ${obj[k]} 次`);</span>        <span class="token comment">// 将对象的每个键值对推进数组；</span>        newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">num</span><span class="token operator">:</span> k<span class="token punctuation">,</span> <span class="token keyword">const</span><span class="token operator">:</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token comment">/*                [                    {num:1,count:3}                    {num:1,count:3}                    ....                ]                   */</span>    <span class="token punctuation">}</span>    <span class="token comment">// 对新数组进行排序 降序</span>    newArr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 比较的const属性的值 降序</span>        <span class="token keyword">return</span> b<span class="token punctuation">.</span>const <span class="token operator">-</span> a<span class="token punctuation">.</span>const<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">// 对新数组进行遍历</span>    newArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>num<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 出现了 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>const<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 次</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">countArr</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span></code></pre><h3 id="4-实现二维数组-行转列"><a href="#4-实现二维数组-行转列" class="headerlink" title="4.实现二维数组 行转列"></a>4.实现二维数组 行转列</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token string">"前端"</span><span class="token punctuation">,</span> <span class="token string">"3人"</span><span class="token punctuation">,</span> <span class="token string">"8-15k"</span><span class="token punctuation">,</span> <span class="token string">"本科"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token string">"后端"</span><span class="token punctuation">,</span> <span class="token string">"5人"</span><span class="token punctuation">,</span> <span class="token string">"10-25k"</span><span class="token punctuation">,</span> <span class="token string">"研究生"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token string">"UI"</span><span class="token punctuation">,</span> <span class="token string">"2人"</span><span class="token punctuation">,</span> <span class="token string">"9-11k"</span><span class="token punctuation">,</span> <span class="token string">"大专"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token string">"ETL工程师"</span><span class="token punctuation">,</span> <span class="token string">"10人"</span><span class="token punctuation">,</span> <span class="token string">"6-12k"</span><span class="token punctuation">,</span> <span class="token string">"大专"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 转换 =&gt;</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token string">"前端"</span><span class="token punctuation">,</span> <span class="token string">"后端"</span><span class="token punctuation">,</span> <span class="token string">"UI"</span><span class="token punctuation">,</span> <span class="token string">"ETL工程师"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token string">"3人"</span><span class="token punctuation">,</span> <span class="token string">"5人"</span><span class="token punctuation">,</span> <span class="token string">"2人"</span><span class="token punctuation">,</span> <span class="token string">"10人"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token string">"8-15k"</span><span class="token punctuation">,</span> <span class="token string">"10-25k"</span><span class="token punctuation">,</span> <span class="token string">"9-11k"</span><span class="token punctuation">,</span> <span class="token string">"6-12k"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token string">"本科"</span><span class="token punctuation">,</span> <span class="token string">"研究生"</span><span class="token punctuation">,</span> <span class="token string">"大专"</span><span class="token punctuation">,</span> <span class="token string">"大专"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//  实现二维数组 行转列</span><span class="token comment">// 思路：将数组第一行的第一项拿出来arr[0][0]，第二行的第一项拿出来arr[1][0]，推入一个新的数组里面当行数</span><span class="token comment">// arr[i][j] = arr[j][i]</span><span class="token comment">// 期望的数据类型：</span><span class="token comment">// [</span><span class="token comment">//     [],</span><span class="token comment">//     [],</span><span class="token comment">//     [],</span><span class="token comment">//     []</span><span class="token comment">// ]</span><span class="token comment">// 声明一个空数组</span><span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 外循环 行  arr[0].length行的长度</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(arr[i]);</span>    <span class="token comment">// 2:将声明的一维数组push成二维数组</span>    newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 3:将新数组的行列  赋值成  旧数组的列行 arr.length列的长度</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        newArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">//4：完成了行转列</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="5-对象数组去重排序"><a href="#5-对象数组去重排序" class="headerlink" title="5.对象数组去重排序"></a>5.对象数组去重排序</h3><p><strong>对以下数据 取出每人(name)最大的销售量(sales)数据 ( 对sales排序对name去重)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2019</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">53</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">234</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小强"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2019</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">31</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小强"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">567</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小强"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">678</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小红"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2019</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">465</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小红"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">82</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小红"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">576</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小马"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2019</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">4567</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小马"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">832</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小马"</span><span class="token punctuation">,</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span> <span class="token literal-property property">sales</span><span class="token operator">:</span> <span class="token number">674</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 1:排序</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span>sales <span class="token operator">-</span> b<span class="token punctuation">.</span>sales<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// console.log(arr);</span><span class="token comment">// 2:去重   解题思路：利用对象key值不可重复的特点完成</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(item);</span>    <span class="token comment">/*            预期的数据类型            {                "小明":{ name: "小明", year: 2019, sales: 53 },                "小明":{ name: "小明", year: 2020, sales: 234 },                .....            }            */</span>    obj<span class="token punctuation">[</span>item<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// console.log(obj);</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="6-数组扁平化"><a href="#6-数组扁平化" class="headerlink" title="6.数组扁平化"></a>6.数组扁平化</h3><ul><li>数组扁平化:主要是方便操作数据的</li><li>实现思路:递归:遍历数组,对遍历完的数据项进行判断  是数组继续遍历  否则将数据项添加到新的数组中</li></ul><p><strong>法一</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 有一个数组[[1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14]]]], 10]，要求转化后打印出：[ 1, 2, 2, 3, 4, 5, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10 ]</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token number">10</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 数组扁平化</span><span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>法二</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// console.log(arr);</span><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">deep</span><span class="token punctuation">(</span><span class="token parameter">newArr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    newArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 判断item的类型</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">deep</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>  <span class="token comment">//递归的入口</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            arr1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>  <span class="token comment">//递归的出口</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">deep</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="7-字符串反转"><a href="#7-字符串反转" class="headerlink" title="7.字符串反转"></a>7.字符串反转</h3><p>  需求：请自定义一个函数，实现字符串的反转</p><p>  ‘abcdefg’ =&gt; ‘gfedcba’</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"请输入一串字符串可以实现反转"</span><span class="token punctuation">)</span><span class="token keyword">function</span> <span class="token function">reStr</span><span class="token punctuation">(</span><span class="token parameter">cStr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 字符串转成数组反转后再变字符串</span>    <span class="token keyword">return</span> cStr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">reStr</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="8-利用对象-key-不重复-数组对象，相同属性去重或相加"><a href="#8-利用对象-key-不重复-数组对象，相同属性去重或相加" class="headerlink" title="8.利用对象 key 不重复 (数组对象，相同属性去重或相加)"></a>8.利用对象 key 不重复 (数组对象，相同属性去重或相加)</h3><p>统计零食店所有零食的库存总数量</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> shopsLists <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"你好零食店-天河分店"</span><span class="token punctuation">,</span>        <span class="token literal-property property">areaid</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>        <span class="token literal-property property">provice</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>        <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">"广州市天河区"</span><span class="token punctuation">,</span>        <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>        <span class="token literal-property property">storage</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token comment">// 库存</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"饼干"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">106</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"牛奶"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">290</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"可乐"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">157</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"辣条"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">457</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"你好零食店-黄埔分店"</span><span class="token punctuation">,</span>        <span class="token literal-property property">areaid</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>        <span class="token literal-property property">provice</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>        <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">"广州市黄埔区"</span><span class="token punctuation">,</span>        <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>        <span class="token literal-property property">storage</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"饼干"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"瓜子"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">99</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"棒棒糖"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">75</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"面包"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">75</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"你好零食店-海珠分店"</span><span class="token punctuation">,</span>        <span class="token literal-property property">areaid</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>        <span class="token literal-property property">provice</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>        <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">"广州市海珠区"</span><span class="token punctuation">,</span>        <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>        <span class="token literal-property property">storage</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"可乐"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">155</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"牛奶"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">70</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"棒棒糖"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">41</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"面包"</span><span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">317</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 转换 =&gt;</span><span class="token comment">// [{id: 44, name: '可乐', count: 312}, {id: 90, name: '面包', count: 392}.........]</span></code></pre><p><strong>法1：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//思路：可以用对象 key 不重复</span><span class="token comment">// 声明一个空对象</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>shopsLists<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 拿到每一项的零食</span>    item<span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>item<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 对象.num +上重复项的num</span>            obj<span class="token punctuation">[</span>item<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>num <span class="token operator">+=</span> item<span class="token punctuation">.</span>num<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token comment">// 可乐: {id: 44, name: '可乐', num: 312}</span>            <span class="token comment">// ...</span>            obj<span class="token punctuation">[</span>item<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// console.log(obj);</span><span class="token comment">// 新建一个数组</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 对obj进行循环遍历</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将对象的值取出，合成数组</span><span class="token comment">// console.log(Object.values(obj));</span></code></pre><p><strong>法2：利用了findIndex()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 声明一个数组</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 将每一个商店的商品全部拿出来，存进数组里面</span>shopsLists<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    item<span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// console.log(arr);</span><span class="token comment">/*     达到的效果是：    arr = [    {id: 23, name: '饼干', num: 106},    {id: 26, name: '牛奶', num: 290},    {id: 44, name: '可乐', num: 157},    {id: 80, name: '辣条', num: 457},    {id: 23, name: '饼干', num: 30},    {id: 55, name: '瓜子', num: 99},    {id: 45, name: '棒棒糖', num: 75},    {id: 90, name: '面包', num: 75},    {id: 44, name: '可乐', num: 155},    {id: 26, name: '牛奶', num: 70},    {id: 45, name: '棒棒糖', num: 41},    {id: 90, name: '面包', num: 317}    ]    */</span><span class="token comment">// 进行深拷贝，为了不改变原数组</span><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 声明一个空数组存结果</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 声明空对象</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 遍历数组     去重 值相加</span>arr1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// findIndex(fn)返回 数组中  第一个  匹配fn函数中条件的  索引, 没有则返回-1</span>    <span class="token keyword">const</span> res <span class="token operator">=</span> newArr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">ele</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 当检测到id名相同时候，返回对应ele的索引</span>        <span class="token keyword">return</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> ele<span class="token punctuation">.</span>id<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 新数组有的</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 将原有的 ele.num + 重复的num</span>        newArr<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">.</span>num <span class="token operator">=</span> newArr<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">.</span>num <span class="token operator">+</span> item<span class="token punctuation">.</span>num<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">// 新数组没有零食对象的，就推进新数组里面</span>        newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出新数组</span><span class="token comment">// console.log(newArr);</span></code></pre><h3 id="9-数组对象删除不符合条件的对象"><a href="#9-数组对象删除不符合条件的对象" class="headerlink" title="9.数组对象删除不符合条件的对象"></a>9.数组对象删除不符合条件的对象</h3><p><strong>剔除不及格的学生,得到一个新的学生数组</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">groupname</span><span class="token operator">:</span> <span class="token string">"小组1"</span><span class="token punctuation">,</span>        <span class="token literal-property property">students</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张小娴"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"李小宏"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">70</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"吴小说"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"五小加"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">99</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">groupname</span><span class="token operator">:</span> <span class="token string">"小组2"</span><span class="token punctuation">,</span>        <span class="token literal-property property">students</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"问小世"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"萨小斯"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"权小韦"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"离小天"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">55</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">groupname</span><span class="token operator">:</span> <span class="token string">"小组3"</span><span class="token punctuation">,</span>        <span class="token literal-property property">students</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"世小想"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">70</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"邓小睿"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">78</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"沃小考"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"沙小酱"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">59</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 转换 =&gt;</span><span class="token comment">/* let newArr = [                  {                    id: 1,                    groupname: "小组1",                    students: [                      { id: 1, name: "张小娴", score: 90 },                      { id: 2, name: "李小宏", score: 70 },                      { id: 4, name: "五小加", score: 99 },                    ],                  },                  {                    id: 1,                    groupname: "小组2",                    students: [                      { id: 5, name: "问小世", score: 60 },                      { id: 7, name: "权小韦", score: 80 },                    ],                  },                  {                    id: 1,                    groupname: "小组3",                    students: [                      { id: 9, name: "世小想", score: 70 },                      { id: 10, name: "邓小睿", score: 78 },                      { id: 11, name: "沃小考", score: 90 },                    ],                  },                ]; */</span></code></pre><p><strong>法1</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 将学生数组里面 分数不及格的删除</span>            arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>法2</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 声明一个新的学生数组</span><span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// item 为每一个小组对象</span>arr1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// item 为每一个 学生对象   过滤学生对象中的不及格 返回及格学生的数组</span>    newArr <span class="token operator">=</span> item<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> item<span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">// 将每一个小组对象中的 学生数组换为新的学生数组</span>    item<span class="token punctuation">.</span>students <span class="token operator">=</span> newArr<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 输出</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="10-数组对象-挑选出符合条件的对象【重点理解掌握】"><a href="#10-数组对象-挑选出符合条件的对象【重点理解掌握】" class="headerlink" title="10.数组对象 挑选出符合条件的对象【重点理解掌握】"></a>10.数组对象 挑选出符合条件的对象【重点理解掌握】</h3><p>根据数组挑选出每个小组留下来的学生信息</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">groupname</span><span class="token operator">:</span> <span class="token string">"小组1"</span><span class="token punctuation">,</span>        <span class="token literal-property property">students</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张小四"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"李小宏"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">70</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"吴小说"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"五小加"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">99</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>        <span class="token literal-property property">groupname</span><span class="token operator">:</span> <span class="token string">"小组2"</span><span class="token punctuation">,</span>        <span class="token literal-property property">students</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"问小世"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"萨小斯"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"权小韦"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"离小天"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">55</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>        <span class="token literal-property property">groupname</span><span class="token operator">:</span> <span class="token string">"小组3"</span><span class="token punctuation">,</span>        <span class="token literal-property property">students</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"世小想"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">70</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"邓小睿"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">78</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"沃小考"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"沙小酱"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">59</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 转换 =&gt;</span><span class="token comment">/* let newArr = [          {            id: 1,            groupname: "小组1",            students: [              { id: 1, name: "张小四", score: 90 },              { id: 3, name: "吴小说", score: 40 },              { id: 4, name: "五小加", score: 99 },            ],          },          {            id: 2,            groupname: "小组2",            students: [              { id: 5, name: "问小世", score: 60 },              { id: 6, name: "萨小斯", score: 50 },            ],          },          {            id: 3,            groupname: "小组3",            students: [{ id: 11, name: "沃小考", score: 90 }],          },        ]; */</span></code></pre><p><strong>法1</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 新建一个数组</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr2<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 每一个学生对象</span>    arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 遍历数组</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">===</span> item<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 将 对应的 学生id 对象推入数组</span>                arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">// 第一种方法：将 arr数组深拷贝 将值拷贝到新数组后，再将自身清空</span>    <span class="token comment">// arr2[i].students.splice(0, arr2[i].students.length);</span>    <span class="token comment">// arr2[i].students = JSON.parse(JSON.stringify(arr));</span>    <span class="token comment">// arr.splice(0, arr.length);</span>    <span class="token comment">// console.log(arr2[i].students);</span>    <span class="token comment">// 第二种方法：清除 arr中堆内存的旧数据 将删除的数据推入学生数组中</span>    arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>students <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// console.log(arr2[i].students);</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>法二</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 通过id 拿到对应的学生对象</span><span class="token keyword">function</span> <span class="token function">getStu</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr2<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>students<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>students<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token operator">==</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>students<span class="token punctuation">[</span>j<span class="token punctuation">]</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// console.log(getStu(9));</span><span class="token comment">// 将对应id的学生对象取出来，放进一个新的数组 newStu 中</span><span class="token keyword">var</span> newStu <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token function">getStu</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/**   * 判断每个学生对象是否存在于 newStu 中   * 如果存在 放回存在的学生对象   * 替换原 students 数组  */</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr2<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    newArr <span class="token operator">=</span> item<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 如果在选中的学生对象数组中 有对应的学生对象，就将对应的对象返回给 newArr 数组</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>newStu<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> item<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">// 将新数组 newArr 替换原先的学生数组</span>    item<span class="token punctuation">.</span>students <span class="token operator">=</span> newArr<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="11-根据序号排序"><a href="#11-根据序号排序" class="headerlink" title="11.根据序号排序"></a>11.根据序号排序</h3><pre class="language-js" data-language="js"><code class="language-js">需求：假设有如下字符串“<span class="token constant">A12</span>”，其中“<span class="token constant">A</span>”表示数据类型（<span class="token constant">A</span><span class="token operator">-</span><span class="token constant">Z</span>），“<span class="token number">12</span>”表示数据序号（<span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span>）。现在需要对一组数据 先按照  数据序号 再按照  <span class="token function">数据类型</span><span class="token punctuation">(</span>字母<span class="token punctuation">)</span>进行排序。例如：<span class="token punctuation">[</span><span class="token string">"B3"</span><span class="token punctuation">,</span><span class="token string">"D2"</span><span class="token punctuation">,</span><span class="token string">"F1"</span><span class="token punctuation">,</span><span class="token string">"A9"</span><span class="token punctuation">,</span><span class="token string">"D12"</span><span class="token punctuation">,</span><span class="token string">"A2"</span><span class="token punctuation">,</span><span class="token string">"C1"</span><span class="token punctuation">,</span><span class="token string">"Z0"</span><span class="token punctuation">,</span><span class="token string">"B1"</span><span class="token punctuation">]</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span><span class="token string">"Z0"</span><span class="token punctuation">,</span><span class="token string">"B1"</span><span class="token punctuation">,</span><span class="token string">"C1"</span><span class="token punctuation">,</span><span class="token string">"F1"</span><span class="token punctuation">,</span><span class="token string">"A2"</span><span class="token punctuation">,</span><span class="token string">"D2"</span><span class="token punctuation">,</span><span class="token string">"B3"</span><span class="token punctuation">,</span><span class="token string">"A9"</span><span class="token punctuation">,</span><span class="token string">"D12"</span><span class="token punctuation">]</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 思路：先对首字母排序，再对数字排序</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"B3"</span><span class="token punctuation">,</span> <span class="token string">"D2"</span><span class="token punctuation">,</span> <span class="token string">"F1"</span><span class="token punctuation">,</span> <span class="token string">"A9"</span><span class="token punctuation">,</span> <span class="token string">"D12"</span><span class="token punctuation">,</span> <span class="token string">"A2"</span><span class="token punctuation">,</span> <span class="token string">"C1"</span><span class="token punctuation">,</span> <span class="token string">"Z0"</span><span class="token punctuation">,</span> <span class="token string">"B1"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 首字母排序</span>numArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 数组排序</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// slice() 数组截取,从索引1开始到最后</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> b<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numArr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="12-乱序的数组对象排序，子归类到对应父"><a href="#12-乱序的数组对象排序，子归类到对应父" class="headerlink" title="12.乱序的数组对象排序，子归类到对应父"></a>12.乱序的数组对象排序，子归类到对应父</h3><blockquote><p>1.先进行排序</p><p>2.利用findIndex找到符合条件的第一项的索引</p><p>3.索引父级push子级别</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">res<span class="token punctuation">.</span>menus<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>hidden <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>level <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 父亲</span>            result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                <span class="token operator">...</span>el<span class="token punctuation">,</span>                <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token comment">// 排序的作用：其实跑到这个逻辑的时候，result里面已经把父亲都添加完了</span>            <span class="token comment">// 孩子</span>            <span class="token keyword">let</span> parentIndex <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                <span class="token comment">// 父级的id等于孩子的parentId</span>                <span class="token keyword">return</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> el<span class="token punctuation">.</span>parentId<span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>parentIndex <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                result<span class="token punctuation">[</span>parentIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="13-乱序的数组对象排序，子归类到对应父"><a href="#13-乱序的数组对象排序，子归类到对应父" class="headerlink" title="13.乱序的数组对象排序，子归类到对应父"></a>13.乱序的数组对象排序，子归类到对应父</h3><blockquote><p>嵌套菜单</p></blockquote><p>这是不知道顶级菜单的id情况下。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// parentId 为-1为第一节点 ,其他的 都为parentId   所在数据的子类  </span><span class="token keyword">function</span> <span class="token function">getTreeData</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// 最后的结果</span>    <span class="token keyword">var</span> treeData<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> map<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>        item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token operator">=</span>item<span class="token punctuation">.</span>classifierName<span class="token punctuation">;</span>        <span class="token comment">// {root: {id: 'root', classifierName: 'root', level: '0', orderNumber: '1', parentId: '-1', …},}</span>        map<span class="token punctuation">[</span>item<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token operator">=</span>item<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">// console.log(map);</span>    list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 每一项的parentId，是否存在对应map对象的键名</span>        <span class="token keyword">var</span> parent <span class="token operator">=</span> map<span class="token punctuation">[</span>item<span class="token punctuation">.</span>parentId<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// 没有没有对应的parentId,说明是顶级的</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 有的给到children数组</span>            <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">(</span> parent<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            treeData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> treeData<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>同样是嵌套路由：知道顶级菜单的情况下</p><pre class="language-ts" data-language="ts"><code class="language-ts"><span class="token function">genNewMenus</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(state);</span>    <span class="token comment">// extends约束  in:映射（循环）for(let key in obj)</span>    <span class="token comment">// type Record&lt;K extends string | number | symbol, T&gt; = { [P in K]: T; }</span>    <span class="token keyword">const</span> newMenus<span class="token operator">:</span> Recordable<span class="token operator">&lt;</span>MenusType<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">// {7: {children: [{子菜单}, {子菜单}]}}</span>    state<span class="token punctuation">.</span>menus<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>menu<span class="token punctuation">.</span>parentId <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            newMenus<span class="token punctuation">[</span>menu<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token operator">...</span>menu<span class="token punctuation">,</span>                children<span class="token operator">:</span> newMenus<span class="token punctuation">[</span>menu<span class="token punctuation">.</span>parentId<span class="token punctuation">]</span><span class="token operator">?.</span>children <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token comment">// 子菜单所对应的父的id</span>            newMenus<span class="token punctuation">[</span>menu<span class="token punctuation">.</span>parentId<span class="token punctuation">]</span> <span class="token operator">??=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> MenusType<span class="token punctuation">;</span>            newMenus<span class="token punctuation">[</span>menu<span class="token punctuation">.</span>parentId<span class="token punctuation">]</span><span class="token punctuation">.</span>children <span class="token operator">??=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            newMenus<span class="token punctuation">[</span>menu<span class="token punctuation">.</span>parentId<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> newMenus<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript-高级</title>
      <link href="/2022/06/30/javascript-gao-ji/"/>
      <url>/2022/06/30/javascript-gao-ji/</url>
      
        <content type="html"><![CDATA[<h3 id="ES6-新特性"><a href="#ES6-新特性" class="headerlink" title="ES6 新特性"></a>ES6 新特性</h3><p><img src="/2022/06/30/javascript-gao-ji/es6%E6%96%B0%E7%89%B9%E6%80%A7.jpg" alt="es6新特性"></p><h3 id="声明变量的关键字区别：var与let-的区别"><a href="#声明变量的关键字区别：var与let-的区别" class="headerlink" title="声明变量的关键字区别：var与let 的区别"></a>声明变量的关键字区别：var与let 的区别</h3><p><strong>ES5 声明变量关键字：var</strong></p><ol><li><p>可以先使用后声明  var   有预解析</p><pre class="language-js" data-language="js"><code class="language-js">a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> a<span class="token punctuation">;</span></code></pre></li><li><p>可以重复声明</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>在for循环中使用对全局变量造成的污染问题</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(i);</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5</span></code></pre></li><li><p>作用域：全局和函数   var  没有块级作用域</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>     <span class="token comment">// 全局变量</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment">//10</span></code></pre></li></ol><p>**ES6 声明变量的关键字：let  **</p><ol><li><p>不可以先使用后声明   Cannot access ‘a’ before initialization</p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></code></pre></li><li><p>不可以重复声明   let 没有预解析</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></code></pre></li><li><p>不会在for循环中使用对全局变量造成污染问题</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(i);</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//i is not defined</span></code></pre></li><li><p>{}就是块级作用域</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//a is not defined</span></code></pre></li></ol><h3 id="let-与-var-对比案例"><a href="#let-与-var-对比案例" class="headerlink" title="let 与 var 对比案例"></a>let 与 var 对比案例</h3><p>页面有5个按钮，点击每一个按钮打印对应的索引</p><p><strong>ES5 原生</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>btns<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 存索引(标签属性)</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"myIndex"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 存索引(对象属性)</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>myIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 事件的绑定是异步，点击的时候for循环早就已经执行完毕，此时的i永远变成了5</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"myIndex"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>ES6</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// {i=0 btns[0]     0}      形成原因就是块级作用域 i=0 的 i 和 i=1 的 i 不是同一个变量</span>    <span class="token comment">// {i=1 btns[1]     1}</span>    <span class="token comment">// {i=2 btns[2]     2}</span>    <span class="token comment">// {i=3 btns[4]     0}</span>    <span class="token comment">// {i=4 btns[4]     4}</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="const-关键字"><a href="#const-关键字" class="headerlink" title="const 关键字"></a>const 关键字</h3><ol><li><p>const关键字特点  声明常量的关键字   <strong>恒常不变</strong>；   let声明变量 <strong>可以改变的量</strong></p></li><li><p>不能只声明不赋值(约定俗成的)；</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token constant">DATA</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>值不能修改</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token constant">DATA</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token constant">DATA</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>有<strong>块级作用域</strong>  没有预解析</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token constant">DATA</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><strong>引用类型的引用地址</strong>不可以修改  <strong>值是可以修改的</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token constant">ARR</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token constant">ARR</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token constant">ARR</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token constant">ARR</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">ARR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//可以修改:因为引用地址没变过，改的是值</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token constant">ARR</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token constant">ARR</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>  <span class="token comment">//报错   一旦赋值(引用地址)不能修改  因为赋值的又是一个数组(引用地址)</span><span class="token constant">ARR</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span>   <span class="token constant">ARR</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token constant">ARR</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">ARR</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><h3 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h3><p><strong>ES5字符拼接</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"二狗"</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"大家好，我叫"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">",我今年："</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">"岁了。"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>ES6 模板字符串</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"狗蛋"</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">大家好，我叫：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,我今年：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁了。</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="解构"><a href="#解构" class="headerlink" title="解构"></a>解构</h2><p><strong>解构：从数组或对象里面提取出来值,赋值给变量</strong></p><h3 id="对象的解构赋值"><a href="#对象的解构赋值" class="headerlink" title="对象的解构赋值{}"></a>对象的解构赋值{}</h3><p><strong>ES5写法</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"二狗"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">}</span><span class="token keyword">var</span> name <span class="token operator">=</span> obj<span class="token punctuation">.</span>name<span class="token punctuation">;</span><span class="token keyword">var</span> age <span class="token operator">=</span> obj<span class="token punctuation">.</span>age<span class="token punctuation">;</span><span class="token keyword">var</span> gender <span class="token operator">=</span> obj<span class="token punctuation">.</span>gender<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>ES6写法✍</strong></p><p>  <strong>= 左边是变量</strong></p><p>​    {}解构语法  如果变量名和对象里面的key值一样，就会将对象中key对应的value值赋值给对应的变量。</p><p>  <strong>=  右边是对象</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"狗蛋"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"女"</span><span class="token punctuation">,</span>    <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃螺狮粉"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">//完全解构</span><span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> eat <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>   <span class="token comment">//解构</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> eat<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//部分解构(进行重命名)    结构之后重命名let{对象对应的key:重命名之后的变量名} = obj</span><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> oldAge <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//报错</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>oldAge<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">eat</span><span class="token operator">:</span> chi <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span><span class="token function">chi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eat<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>数学对象的随机数方法</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 解构：内置对象的方法</span><span class="token comment">// let{变量} = Math内置对象{random:fn}</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">random</span><span class="token operator">:</span> rd <span class="token punctuation">}</span> <span class="token operator">=</span> Math<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">rd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 如果变量名和对象里面的key值一样，就会将对象中key对应的value值赋值给对应的变量。 </span><span class="token keyword">let</span> <span class="token punctuation">{</span> random <span class="token punctuation">}</span> <span class="token operator">=</span> Math<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>对象的解构也可以指定默认值 , 默认值生效的条件是 , 对象的属性值严格等于undefined</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">;</span> x <span class="token comment">// x值为1</span><span class="token keyword">let</span> <span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span> <span class="token punctuation">;</span> x <span class="token comment">// x值为4</span><span class="token keyword">let</span> <span class="token punctuation">{</span>y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">}</span>y <span class="token comment">//y值为2</span><span class="token keyword">let</span> <span class="token punctuation">{</span>z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>z <span class="token comment">//z值为null </span></code></pre><p><strong>如果要把已经声明的变量用于解构赋值 , 必须要用小括号将解构的代码包括起来</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//错误示范</span><span class="token keyword">let</span> x <span class="token punctuation">;</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token punctuation">;</span><span class="token comment">//正确示范</span><span class="token keyword">let</span> x <span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><p><strong>函数参数的解构赋值</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 8]</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 0]</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 0]</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 0]</span></code></pre><h3 id="数组的解构"><a href="#数组的解构" class="headerlink" title="数组的解构"></a>数组的解构</h3><p>  数组的解构语法是<code>[]</code>  因为数组是一系列有序的数据集合按照索引进行变量值的分配</p><p><strong>对象是无序的键值对集合</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"二狗"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>数组是一系列有序的数据集合</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//完全解构</span><span class="token keyword">let</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2 1 3</span><span class="token comment">//部分解构 解构后面的值  需要使用 , 占位</span><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> a<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span><span class="token comment">//如果需要解构索引较大的值 就使用es5   arr[99]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span><span class="token comment">//复合解构</span><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token punctuation">[</span>d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1 2 3 4 5 6</span></code></pre><h3 id="字符串解构"><a href="#字符串解构" class="headerlink" title="字符串解构"></a>字符串解构</h3><p><strong>伪数组:</strong> 拥有数组特征(长度和索引) ，但是不能用数组的方法，对伪数组进行解构使用数组的解构语法</p><p><strong>特点：</strong>有长度   可以用索引代表某一个字符</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> h3<span class="token punctuation">]</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"h3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h3<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>需求：交换两个变量的值</strong></p><p><strong>ES5</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">// 加一个第三者</span><span class="token keyword">var</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span>  <span class="token comment">//c=20</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span>  <span class="token comment">//b = 10</span>a <span class="token operator">=</span> c<span class="token punctuation">;</span> <span class="token comment">//a = 20</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>ES6</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="对象的简化方法"><a href="#对象的简化方法" class="headerlink" title="对象的简化方法"></a>对象的简化方法</h3><p><strong>对象的解构</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">}</span><span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>对象的简化写法</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> gender <span class="token operator">=</span> <span class="token string">"男"</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// ES5 写法</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> name<span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> age<span class="token punctuation">,</span>    <span class="token literal-property property">gender</span><span class="token operator">:</span> gender<span class="token punctuation">,</span>    <span class="token literal-property property">fn</span><span class="token operator">:</span>fn<span class="token punctuation">}</span><span class="token comment">// ES6 对象的简化写法</span><span class="token comment">// 语法：如果对象的key和变量名同名，可以只写key不写value</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> fn <span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="函数参数的默认值"><a href="#函数参数的默认值" class="headerlink" title="函数参数的默认值"></a>函数参数的默认值</h3><p><strong>形参实参不对等</strong> </p><p><strong>ES5</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 设置默认值(es5里采用的这种短路语法)</span>    a <span class="token operator">=</span> a <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    b <span class="token operator">=</span> b <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    c <span class="token operator">=</span> c <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    d <span class="token operator">=</span> d <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c <span class="token operator">+</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></code></pre><p><strong>ES6</strong></p><p>ES6设置函数参数的默认值(直接在形参位置通过赋值的形式设置函数参数的默认值)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c <span class="token operator">+</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></code></pre><p><strong>函数参数的解构赋值</strong></p><p>函数的参数是一个<strong>数组</strong>     需要用到的数据的解构语法</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token comment">// fn()里面的参数就相当于 let [a,b,c] = arr</span><span class="token comment">// 函数的参数是一个数组     需要用到的数据的解构语法</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">fn</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span></code></pre><p>函数的参数是一个<strong>对象</strong>   这个时候需要用对象的解构语法</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>    <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token comment">// 函数的参数是一个对象     这个时候需要用对象的解构语法</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">fn</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span></code></pre><p><strong>解构赋值指定参数的默认值</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// ajax  的语法</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><ul><li>ajaxFn()   相当于let{url,type,data,success} = undefined 报错</li><li>解决报错问题  在形参位置给整体设置一个默认值{}   得到了 undefined undefined undefined undefined</li><li>解决undefined问题  给每一个参数都设置一个默认值</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ajaxFn</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">,</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function-variable function">success</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(obj);</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> type<span class="token punctuation">,</span> data<span class="token punctuation">,</span> success<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">ajaxFn</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"xxx.xxx.com"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="rest参数"><a href="#rest参数" class="headerlink" title="rest参数"></a>rest参数</h3><ol><li>rest 参数   特点1：得到一个数组   重点是…不是rest  …是语法   rest只是一个形参</li><li>特点2：剩余参数</li><li>特点3：rest 参数只能放在最后位子</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></code></pre><p>页面有一个函数   根据传入不同个数的参数来计算对应的和</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    rest<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>        sum <span class="token operator">+=</span> item<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>arguments</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到一个数据集合(伪数组)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></code></pre><h3 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h3><ul><li>快速的展开数组或者对象</li><li>拓展运算符和rest参数有点像,但不是一回事</li><li>拓展运算符(数组合并)不改变原数组</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">,</span> <span class="token operator">...</span>arr1<span class="token punctuation">]</span><span class="token punctuation">;</span>newArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>在操作对象的时候…是用来合并对象的  有重复的key 后面的会覆盖前面的</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"二狗"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"狗蛋"</span><span class="token punctuation">,</span>    <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">"cdscds@163.com"</span><span class="token punctuation">}</span><span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj1<span class="token punctuation">,</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//相当于你企图打印name:"二狗"  console.log(name:"二狗")</span></code></pre><p><strong>Object.assign()</strong></p><ul><li>合并对象是将后面的对象合拼到<strong>第一个对象</strong>里面了   </li><li>会改变第一个的对象，如果不想改变可以给第一个给<strong>空对象</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> newObj1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj1<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//展开对象</span></code></pre><h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p><strong>主要用来处理回调函数：定时器 setTimeoutforEach()</strong></p><p><strong>(参数)   =&gt;  {函数体}</strong></p><p>声明一个普通函数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>    这种声明函数的形式   没人用的</code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>    <span class="token comment">//常见声明函数</span></code></pre><p><strong>箭头函数声明</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p><strong>遍历数组</strong></p><p>常见</p><pre class="language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>箭头函数</p><pre class="language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>箭头函数的特点</strong></p><ol><li>函数体只有<strong>一句话</strong>可以省略{}不写</li><li>函数体只返回<strong>一句话</strong>可以省略 return 不写</li><li>只有<strong>一个参</strong>数可以省略()不写</li><li><strong>多参数多行</strong>代码不能省略</li><li>函数体返回<strong>一个对象</strong>  不能省略</li><li>不能使用<strong>arguments</strong>,  但是可以使用<strong>rest参数</strong></li></ol><p>验证：</p><ol><li><p>创建一个无参无返的箭头函数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"fn1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>创建一个无参有返回值的箭头函数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">"fn2"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>创建一个有参无返回值的箭头函数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn3</span> <span class="token operator">=</span> <span class="token parameter">a</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fn3</span><span class="token punctuation">(</span><span class="token string">"fn3"</span><span class="token punctuation">)</span></code></pre></li><li><p>创建一个多参数，有返回值的箭头函数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn4</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> sum <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>    <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn4</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>函数体返回一个对象{x:a,y:b}</p><p>对象是有{}  函数体也有{}</p><p><code>{key:val}</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn5</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> a<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> b <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn5</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>不能使用arguments,可以使用rest参数</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn6</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">fn6</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><p>扩展：遍历数组</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="this-指向问题"><a href="#this-指向问题" class="headerlink" title="this 指向问题"></a>this 指向问题</h3><ul><li><strong>全局</strong>打印this  指向window  <em>一般人没人这么用</em></li></ul><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><strong>函数内部</strong>打印this   在<strong>全局调用</strong> this 指向window</li></ul><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li><strong>定时器</strong>  里面打印this   this指向window</li></ul><pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//对象.方法     this指向该对象</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span></code></pre><ul><li><strong>对象</strong>.方法  的调用   this 指向该对象</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"绿茶"</span><span class="token punctuation">,</span>    <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"红茶"</span>   <span class="token comment">//在window上  var声明挂在window上，let声明挂在js</span>obj<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>箭头函数中的this指向  <strong>this 指向外层作用域</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"绿茶"</span><span class="token punctuation">,</span>    <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// 5: 箭头函数中的this指向  this 指向外层作用域</span>    <span class="token function-variable function">sleep</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"这个是箭头函数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// this不是指向window  指向外层作用域</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"红茶"</span>obj<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li>对象.方法的调用  this指向事件源</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> h3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"h3"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>h3<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>this 指向的案例讲解</strong></p><p>需求；页面有一个盒子，点击盒子3s之后盒子变大</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token important">!important</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p>1.找对象</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>2.绑定事件</p><p><strong>ES5</strong></p><pre class="language-js" data-language="js"><code class="language-js">box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(this);</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">"300px"</span><span class="token punctuation">;</span>    <span class="token comment">// 此处存了this(this指向box， 赋值给that， that指向box)</span>    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        that<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">"300px"</span>        <span class="token comment">// 此处的this指向的是window对象</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p><strong>ES6</strong></p><p><strong>箭头函数</strong></p><pre class="language-js" data-language="js"><code class="language-js">box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// this 指向box</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">"300px"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 印证了箭头函数中的this指向外层作用域</span></code></pre><h3 id="回调地狱"><a href="#回调地狱" class="headerlink" title="回调地狱"></a>回调地狱</h3><ul><li>让ajax顺序执行</li><li>需求：发送完第一个ajax，收到响应之后发送第二个ajax</li><li>收到第二个ajax的响应之后发送第三个ajax</li></ul><pre class="language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/index/banners/travel"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/strategies/themes"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/travels/query"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">333</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>回调地狱(不好维护)</strong></p><pre class="language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/index/banners/travel"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/strategies/themes"</span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>            <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/travels/query"</span><span class="token punctuation">,</span>                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>                    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">333</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="Promise-语法"><a href="#Promise-语法" class="headerlink" title="Promise  语法"></a>Promise  语法</h3><p><strong>属于内置对象 Promise  Object  Data  用new来实例化</strong></p><p>Promise里面接收一个回调函数  回调函数接受两个参数   <code>resolve</code>   <code>reject</code></p><p><strong><code>promise</code> 本身 —同步</strong></p><p>promis对象本身是同步</p><p><strong><code>promise</code>的回调函数<code>then</code> —异步</strong></p><p>promise.then()—回调函数中的内容是异步函数</p><p><strong>一旦状态改变，就不会再变</strong></p><p>Promise 只能 resolve/reject 一次，剩下的调用都会被忽略。</p><p><strong>resolve  reject  这两个参数也是方法</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 调用resolve  函数fulfilled</span>    <span class="token comment">// resolve();   </span>    <span class="token comment">// 调用reject()  函数rejected</span>    <span class="token comment">// reject()</span>    <span class="token comment">/* 状态1：pending 初始状态(悬而未决的) 既不是成功也不是失败状态2：resolve();   方法调用  状态由pending改变为：fulfilled状态表示完成    成功状态3：reject();    方法调用，状态由pending改变为：rejected状态表示拒绝     失败    */</span>        <span class="token comment">// 特点1：状态一旦发生改变就会凝固，状态不会再改变</span>    <span class="token comment">// 特点2：状态不受外界的影响</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>Promise.resolve</code> 方法的参数如果是一个原始值，或者是一个不具有 <code>then</code> 方法的对象，则 <code>Promise.resolve</code> 方法返回一个新的 <code>Promise</code> 对象，状态为<code>resolved</code>，<code>Promise.resolve</code> 方法的参数，会同时传给回调函数。</p><p><code>then</code> 方法接受的参数是函数，而如果传递的并非是一个函数，它实际上会将其解释为 <code>then(null)</code>，这就会导致前一个 <code>Promise</code> 的结果会穿透下面。</p><h3 id="模仿-ajax-成功与失败"><a href="#模仿-ajax-成功与失败" class="headerlink" title="模仿 ajax 成功与失败"></a>模仿 ajax 成功与失败</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 实例一个Promise对象</span><span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">//表示ajax的成功和失败  true表示成功 调用resolve()  false表示失败   调用reject()</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"成功的数据"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"失败的异常"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// .then()  接受成功的数据  也就是resolve方法调用</span>p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>     <span class="token comment">//.catch()  接受reject抛出的异常</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="使用Promise解决回调地狱"><a href="#使用Promise解决回调地狱" class="headerlink" title="使用Promise解决回调地狱"></a>使用Promise解决回调地狱</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//声明第一个实例</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 实现思路：ajax成功的回调方法里面调用了resolve</span>    <span class="token comment">// 失败的回调里面调用reject</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/index/banners/travel"</span><span class="token punctuation">,</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>        <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 实现思路：ajax成功的回调方法里面调用了resolve</span>    <span class="token comment">// 失败的回调里面调用reject</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/strategies/themes"</span><span class="token punctuation">,</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>        <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// 实现思路：ajax成功的回调方法里面调用了resolve</span>    <span class="token comment">// 失败的回调里面调用reject</span>    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://520it.com:8809/travels/query"</span><span class="token punctuation">,</span>        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>        <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">333</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>接受是同步的(那个先接收到,就先输出那个)</strong></p><pre class="language-js" data-language="js"><code class="language-js">p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ess</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ess<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>p2<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ess</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ess<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>p3<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ess</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ess<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>链式编程 (p1先输出，然后才到p2…p3)</strong></p><pre class="language-js" data-language="js"><code class="language-js">p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p2<span class="token punctuation">;</span>  <span class="token comment">//在下次.then的时候会作用在上一个返回的对象</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p3<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="关于return的解释说明"><a href="#关于return的解释说明" class="headerlink" title="关于return的解释说明"></a>关于return的解释说明</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token punctuation">;</span>   <span class="token comment">//返回值    是返回给调用者</span><span class="token punctuation">}</span><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> b1 <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> b1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="简化多重请求"><a href="#简化多重请求" class="headerlink" title="简化多重请求"></a>简化多重请求</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 简化多重请求函数封装</span><span class="token keyword">function</span> <span class="token function">getAjaxValue</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            url<span class="token punctuation">,</span>            type<span class="token punctuation">,</span>            <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">resolve</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 外面调用方法</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token function">getAjaxValue</span><span class="token punctuation">(</span><span class="token string">"http://520it.com:8809/index/banners/travel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token function">getAjaxValue</span><span class="token punctuation">(</span><span class="token string">"http://520it.com:8809/strategies/themes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token function">getAjaxValue</span><span class="token punctuation">(</span><span class="token string">"http://520it.com:8809/travels/query"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 链式编程</span>p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p2<span class="token punctuation">;</span><span class="token comment">//在下次.then的时候会作用在上一个返回的对象</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p3<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="Promise的方法"><a href="#Promise的方法" class="headerlink" title="Promise的方法"></a>Promise的方法</h3><p><strong>all方法全部成功返回成功，有一个失败，就只抛出失败的异常</strong></p><p><strong>race 不管成功与失败，谁快返回谁</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 使用定时器来替换ajax请求 因为ajax请求时间不可控</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"成功1"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"成功2"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"失败3"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// all方法全部成功返回成功，有一个失败，就只抛出失败的异常</span><span class="token comment">// let p = Promise.all([p1, p2, p3]);</span><span class="token comment">// race 不管成功与失败，谁快返回谁</span><span class="token keyword">let</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="真正的异步代码同步化"><a href="#真正的异步代码同步化" class="headerlink" title="真正的异步代码同步化"></a>真正的异步代码同步化</h3><ul><li>async 写在function前面表示这个声明函数是异步函数</li><li>await 写在函数体内表示等待</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"成功1"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"成功2"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"成功3"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 需求 p1执行之后执行p2再执行p3</span>    <span class="token keyword">let</span> res1 <span class="token operator">=</span> <span class="token keyword">await</span> p1<span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> res2 <span class="token operator">=</span> <span class="token keyword">await</span> p2<span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> res3 <span class="token operator">=</span> <span class="token keyword">await</span> p3<span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res3<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">getVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="创建对象的四种方法"><a href="#创建对象的四种方法" class="headerlink" title="创建对象的四种方法"></a>创建对象的四种方法</h3><p><strong>1：字面量  创建对象(数据安全问题)丢在对象中不容易被篡改</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"欧阳三"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"李四"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>2.内置的函数创建对象，内置的构造函数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>obj1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"南宫四"</span><span class="token punctuation">;</span>obj1<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>缺点：</strong>如果要创建很多对象，此时就需要执行很多次以上代码(函数封装)</p><p><strong>3.工厂函数创建对象(优势：可以批量创建对象，弊端：没有办法区分类型)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//对象的创建</span>    obj<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token comment">//给创建好的对象添加成员</span>    obj<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token comment">// 将创建好的对象返回</span>    <span class="token keyword">return</span> obj<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>4.自定义构造函数创建对象</strong></p><ol><li>自定构造方法的<strong>首字母是大写</strong>的(约定俗成 Object Promise Data)</li><li>不需要创建对象，会自动创建(自动创建的对象是this)</li><li>不需要返回，会自动返回</li><li>必须搭配new关键字来使用(否则不能创建对象)</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1：自定构造方法的首字母是大写的(约定俗成 Object Promise Data)</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 2:不需要创建对象，会自动创建(自动创建的对象是this)</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age    <span class="token comment">// 3:不需要返回，会自动返回</span><span class="token punctuation">}</span><span class="token comment">// 4：必须搭配new关键字来使用(否则不能创建对象)</span><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2：自定义构造方法创建狗类函数</span><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 生成一个实例(实例化)</span><span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">"旺财"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">"小白"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d1<span class="token punctuation">,</span> d2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="new-关键字的作用"><a href="#new-关键字的作用" class="headerlink" title="new 关键字的作用"></a>new 关键字的作用</h3><ol><li>不需要创建对象会自动创建，伪代码：var obj = new Object();</li><li>将实例对象的 __proto__指向 原型对象  伪：obj.<strong>proto</strong> = Person.prototype</li><li>将创建好的空对象赋值给了this  伪：this = obj;</li><li>给this添加成员   this.xxx = xxx</li><li>返回this</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 创建一个构造方法</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 1:不需要创建对象会自动创建，伪代码：var obj = new Object();</span>    <span class="token comment">// 2:将实例对象的 __proto__指向 原型对象  伪：obj.__proto__ = Person.prototype</span>    <span class="token comment">// 3:将创建好的空对象赋值给了this   伪：this = obj;</span>    <span class="token comment">// 4:给this添加成员     this.xxx = xxx</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token comment">// 5:返回this</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// new 关键字完成以上五步操作</span><span class="token comment">// p1 是一种实例对象    new是实例化操作 往下再讲就会将p1这种类型的称为：实例对象</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span></code></pre><h3 id="获取实例对象类型"><a href="#获取实例对象类型" class="headerlink" title="获取实例对象类型"></a>获取实例对象类型</h3><p><strong>构造器  constructor其实就是构造方法</strong></p><p><strong>使用 constructor 属性可以判断实例对象的类型</strong></p><p><strong>语法：通过  实例对象.constructor 获取到对应的类型</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 实例对象</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 返回的是整个构造方法</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>关键字   instanceof</strong></p><p><strong>语法  实例对象A instanceof B构造方法</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d1 <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//true</span></code></pre><h3 id="this指向"><a href="#this指向" class="headerlink" title="this指向"></a>this指向</h3><ol><li>全局打印this  指向window</li><li>全局函数在全局调用里面打印this   指向window</li><li>定时器中打印this  指向window  对象.方法的调用 window.setTimeout(()=&gt;{})</li><li>对象.方法的调用,指向该对象(符合获取dom绑定事件的，字面量创建对象也是符合这个规则)</li><li>箭头函数this指向外层作用域</li><li>构造函数里面的this指向(指向新的实例对象)</li><li>构造函数里面的方法符合第四条规则  指向事件源</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log("爱吃螺狮粉超辣味");</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 实例化</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"王五"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">)</span><span class="token punctuation">;</span>p3<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="自定义构造函数存在的问题"><a href="#自定义构造函数存在的问题" class="headerlink" title="自定义构造函数存在的问题"></a>自定义构造函数存在的问题</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 创建一个自定义构造方法</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// ****实例成员</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token comment">// 可以是方法</span>    <span class="token comment">// this.eat = function () {</span>    <span class="token comment">//     console.log(this.name + "爱吃螺蛳粉盖浇饭");</span>    <span class="token comment">// }</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>eat <span class="token operator">=</span> eat<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 全局函数 (将引用的地址改为同一个)</span><span class="token keyword">function</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"爱吃螺蛳粉盖浇饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 实例化</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>eat <span class="token operator">===</span> p2<span class="token punctuation">.</span>eat<span class="token punctuation">)</span><span class="token punctuation">;</span>p1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p2<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="原型对象"><a href="#原型对象" class="headerlink" title="原型对象"></a>原型对象</h3><p><strong>原型对象：在构造方法创建的时候，与生俱来就会产生一个与之对应的原型对象</strong></p><p><strong>目的：存一些方法和属性，提供给实例对象使用的</strong></p><p><strong>怎么找到这个原型对象并给它添加属性和方法(成员)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//--------------三者中的妈妈</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 1:获取原型对象Person.prototype</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 给原型对象添加方法</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//-------------------三者中的爸爸</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃臭豆腐盖浇螺蛳粉"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 原型对象的功能：给实例对象共享方法和属性使用</span><span class="token comment">// 实例化</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"田七"</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//----------------------他俩的崽</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// p1.eat()</span></code></pre><h3 id="面向对象中的核心概念"><a href="#面向对象中的核心概念" class="headerlink" title="面向对象中的核心概念"></a>面向对象中的核心概念</h3><p><strong>静态成员—只能是给构造方法使用</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 面向对象中的核心概念     构造器(构造方法)</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 声明的属性和方法     叫做***********实例成员 存在构造方法</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 给构造方法添加*********************静态成员  只能是构造方法使用</span>Person<span class="token punctuation">.</span>show <span class="token operator">=</span> <span class="token string">"123"</span><span class="token punctuation">;</span><span class="token comment">// 原型对象添加方法*********************原型成员    原型对象    提供给实例对象使用</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃臭豆腐盖浇螺蛳粉"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 实例化*******************实例对象</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"王八"</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// console.log(p1);</span><span class="token comment">// console.dir(Object);</span><span class="token comment">// console.log(p1.show);</span><span class="token comment">// console.log(Person.show);</span>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span></code></pre><h3 id="实例对象访问到原型对象的方法"><a href="#实例对象访问到原型对象的方法" class="headerlink" title="实例对象访问到原型对象的方法"></a>实例对象访问到原型对象的方法</h3><p><strong>__proto__属性   实例对象.<strong>proto</strong>  获取到原型对象</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> <strong>静态成员  Object 静态成员可以返回对应实例的原型对象</strong></p><p><strong>语法：<code>Object.getPrototypeOf(实例对象)</code></strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">&amp;&amp;</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// console.log(p1.__proto__ === Person.prototype === Person.prototype === Object.getPrototypeOf(p1));   //不要这么写</span></code></pre><img src="/2022/06/30/javascript-gao-ji/面向对象一家人.jpg" style="zoom: 67%;"><h3 id="设置原型遇到的问题"><a href="#设置原型遇到的问题" class="headerlink" title="设置原型遇到的问题"></a>设置原型遇到的问题</h3><ul><li>结论1：原型链的访问规则是顺着__proto__这条线往上找，直到找到为止</li><li>结论2：原型链的访问规则符合就近原则，爸爸身上有的就不往上找了，自己身上有的就不着爸爸了</li><li>结论3：实在找不到放回undefined  如：<code>console.log(p1.aa);</code></li></ul><p><strong>添加原型成员(设置原型在实例之前)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃木桶饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"上课睡着了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>如果不想一个一个添加原型成员，可以添加一个字面量对象</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token comment">// 将原型对象的 constructor 指向构造方法</span>    <span class="token literal-property property">constructor</span><span class="token operator">:</span> Person<span class="token punctuation">,</span>    <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃木桶饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">sleep</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"上课睡着了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>实例化</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"欧阳三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"南宫四"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>属于Object类型  指向Person就对了</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>设置原型在实例之后(可行)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃木桶饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"上课睡着了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>对象添加原型成员(不可)</strong></p><p><strong>解释：默认构造方法只要创建  原型就会有一个默认的引用地址指向   我下面一行代码的意思是改变原型默认的指向   现在指向了一个字面对象的引用地址</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃木桶饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"上课睡着了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>p1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p2<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="原型相关属性学习"><a href="#原型相关属性学习" class="headerlink" title="原型相关属性学习"></a>原型相关属性学习</h3><p><strong>遍历对象(可以遍历实例成员和原型成员)</strong></p><p><strong>枚举性</strong>  for…in… 只能遍历可枚举的属性   对象<strong>本身有的不可枚举</strong>   所有就不能遍历出来</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> p1<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 构造方法</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 设置原型对象</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃冒菜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"说：生前无需多睡，死后必定长眠！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 实例化</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"西门五"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"上官六"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="in-关键字"><a href="#in-关键字" class="headerlink" title="in 关键字"></a>in 关键字</h4><ul><li>概念：判断属性是否存在实例对象或原型对象上</li><li>语法：属性名 in 实例对象</li><li>注意点：in关建字和枚举性没有关系</li></ul><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"name"</span> <span class="token keyword">in</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"eat"</span> <span class="token keyword">in</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"constructor"</span> <span class="token keyword">in</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"eat"</span> <span class="token keyword">in</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></code></pre><h4 id="hasOwnProperty-NaN"><a href="#hasOwnProperty-NaN" class="headerlink" title="hasOwnProperty"></a>hasOwnProperty</h4><ul><li><strong>语法：实例对象.hasOwnProperty(“属性名”);</strong></li><li><strong>方法是检测是否是实例成员</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"eat"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//false</span></code></pre><p>eg:需求:获取实例对象中的原型成员</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> p1<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="isPrototypeOf方法"><a href="#isPrototypeOf方法" class="headerlink" title="isPrototypeOf方法"></a>isPrototypeOf方法</h4><ul><li><strong>语法:原型对象.isPrototypeOf(实例对象)</strong></li><li><strong>定义：检测原型对象是否在实例对象的原型链上</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//true</span></code></pre><h4 id="instanceof关键字"><a href="#instanceof关键字" class="headerlink" title="instanceof关键字"></a>instanceof关键字</h4><ul><li><strong>定义   判断实例对象是不是这个构造方法类—–粗浅的认识</strong></li><li><strong>定义：判断这个构造方法(对应的原型对象)在不在实例对象的原型原型链上</strong></li><li><strong>语句：A 实例对象 instanceof B 构造方法</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="tab栏封装-重点"><a href="#tab栏封装-重点" class="headerlink" title="tab栏封装(重点)"></a>tab栏封装(重点)</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Tab栏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">    <span class="token selector">div,    span,    ul,    li,    h2,    body</span> <span class="token punctuation">{</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token selector">.all</span> <span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 440px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 80px auto<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.all h2</span> <span class="token punctuation">{</span>    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.all h2 span</span> <span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #CCC<span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.all h2 span.current</span> <span class="token punctuation">{</span>    <span class="token property">background</span><span class="token punctuation">:</span> #FF3366<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.all ul li</span> <span class="token punctuation">{</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #FF3366<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.all ul li.current</span> <span class="token punctuation">{</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>current<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>新闻<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>娱乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>游戏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>财经<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>current<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>新闻<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>娱乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>游戏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>财经<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab2<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>current<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>欧阳三<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>南宫四<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>西门五<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>令狐六<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>current<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>欧阳三<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>南宫四<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>西门五<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>令狐六<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">            <span class="token comment">// *********************************************原生</span>            <span class="token comment">// var tab = document.getElementById("tab1");</span>            <span class="token comment">// var spans = tab.getElementsByTagName("span");</span>            <span class="token comment">// var lis = tab.getElementsByTagName("li")</span>            <span class="token comment">// console.log(tab, spans, lis);</span>            <span class="token comment">// ********************************************函数封装</span>            <span class="token comment">// 封装排他</span>            <span class="token comment">// function paita() {</span>            <span class="token comment">//     for (var j = 0; j &lt; spans.length; j++) {</span>            <span class="token comment">//         spans[j].className = "";</span>            <span class="token comment">//         lis[j].className = ""</span>            <span class="token comment">//     }</span>            <span class="token comment">// }</span>            <span class="token comment">// // 封装点击</span>            <span class="token comment">// function dianji() {</span>            <span class="token comment">//     paita();</span>            <span class="token comment">//     this.className = "current";</span>            <span class="token comment">//     lis[this.index].className = "current"</span>            <span class="token comment">// }</span>            <span class="token comment">// // 封装初始</span>            <span class="token comment">// function initFn() {</span>            <span class="token comment">//     for (var i = 0; i &lt; spans.length; i++) {</span>            <span class="token comment">//         spans[i].index = i;</span>            <span class="token comment">//         spans[i].onclick = dianji;</span>            <span class="token comment">//     }</span>            <span class="token comment">// }</span>            <span class="token comment">// // 调用的初始函数</span>            <span class="token comment">// initFn();</span>            <span class="token comment">// **********************************************面向对象</span>            <span class="token comment">// var that = null;</span>            <span class="token comment">// 先把全局声明的放进构造函数里面</span>            <span class="token keyword">function</span> <span class="token function">Tab</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// that指向新建的实例对象</span>            <span class="token comment">// that = this;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>tab <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>spans <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tab<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>lis <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tab<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token comment">// 把方法函数放进原型对象里面</span><span class="token comment">// 排他-原型对象的方法</span><span class="token class-name">Tab</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">paita</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>spans<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>spans<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">""</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 点击-原型对象的方法</span><span class="token class-name">Tab</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">dianji</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 原本this指向的是点击的span that指向的是新建的实例对象，实例对象调用排他方法</span>    <span class="token comment">// 因为方法是存在原型方法里面，需要实例对象来调用</span>    <span class="token comment">// that.paita();</span>    <span class="token comment">// 获取到了当前span上的that属性，而that属性指向当前实例对象</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>that<span class="token punctuation">.</span><span class="token function">paita</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// this指向的是点击的span</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"current"</span><span class="token punctuation">;</span>    <span class="token comment">// that指向的是新建的实例对象</span>    <span class="token comment">// that.lis[this.index].className = "current"</span>    <span class="token comment">// 目的是要通过实例对象去调用方法</span>    <span class="token comment">// 因为在构造函数中需要的是实例对象.lis  而点击函数中的this指向事件源(点击的span)   点击的span的that属性(实例对象).lis</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>that<span class="token punctuation">.</span>lis<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"current"</span><span class="token punctuation">}</span><span class="token comment">// 初始化函数-原型对象的方法</span><span class="token class-name">Tab</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">initFn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>spans<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>spans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token comment">// 每个span自定义一个that属性指向实例化对象</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>spans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token comment">// this.dianji----实例对象.方法</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>spans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dianji<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 实例化</span><span class="token keyword">let</span> tab1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab</span><span class="token punctuation">(</span><span class="token string">"tab1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> tab2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tab</span><span class="token punctuation">(</span><span class="token string">"tab2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 实例对象调用初始化函数</span>tab1<span class="token punctuation">.</span><span class="token function">initFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>tab2<span class="token punctuation">.</span><span class="token function">initFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*        1:先将全局变量放在构造方法里面当作是实例成员        2:将全局的函数放在原型对象里面当作原型成员        3:实例化之后打印一下实例对象看一看        */</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><h4 id="混入式继承"><a href="#混入式继承" class="headerlink" title="混入式继承"></a>混入式继承</h4><p><strong>实现原理：将一个对象里面的内容拷贝到另一个空对象中</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 混入式继承(拷贝继承)     了解</span><span class="token comment">// 实现原理：将一个对象里面的内容拷贝到另一个空对象中</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"二狗"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token literal-property property">wife</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"狗蛋"</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">50</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 开始拷贝了 **** 遍历对象的语法需要掌握</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    obj1<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// obj1.wife = obj.wife</span><span class="token punctuation">}</span>obj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span>   <span class="token comment">//第一层数据不会被改变</span>obj<span class="token punctuation">.</span>wife<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>  <span class="token comment">//第二层的数据会被改变  会造成数据安全的问题：一改全改</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="原型式继承"><a href="#原型式继承" class="headerlink" title="原型式继承"></a>原型式继承</h4><p><strong>实现思路  让子类的原型指向父类的原型</strong></p><p><strong>弊端：造成原型链结构的混乱  并且只能继承原型成员  不能继承实例成员</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 原型式继承(了解)</span><span class="token comment">// 弊端：造成原型链结构的混乱  并且只能继承原型成员  不能继承实例成员</span><span class="token comment">// 父类</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 原型</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"爱吃饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 子类</span><span class="token keyword">function</span> <span class="token function">Stu</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 实现思路  让子类的原型指向父类的原型</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getScore</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"的分数是："</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 子类的实例</span><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stu</span><span class="token punctuation">(</span><span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>s1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s1<span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="/2022/06/30/javascript-gao-ji/image-20220620231016091-1656346761754.png" alt="image-20220620231016091"></p><h4 id="原型链继承-掌握"><a href="#原型链继承-掌握" class="headerlink" title="原型链继承(掌握)"></a>原型链继承(掌握)</h4><p><strong>实现思路：通过画图 想要实现原型链完整的结构  采用原型链继承方式</strong></p><p><strong>实现这种方式需要  子类.prototype = new 父类()</strong></p><p><strong>弊端：只能继承原型成员  不能继承实例成员</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 原型</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"爱吃饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 子类</span><span class="token keyword">function</span> <span class="token function">Stu</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//子类.prototype = new 父类()</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getScore</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"的分数是："</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 子类的实例</span><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stu</span><span class="token punctuation">(</span><span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>s1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="/2022/06/30/javascript-gao-ji/image-20220620231118407-1656346761753.png" alt="image-20220620231118407"></p><h3 id="借用构造函数继承"><a href="#借用构造函数继承" class="headerlink" title="借用构造函数继承"></a>借用构造函数继承</h3><p><strong>父类</strong></p><ul><li>借用构造方法实现原理：就是在子类中调用父类的方法</li><li>在子类里面添加一个成员(方法),指向父类的构造方法</li><li>弊端：只能继承实例成员，不能继承原型成员</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 原型</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"道歉！！！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 子类</span><span class="token keyword">function</span> <span class="token function">Stu</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 直接调用 属于全局函数，windon</span>    <span class="token comment">// Person(name, age);</span>    <span class="token comment">// 将整个函数体指向过来</span>    <span class="token comment">// this.fn = Person;</span>    <span class="token comment">// 调用子类的fn</span>    <span class="token comment">// this.fn(name, age);</span>    <span class="token comment">// 用完之后记得销毁掉</span>    <span class="token comment">// delete this.fn;</span>    <span class="token comment">// apply 方法</span>    <span class="token comment">// Person.apply(this, [name, age]);</span>    <span class="token comment">// call 方法</span>    <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>    <span class="token comment">// 子类的成员</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 实例化</span><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stu</span><span class="token punctuation">(</span><span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// s1.say();    报错是正确的，只能继承实例成员，不能继承原型成员</span></code></pre><h3 id="call方法和apply方法的基本使用"><a href="#call方法和apply方法的基本使用" class="headerlink" title="call方法和apply方法的基本使用"></a>call方法和apply方法的基本使用</h3><p><strong>call方法和apply方法的基本使用(就是借用的方法)</strong></p><p><code>1：拥有者   2：借用者</code></p><pre class="language-js" data-language="js"><code class="language-js">语法：  <span class="token function">拥有者是函数</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>借用者是对象<span class="token punctuation">)</span>共同特点：借用之后自动调用<span class="token keyword">this</span>指向借用者对象区别：传参方式不同  call是<span class="token punctuation">,</span>分割     apply 是数组形式传参</code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"二狗"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"发财"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">sum</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"狗蛋"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">}</span>obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//二狗发财</span>obj<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>   <span class="token comment">//3</span>obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>  <span class="token comment">//狗蛋发财</span>obj<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>    <span class="token comment">//3</span>obj<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//3</span>obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>     <span class="token comment">//狗蛋发财</span></code></pre><h3 id="组合继承"><a href="#组合继承" class="headerlink" title="组合继承"></a>组合继承</h3><p><strong>借用构造方法继承实现了实例成员的继承 + 原型链继承实现了原型成员的继承 = 组合继承(已经和完美的继承方式)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 先写一个父类</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 原型</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"说句对不起"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 子类</span><span class="token keyword">function</span> <span class="token function">Stu</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 借用构造方法进行继承</span>    <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">}</span><span class="token comment">// 原型链继承的原理：子类的原型指向父类的实例</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将子类的类型指回自己</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Stu<span class="token punctuation">;</span><span class="token comment">// 子类原型</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃木桶饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 实例化</span><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stu</span><span class="token punctuation">(</span><span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>s1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//s1的类型是什么</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="寄生式组合式继承"><a href="#寄生式组合式继承" class="headerlink" title="寄生式组合式继承"></a>寄生式组合式继承</h4><p>  (拓展)</p><p>  实现原理：</p><ol><li>声明一个空类(没有实例成员)</li><li>让空类的原型指向父类的原型</li><li>子类的原型指向空类的实例</li><li>空类销毁</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 先写一个父类</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 原型</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"说句对不起"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 子类</span><span class="token keyword">function</span> <span class="token function">Stu</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 借用构造方法进行继承</span>    <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">}</span></code></pre><p><strong>销毁(立即指向函数)</strong></p><pre class="language-js\" data-language="js\"><code class="language-js\">(function(形参){局部变量的生命周期  是从创建开始，到函数内最后一行代码执行完之后就结束了    结束之后内存就会回收局部变量(销毁)})(实参)</code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 1:声明一个空类</span>    <span class="token keyword">var</span> <span class="token function-variable function">Super</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">// 2:让空类的原型指向父类的原型</span>    <span class="token class-name">Super</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>    <span class="token comment">// 3:子类的原型指向空类的实例</span>    <span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 将子类的类型指回自己</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Stu<span class="token punctuation">;</span><span class="token comment">// 子类原型</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃木桶饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stu</span><span class="token punctuation">(</span><span class="token string">"小刚"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="绘制完整的原型链结构图"><a href="#绘制完整的原型链结构图" class="headerlink" title="绘制完整的原型链结构图"></a>绘制完整的原型链结构图</h3><p><strong>借用构造方法继承实现了实例成员的继承 +　原型链继承实现了原型成员的继承 = 组合继承(已经很完美的继承方式)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 先写一个父类</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 原型</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"说句对不起"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 子类</span><span class="token keyword">function</span> <span class="token function">Stu</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 借用构造方法进行继承</span>    <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">}</span><span class="token comment">// 原型链继承的原理 ：子类的原型指向父类的实例</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将子类的类型指回自己</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Stu<span class="token punctuation">;</span><span class="token comment">// 子类原型</span><span class="token class-name">Stu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"爱吃米桶饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 实例化</span><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stu</span><span class="token punctuation">(</span><span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1:将 Object.prototype 看做是一个实例对象</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//null</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment">// 2:将所有的函数看做是实例对象</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ƒ ()</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ƒ ()</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Stu<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ƒ ()</span><span class="token comment">// console.log(Array.__proto__);</span><span class="token comment">// console.log(Date.__proto__);</span><span class="token comment">// console.log(Number.__proto__);</span><span class="token comment">// console.log(Promise.__proto__);</span><span class="token comment">// console.log(fn.__proto__);</span><span class="token comment">// 3:将空函数看作是一个实例对象</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>   <span class="token comment">//function()</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 4：将大写的Function 看作是一个实例对象</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="/2022/06/30/javascript-gao-ji/%E5%8E%9F%E5%9E%8B%E9%93%BE%E8%B6%B3%E6%B5%B4%E5%9B%BE.jpg" alt="原型链足浴图"></p><h3 id="基本包装类型的使用"><a href="#基本包装类型的使用" class="headerlink" title="基本包装类型的使用"></a>基本包装类型的使用</h3><p>类型分类  基本类型 ：  string  number  boolean  null  undefined   —-栈内存</p><p>复杂类型 ：  object  Date  Array  Math……    —-堆存储(引用地址)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"字符串"</span><span class="token punctuation">;</span> 这行代码泻出来发生了几件事首先创建一个基本包装类型属性和方法都是基本包装类型在使用使用完之后就销毁自己</code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"字符串"</span><span class="token punctuation">;</span><span class="token comment">// console.log(str);</span><span class="token comment">// console.log(str.length);</span><span class="token comment">// console.dir(str);</span><span class="token comment">// console.log(str.split());</span><span class="token comment">// 基本包装类型     String  Number  Boolean</span><span class="token comment">// 通过构造方法去实例化一个对象</span><span class="token comment">// var str = new String("123");</span><span class="token comment">// var num = new Number(123);</span><span class="token comment">// var boo = new Boolean(true);</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> boo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> num<span class="token punctuation">,</span> boo<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="私有成员和特权方法"><a href="#私有成员和特权方法" class="headerlink" title="私有成员和特权方法"></a>私有成员和特权方法</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 私有成员和特权方法</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 私有成员(属性)</span>    <span class="token keyword">var</span> className <span class="token operator">=</span> <span class="token string">"H5前端班"</span>    <span class="token comment">// 私有成员(方法)</span>    <span class="token keyword">function</span> <span class="token function">showClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> className<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 特权方法</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"的班级是:"</span> <span class="token operator">+</span> <span class="token function">showClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 实例成员</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">}</span><span class="token comment">// 实例对象</span><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p1<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="Object成员"><a href="#Object成员" class="headerlink" title="Object成员"></a>Object成员</h3><p><strong>原型成员</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"一句话"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"阿三"</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>propertyIsEnumerable<span class="token comment">//检测实例成员是否可以枚举</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">propertyIsEnumerable</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">propertyIsEnumerable</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">propertyIsEnumerable</span><span class="token punctuation">(</span><span class="token string">"say"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">propertyIsEnumerable</span><span class="token punctuation">(</span><span class="token string">"say"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>toString转字符串</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//"abc"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//"123"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1100100</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//64</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//"true"</span></code></pre><p><strong>借用(能够返回对应数据的真实类型)</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>静态成员(检测是否是数组)</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>Array<span class="token punctuation">)</span></code></pre><h3 id="Object-静态成员"><a href="#Object-静态成员" class="headerlink" title="Object 静态成员"></a>Object 静态成员</h3><p><strong>09-Object静态成员assign对象合并，将方法中第二个及以后的对象合并到第一个对象中去</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">create创建对象</span><span class="token punctuation">(</span>参数必须得传<span class="token keyword">null</span>或者一个对象<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span></code></pre><p><strong>有一个很方便的方法：将对象的 value值 提出来转成数组</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//['张三', 20, '男']</span></code></pre><h3 id="class类的概念"><a href="#class类的概念" class="headerlink" title="class类的概念"></a>class类的概念</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> 类名<span class="token punctuation">{</span>    <span class="token comment">// 构造方法</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age    <span class="token punctuation">}</span>    <span class="token comment">// 原型成员</span>    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span>    <span class="token comment">// 静态成员</span>    <span class="token keyword">static</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>ES5</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"学习使我快乐"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 实例</span><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>类</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token comment">//   构造方法</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 原型成员</span>    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"爱说话"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 静态成员</span>    <span class="token keyword">static</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"静态成员"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>p1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p1<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//报错就对了</span></code></pre><h3 id="class-继承"><a href="#class-继承" class="headerlink" title="class 继承"></a>class 继承</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 父类</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token comment">// 构造函数</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 原型成员</span>    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"爱说话"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 静态成员</span>    <span class="token keyword">static</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"静态成员"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 子类 extends 父类</span><span class="token keyword">class</span> <span class="token class-name">Stu</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token comment">// 实现了原型链的继承</span>    <span class="token comment">// 构造方法</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// super这个方法实现了借用构造方法继承</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score    <span class="token punctuation">}</span>    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"爱吃木桶饭"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stu</span><span class="token punctuation">(</span><span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>s1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>s1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="异常捕获"><a href="#异常捕获" class="headerlink" title="异常捕获"></a>异常捕获</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 错误代码阻止了页面代码执行   逻辑错误   语法错误</span><span class="token keyword">try</span> <span class="token punctuation">{</span>    <span class="token comment">// 你感觉可能会报错</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> num <span class="token operator">!==</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 手动抛出异常</span>        <span class="token keyword">throw</span> <span class="token string">"err"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">try</span> <span class="token punctuation">{</span>    <span class="token comment">// 可能会出错</span>    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">===</span> <span class="token string">"err"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'本程序猿知道了，马上就改'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 开启严格模式</span><span class="token string">"use strict"</span><span class="token punctuation">;</span><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> </code></pre><h3 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h3><p><strong>立即执行函数： 即时函数  IIFE</strong></p><p><strong>语法：  (function(形参){函数体})(实参)</strong></p><ol><li>匿名函数</li><li>防止全局变量污染的问题</li><li>函数会立即执行</li><li>将全局变量私有化(将全局变量变成只能在函数内部使用)</li></ol><p><strong>需求：页面有5个按钮，点击按钮打印对应索引(使用es5完成)</strong></p><p><strong>原生：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// console.log(btns);</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log(this);</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>立即执行函数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 实现原理和let一样的</span>    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ii</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 此时的形参是局部变量</span>        btns<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ii<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p><strong>在函数内部返回一个函数的这种形式称之为闭包</strong></p><p><strong>特点：</strong></p><ol><li>生命周期：变量从创建到销毁的过程叫做变量的生命周期</li><li>打破作用域的限制(延长了局部变量的生命周期)</li><li>保护了私有变量不会容易被篡改</li><li>变量常驻内存，造成内存泄漏的问题(有争议的)</li></ol><p><strong>对比立即执行函数：闭包则是将局部变量拿到全局使用</strong></p><p>需求：想在外面访问那个a</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 1:放回</span>    <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// fn();</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//我只是用了a变量的值  并没有获取到a变量</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>闭包</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token comment">// 在函数内部返回一个函数的这种形式称之为闭包</span>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> a<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="eg-使用闭包解决打印索引"><a href="#eg-使用闭包解决打印索引" class="headerlink" title="eg:    使用闭包解决打印索引"></a>eg:    使用闭包解决打印索引</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 需求：页面有5个按钮，点击按钮打印对应的数组</span><span class="token keyword">var</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 闭包结构</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 立即执行函数：实现原理是 全局变量私有化</span><span class="token comment">// 闭包：私有变量拿到全局使用</span></code></pre><h4 id="eg-使用定时器打印-0-9"><a href="#eg-使用定时器打印-0-9" class="headerlink" title="eg: 使用定时器打印 0-9"></a>eg: 使用定时器打印 0-9</h4><p><strong>用立即执行函数，会立即执行，定时器时间失效</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(i);</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 用立即执行函数，会立即执行，定时器时间失效</span>        <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p><strong>定时器参数问题：1：回调函数  2：时间 3：给回调函数进行参数的传递的</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre><p><strong>使用闭包解决这个问题</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// function(j)   i为实参将传入匿名函数里面然后打印出来</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 闭包结构成功的解决了问题</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><ul><li>递归必须有出入口</li><li>入口：进入递归要解决的问题</li><li>出口：不满足条件需要返回</li><li>一定不会缺少 return 关键字</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    j<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">return</span> <span class="token string">"一句话"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>eg:阶乘</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 阶乘   5！= 5x4x3x2x1  4!=4x3x2x1</span><span class="token comment">// 分析：如果阶乘是一个方法fn：求n的阶乘    相当于 fn(n)*fn(n-1)</span><span class="token comment">/*    期许：n x (n-1) x (n-2) x....x2x1    边界：0!=1 1!=1 负数没有阶乘 n&lt;=1*/</span><span class="token keyword">function</span> <span class="token function">jiec</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// n * jiec(n-1)</span>    <span class="token comment">// debugger;</span>    <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">jiec</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">jiec</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><p>需求：就是将p1对象中的属性或者是方法拷贝到p2对象中。</p><p>我们首先想到是的for…in循环，将p1的属性拷贝一份到p2中：</p><p>缺点：对象内属性是引用数据类型的话，拷贝过来的就是引用地址，并没有实现真正的拷贝，依然同一份数据。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 浅拷贝： 只拷贝一层数据</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token literal-property property">fav</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"前端开发"</span><span class="token punctuation">,</span> <span class="token string">"后端开发"</span><span class="token punctuation">,</span> <span class="token string">"全栈开发"</span><span class="token punctuation">,</span> <span class="token string">"UI设计"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">wife</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"二狗"</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>        <span class="token literal-property property">fav</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"逛街"</span><span class="token punctuation">,</span> <span class="token string">"烫头"</span><span class="token punctuation">,</span> <span class="token string">"熬夜"</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 要有一个地方存拷贝的内容</span><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 使用 for...in 循环</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 得到的这个 obj[k] 判断它是不是复杂类型</span>    <span class="token comment">// typeof   object</span>    obj1<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">}</span>obj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>   <span class="token comment">//第一层数据不会受影响</span>obj<span class="token punctuation">.</span>wife<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">//第二层及以后层的数据会造成一改全改，影响了数据安全问题</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><p>所以要实现深拷贝，当我们发现属性对应的值是一个对象或数组的时候，应该将该对象或数组再拷贝一份，然后赋值给当前属性。</p><p>伪代码</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>    <span class="token literal-property property">obj1</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span>        <span class="token literal-property property">obj2</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"王五"</span><span class="token punctuation">,</span>            <span class="token literal-property property">ogj3</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"赵六"</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 声明一个空对象</span><span class="token keyword">var</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 做一个简单的判断</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">"object"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token comment">// obj[k]</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k1 <span class="token keyword">in</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// obj[k][k1]</span>            <span class="token keyword">var</span> o3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k2 <span class="token keyword">in</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>k1<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// obj[k][k1][k2]</span>                <span class="token keyword">var</span> o4 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k3 <span class="token keyword">in</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>k1<span class="token punctuation">]</span><span class="token punctuation">[</span>k2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>k1<span class="token punctuation">]</span><span class="token punctuation">[</span>k2<span class="token punctuation">]</span><span class="token punctuation">[</span>k3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="eg"><a href="#eg" class="headerlink" title="eg:"></a>eg:</h4><ol><li>浅拷贝拷贝基本数据类型</li><li>判断是否引用数据类型</li><li>递归调用，完成所有层次拷贝</li><li>判断value是数组还是对象</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token literal-property property">fav</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"前端开发"</span><span class="token punctuation">,</span> <span class="token string">"后端开发"</span><span class="token punctuation">,</span> <span class="token string">"全栈开发"</span><span class="token punctuation">,</span> <span class="token string">"UI设计"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token literal-property property">wife</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"二狗"</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>        <span class="token literal-property property">fav</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"逛街"</span><span class="token punctuation">,</span> <span class="token string">"烫头"</span><span class="token punctuation">,</span> <span class="token string">"熬夜"</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 得有一个地方存拷贝的内容</span><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 深拷贝   用递归实现  出口就是 浅拷贝(逻辑实现)</span><span class="token comment">/*    递归函数有两个参数  来源和目标    思路：进入函数对来源进行遍历，得到了数据项，对数据项进行判断  是复杂类型继续循环遍历(函数调用)  不是复杂类型的直接拷贝    */</span><span class="token keyword">function</span> <span class="token function">deep</span><span class="token punctuation">(</span><span class="token parameter">laiyuan<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(laiyuan, target);</span>    <span class="token comment">// 1：对来源进行循环遍历</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>k <span class="token keyword">in</span> laiyuan<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 2：筛选出来 k 内部的复杂类型</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> laiyuan<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">"object"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 3：laiyuan[k] 就是复杂类型(包含数组和对象)</span>            <span class="token comment">// 3.1:判断是数组还是对象</span>            <span class="token comment">// 方法一：if判断</span>            <span class="token comment">// if (Array.isArray(laiyuan[k])) {</span>            <span class="token comment">//     // console.log(k);</span>            <span class="token comment">//     target[k] = [];</span>            <span class="token comment">// } else {</span>            <span class="token comment">//     target[k] = {}</span>            <span class="token comment">// }</span>            <span class="token comment">// 方法二: 每一项 laiyuan[k] 借用Object的原型对象的toString方法来判断是否是真实数组</span>            target<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>laiyuan<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"[Object Array]"</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>            <span class="token comment">// 判断每一项是不是数组</span>            <span class="token comment">// target[k] = Array.isArray(laiyuan[k]) ? [] : {}</span>            <span class="token function">deep</span><span class="token punctuation">(</span>laiyuan<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            target<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> laiyuan<span class="token punctuation">[</span>k<span class="token punctuation">]</span>  <span class="token comment">//递归出口</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token function">deep</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>obj<span class="token punctuation">.</span>wife<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="排序方法"><a href="#排序方法" class="headerlink" title="排序方法"></a>排序方法</h3><p><code>sort()</code> 方法直接用，没有a,b参数 只能将<strong>个位数</strong>进行排序</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// sort 只能将个位数进行排序</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token comment">// return a - b //数组升序</span>    <span class="token comment">// return b - a    //数组降序</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// console.log(arr.sort());</span></code></pre><p><strong>数组去重</strong></p><p><strong>利用对象的特征，key不能重复</strong></p><pre class="language-js" data-language="js"><code class="language-js">obj<span class="token punctuation">.</span>name <span class="token operator">=</span> name  如果对象有这个key就是覆盖，没有就行添加</code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>new Set() 天然去重</strong></p><p><strong>Array.from() 转数组</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// new Set(天然去重)</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Array.from() 转数组</span><span class="token keyword">var</span> b <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>b<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>冒泡排序实现思路：<strong>相邻两个数进行比较，符合条件的 情况下  交换位置</strong></p><p>交换位置</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p><strong>eg：需求：对数组进行  降序排序</strong></p><p><strong>目标[9,6,5,4,3]</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 轮数 ------ 为什么是arr.length - 1   因为只有4轮</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(i);</span>    <span class="token comment">// 次数 -----  为什么是arr.length 因为每次都要比较到最后一个数字</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 判断 左边小于右边的话，两两交换位置</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 结构：左边是变量 右边是数组</span>            <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="/2022/06/30/javascript-gao-ji/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F-1656346792837.png" alt="冒泡排序"></p><h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p><strong>快速排序： 相对于冒泡减少了没必要的次数  也能达到排序的效果</strong></p><p>实现思路:</p><ul><li>找出数组的中间值，取出来，改变了原数组  </li><li>将已经改变之后的数组进行循环遍历和这个取出来的中间值进行比较，小于中间值的  都统一打包放在一个数组中(l),反之放在另外一个数组中(r)  [l  mid  r]最后将这些数组进行合并得到一个新的数组</li></ul><p><img src="/2022/06/30/javascript-gao-ji/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E6%B3%95-1656346792838.png" alt="快速排序法"></p><p>eg:</p><p>… 展开语法 </p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">quick</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mid<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token function">quick</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre><p><code>concat() </code>  方法用于合并两个或多个数组。此方法不会更改现有数组，而是返回一个新数组</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">function</span> <span class="token function">quick</span><span class="token punctuation">(</span><span class="token parameter">newArr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 出口</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>newArr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 拿到中间数</span>    <span class="token keyword">var</span> mid <span class="token operator">=</span> newArr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>newArr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// console.log(mid);</span>    <span class="token comment">// console.log(arr);</span>    <span class="token comment">// 对这个已经改变的数组进行循环遍历</span>    <span class="token keyword">let</span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    newArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token comment">// 1:每个数据项和中间值进行比较  小的放在l数组中    大的放在r数组中</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&lt;</span> mid<span class="token punctuation">)</span> <span class="token punctuation">{</span>            l<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            r<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment">// console.log(1, mid, r);</span>    <span class="token comment">// debugger</span>    <span class="token comment">// ... 展开语法 </span>    <span class="token comment">// return [...quick(1), mid, ...quick(r)]</span>    <span class="token comment">// concat() 方法用于合并两个或多个数组。此方法不会更改现有数组，而是返回一个新数组</span>    <span class="token keyword">return</span> <span class="token function">quick</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>mid<span class="token punctuation">,</span> <span class="token function">quick</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p><strong>eg:需求：随机获取10到999之间的100个整数，并且要从大到小排序，要求使用快速排序算法。</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1:随机获取10到999之间的100个整数</span><span class="token keyword">function</span> <span class="token function">randNum</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> total</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 声明一个空数组   存完值之后 最后返回它</span>    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 需要100个数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 取随机数</span>        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> arr<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token function">randNum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 进行快速排序</span><span class="token keyword">function</span> <span class="token function">quick</span><span class="token punctuation">(</span><span class="token parameter">newArr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 出口 如果递归的数组最后就剩下一个，就返回本身</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>newArr <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 取中间值</span>    <span class="token keyword">var</span> mid <span class="token operator">=</span> newArr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token punctuation">(</span>newArr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 遍历数组，如果比中间值大的就推入左边，否则推入右边</span>    newArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&gt;</span> mid<span class="token punctuation">)</span> <span class="token punctuation">{</span>            left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 展开左右数组后合并</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">quick</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> mid<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token function">quick</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">quick</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><p><strong>(有且只有一个实例对象)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token comment">// return "欧阳三"      //构造方法里面手动返回一个基本类型的值  不会影响返回对象</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"欧阳三"</span> <span class="token punctuation">}</span>   <span class="token comment">//手动返回一个复杂类型  会覆盖this</span><span class="token punctuation">}</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"张胜男"</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>实现思路：没有则实例化  有则直接返回</strong></p><p><strong>声明一个全局变量  来代表是否实例化过</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> aa <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token comment">//来表示实例对象</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>aa<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> aa<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        aa <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token operator">===</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h3><p><strong>观察者模式是对象间的一对多的关系   被观察者：是一(状态发生改变)subject  观察者observer: 是多(做出不同的反应)</strong></p><p><strong>有两类对象  被观察者   观察者</strong></p><p>eg:有两类对象  被观察者   观察者</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1：创建对象(被观察者)</span><span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>    <span class="token comment">// 2:构造方法</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token comment">// 状态     0:没有新房源  1:有新房源  2:再等等  </span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">// 3：群组(放客户)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>obs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 5:小姐姐通过微信</span>    <span class="token function">addWX</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>obs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 6:小姐姐状态改变(房源状态)</span>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> s<span class="token punctuation">;</span>        <span class="token comment">// 9：每一个客户都收到消息</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>obs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            item<span class="token punctuation">.</span><span class="token function">updateState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// 7:获取到状态</span>    <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 1:创建对象(观察者)</span><span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>    <span class="token comment">// 2:构造方法</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token comment">// sub 这个实例成员表示与被观察者建立联系</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>sub <span class="token operator">=</span> sub<span class="token punctuation">;</span> <span class="token comment">//this.sub 代表小姐姐实例对象</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>sub<span class="token punctuation">.</span><span class="token function">addWX</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//this.sub 代表小姐姐实例，调用本身的原型方法将客户实例对象当作参数传过去</span>        <span class="token comment">// 10：对状态值的解释说明</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>stateArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"没有新房了"</span><span class="token punctuation">,</span> <span class="token string">"有新房源"</span><span class="token punctuation">,</span> <span class="token string">"再等等吧"</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span>    <span class="token comment">// 8:客户收到信息进行状态更新</span>    <span class="token function">updateState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">收到了，</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sub<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">说:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>stateArr<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>sub<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 4:实例化(一个小姐姐，三个客户)</span><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token string">"小姐姐"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> o1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> o2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token string">"李四"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> o3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token string">"王五"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>s1<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o3<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="创建一个xhr对象"><a href="#创建一个xhr对象" class="headerlink" title="创建一个xhr对象"></a>创建一个xhr对象</h3><ol><li><p>ajax  XHR   XMLHttpRequest</p><p>XMLHttpRequest 内置构造方法</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><p>1:readyState  状态码 0~4</p><ul><li>0  表示初始化</li><li>1  开始发送</li><li>2  收到请求</li><li>3  开始响应</li><li>4  响应结束</li></ul><p>2：status http 状态码</p><pre class="language-css" data-language="css"><code class="language-css">200 表示请求成功302 Found：重定向304 Not Modified：已缓存400 Bad Request：客户端请求有语法错误，不能被服务器所理解403 Forbidden：服务器收到但拒绝服务404 Not Found：找不到资源405 表示请求类型的错误500 Internal Server Error：服务端错误503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复正常</code></pre><p>3：on ready state change 监听状态码改变的事件</p><p>4：responseText 响应结果：文本形式输出的</p><h3 id="发送一个Ajax"><a href="#发送一个Ajax" class="headerlink" title="发送一个Ajax"></a>发送一个Ajax</h3><p><strong>GET</strong></p><ol><li>创建xhr实例</li><li>找到实例对象原型链上的open方法(请求类型,请求url)</li><li>get请求类型  参数在url后面拼接传值</li><li>调用监听状态码的方法:onreadystatechange</li><li>输出响应结果(是一个对象  eval(了解即可))</li><li>手动发送</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 要确定的事情是 ：请求类型(get)和请求url(http://520it.com:8809/index/banners/travel)</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> ot <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> cp <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">// 1:创建xhr实例</span>    <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 2:找到实例对象原型链上的open方法(请求类型,请求url)</span>    <span class="token comment">// console.log(xhr);get请求类型  参数在url后面拼接传值</span>    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://520it.com:8809/travels/query?orderType=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ot<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;currentPage=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 3:调用监听状态码的方法:onreadystatechange</span>    xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 输出响应结果(是一个对象  eval(了解即可))</span>            <span class="token comment">// console.log(xhr.responseText);</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>xhr<span class="token punctuation">.</span>responseText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// console.log(xhr.readyState);</span>        <span class="token comment">// console.log(xhr.status);</span>    <span class="token punctuation">}</span>    <span class="token comment">// 4:手动发送</span>    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>POST</strong></p><ol><li>实例化</li><li>开始发送</li><li>设置请求头里面的content-type        application/x-www-form-urlencoded</li><li>监听方法</li><li>手动发送</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// http://520it.com:8809/users/login</span><span class="token comment">// 需求：使用原生ajax实现登录功能</span>login<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> username <span class="token operator">=</span> user<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token keyword">var</span> password <span class="token operator">=</span> pwd<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">&amp;&amp;</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 发送ajax</span>        <span class="token comment">// 1:实例化</span>        <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 2:开始发送</span>        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"post"</span><span class="token punctuation">,</span> <span class="token string">"http://520it.com:8809/users/login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 3设置请求头里面的content-type application/x-www-form-urlencoded</span>        xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">)</span>        <span class="token comment">// 4监听方法</span>        xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>xhr<span class="token punctuation">.</span>responseText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment">// 5:手动发送</span>        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">username=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;password=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>password<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"你不能不写内容啊  找打？"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="JSON数据格式"><a href="#JSON数据格式" class="headerlink" title="JSON数据格式"></a>JSON数据格式</h3><p>定义：JSON 格式（JavaScript Object Notation 的缩写）是一种用于前后端数据交换的文本格式。</p><p>JSON 对值的类型和格式有严格的规定：</p><ol><li>复合类型的值只能是数组或对象，不能是函数、正则表达式对象、日期对象。</li><li>原始类型的值只有四种：字符串、数值（必须以十进制表示）、布尔值和<code>null</code>（不能使用<code>NaN</code>, <code>Infinity</code>, <code>-Infinity</code>和<code>undefined</code>）。</li><li>字符串必须使用双引号表示，不能使用单引号。</li><li>对象的键名必须放在双引号里面。</li><li>数组或对象最后一个成员的后面，不能加逗号。</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 以下都是合法的 JSON：</span><span class="token punctuation">[</span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token string">"three"</span><span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token string-property property">"one"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-property property">"two"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">"three"</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string-property property">"names"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token comment">// 以下都是不合法的 JSON：</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token number">32</span> <span class="token punctuation">}</span>  <span class="token comment">// 属性名必须使用双引号</span><span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">0xFFF</span><span class="token punctuation">]</span> <span class="token comment">// 不能使用十六进制值</span><span class="token punctuation">{</span> <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span> <span class="token comment">// 不能使用 undefined</span><span class="token punctuation">{</span> <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>  <span class="token string-property property">"birthday"</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'Fri, 26 Aug 2011 07:13:10 GMT'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token string-property property">"getName"</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment">// 属性值不能使用函数和日期对象</span></code></pre><p><strong>JSON对象</strong>是 JavaScript 的原生对象，用来处理 JSON 格式数据。它有两个静态方法：</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token constant">JS</span>对象<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//序列化：JS对象转JSON字符串</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'JSON字符串'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//反序列化：JSON字符串转成相应的数据格式(JS对象)</span></code></pre><p><strong>eg:</strong>obj是一个正常的js对象</p><p>需求：将js对象转换为json字符串格式  <strong>stringify()</strong>  是json对象的静态成员</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> objStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objStr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>JSON有另一个静态方法parse</strong></p><p>作用:将 json 字符串转为js对象</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">===</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false  不是同一个引用地址</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>arr <span class="token operator">===</span> obj1<span class="token punctuation">.</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//false  里面的引用类型的数据也不是同一个引用地址(深拷贝)</span></code></pre><p><strong>注意：可以 使用JSON方法实现深拷贝。</strong></p><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p><a href="https://regex101.com/">测试地址</a></p><p><strong>作用：判断字符串是否满足一定的规则</strong></p><p><strong>规则：</strong></p><p><strong>特定规则</strong></p><blockquote><p>\d 匹配数字[0-9]{ + } \D  和\d相反</p><p>\w 匹配数字+字母+_ [0-9a-zA-Z_]   \W  和\w相反</p><p>\s 匹配空白字符\S  和\s相反</p></blockquote><p><strong>数量限定</strong></p><blockquote><p><code>*</code>     匹配特定规则出现任意次</p><p><code>+</code> 匹配特定规则出现至少1次</p><p>?       匹配特定规则现出1或者0次（前面的字符可有可无）</p><p>{n} 匹配特定规则出现n次</p><p>{n,}  匹配特定规则出现至少n次</p><p>{n,m} 匹配特定规则出现n到m次</p></blockquote><p><strong>开关结尾限定</strong></p><blockquote><p>^      匹配特定规则开关</p><p>$  匹配特定规则结尾</p></blockquote><p><strong>范围限定</strong></p><p>范围限定使用的<code>[]</code>用法比较特殊，大概分为这么三种</p><blockquote><p>1.连续范围</p><p>[0-9]  匹配数字   [a-z]   匹配小写字母   [3-8]  匹配3到8之间的数字</p><p>2.范围集合</p><p>[0-9a-zA-Z]   匹配数字+字母</p><p>3.无规律集合</p><p>[259a-f*]    匹配2/5/9+a到f和<code>*</code>中的任意字符</p><p>4.取反</p><p>[^0-9]匹配非数字</p></blockquote><p><strong>其它</strong></p><blockquote><p>.    匹配任意单个字符</p><p>\     反斜杠 转义</p><p>()     分组</p><p>|       或者</p><p>(a|b|c) 取a或者b或者c其中一个</p><p>{}里面的值表示前面字符的个数，固定数字直接写就可以，</p><p>至少某些个  写一个 数字,</p><p>还可以表示区间：{6，18}至少包含数字，字母，字符中的两个</p></blockquote><h4 id="创建一个正则"><a href="#创建一个正则" class="headerlink" title="创建一个正则"></a>创建一个正则</h4><p><strong>构造函数的方式</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 构造函数</span><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'规则'</span><span class="token punctuation">,</span><span class="token string">'匹配模式'</span><span class="token punctuation">)</span><span class="token comment">// 字面量</span><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token operator">/</span>pattern<span class="token operator">/</span>flags<span class="token punctuation">;</span></code></pre><pre><code>pattern:正则表达式  flags:标识(修饰符)标识主要包括：1. i 忽略大小写匹配2. m 多行匹配，即在到达一行文本末尾时还会继续寻常下一行中是否与正则匹配的项3. g 全局匹配 模式应用于所有字符串，而非在找到第一个匹配项时停止修饰符是可以省略的</code></pre><p><strong>字面量</strong></p><p><strong>语法</strong>：正则表达式.test(字符串)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"s"</span><span class="token punctuation">;</span>reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>  <span class="token comment">//规则是有a就行(规定你写的字符串中有 a 返回 true  否者返回 false)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//字面量创建一个正则表达式</span><span class="token keyword">var</span> r1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3-9]{1}\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token number">24567887654</span><span class="token punctuation">;</span><span class="token keyword">var</span> str2 <span class="token operator">=</span> <span class="token number">14567887654</span><span class="token punctuation">;</span><span class="token keyword">var</span> str3 <span class="token operator">=</span> <span class="token number">145678876541</span><span class="token punctuation">;</span><span class="token keyword">var</span> str4 <span class="token operator">=</span> <span class="token number">12567887654</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false(加上结束返回这个)   true(不加结束返回这个)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span></code></pre><p><strong>eg:</strong></p><p>需求：至少包含数字，字母，字符中的两个{6,18}     以字母开头的6-18位字符组成</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> r2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z]\w{5,17}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></code></pre><p>邮箱的正则(简单版)  <code>zhangsan1332@163.com</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> r3 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\w{4,15}@(163|126|qq|139).(com|cn|com.cn)$</span><span class="token regex-delimiter">/</span></span><span class="token keyword">var</span> str5 <span class="token operator">=</span> <span class="token string">"zhangsan1332@qq.com.cn"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str5<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>需求：3-5位的汉字   欧阳三</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span>\u4e00<span class="token operator">-</span>\u9fa5<span class="token punctuation">]</span>     汉字的正则 <span class="token keyword">var</span> r4 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[\u4e00-\u9fa5]{2,5}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span> <span class="token keyword">var</span> str6 <span class="token operator">=</span> <span class="token string">"欧阳三"</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r4<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str6<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>需求：验证身份证号</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> r5 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(44|42|45|41|43|35)\d{15}([0-9]|X)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">var</span> str7 <span class="token operator">=</span> <span class="token string">"440784200007044537"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r5<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str7<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>str.replace()方法</strong></p><p>  str.replace(“被替换的对象”, 替换什么)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str8 <span class="token operator">=</span> <span class="token string">"asdfafgfda"</span><span class="token punctuation">;</span><span class="token keyword">var</span> newStr <span class="token operator">=</span> str8<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//全部替换的语法</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="异步任务（理解）"><a href="#异步任务（理解）" class="headerlink" title="异步任务（理解）"></a>异步任务（理解）</h3><h4 id="执行栈"><a href="#执行栈" class="headerlink" title="执行栈"></a>执行栈</h4><p>同步代码(先进入的都是后出 先入后出)</p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"全局环境开始"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//1</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"函数1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//2</span>    <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"两次回到函数1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//4</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"函数2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//3</span><span class="token punctuation">}</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"全局环境结束"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//5</span></code></pre><h4 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h4><ul><li>先执行<strong>同步代码</strong>  同步代码执行完毕之后开始执行异步，异步代码多会形成<strong>任务队列</strong></li><li>定时器<strong>读秒是同步的</strong>  里面的代码块是<strong>异步执行</strong>的</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"异步1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>    <span class="token comment">//默认大概是10ms左右</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"异步2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token comment">// 同步代码是一瞬间完成的</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"同步"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"异步1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"异步3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">991</span><span class="token punctuation">)</span><span class="token comment">//990先打印异步3991先打印异步2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"异步2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>EventLoop</strong></p><p><code>Event Loop</code>即事件循环，是指浏览器或<code>Node</code>的一种解决<code>javaScript</code>单线程运行时不会阻塞的一种机制，也就是我们经常使用<strong>异步</strong>的原理。</p><h3 id="Task（宏任务）和-MicroTask（微任务）"><a href="#Task（宏任务）和-MicroTask（微任务）" class="headerlink" title="Task（宏任务）和 MicroTask（微任务）"></a>Task（宏任务）和 MicroTask（微任务）</h3><table><thead><tr><th>宏任务</th><th>微任务</th></tr></thead><tbody><tr><td>script环境</td><td>Promise的then/catch回调</td></tr><tr><td>setInterval/setTimeout 定时器</td><td>Object.observe(先忽略)</td></tr><tr><td>requestAnimationFrame 浏览器的帧循环(先忽略)</td><td>Proxy(先忽略)</td></tr><tr><td>UI Rendering 浏览器的UI渲染(先忽略)</td><td></td></tr></tbody></table><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//1</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//5</span>    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//6</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//7</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//同步</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//2</span>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"6"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"7"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//3</span></code></pre><pre class="language-none"><code class="language-none">宏任务：1：script(所有的同步代码)1,5,7是属于同步代码    在script环境中是一瞬间完成的2：如果页面只剩下异步代码  会先找微任务列队  输出了6     微任务没了3：定时器(宏任务里面的异步代码) 2和3相对于定时器环境中属于同步代码  一瞬间完成4：定时器中的.then 是 宏任务列队中的微任务，先会执行，执行之后会继续在宏任务列队检查是否还有未执行的代码，如果有，按照任务列队的执行顺序继续寻找微任务，最后执行宏任务</code></pre><blockquote><p>宏任务和微任务的执行顺序是<strong>先宏后微</strong>。先执行同步代码，遇到<strong>异步宏任务</strong>则将异步宏任务放入宏任务队列中，遇到<strong>异步微任务</strong>则将异步微任务放入微任务队列中，当所有同步代码执行完毕后，再将异步微任务从队列中调入主线程执行，微任务执行完毕后再将<strong>异步宏任务</strong>从队列中调入主线程执行，一直循环直至所有任务执行完毕。</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript图</title>
      <link href="/2022/06/22/javascript-tu/"/>
      <url>/2022/06/22/javascript-tu/</url>
      
        <content type="html"><![CDATA[<p>以下流程图作者来源：<a href="https://github.com/whjin">寒青</a></p><h3 id="JS基础-操作符"><a href="#JS基础-操作符" class="headerlink" title="JS基础-操作符"></a>JS基础-操作符</h3><p><img src="/2022/06/22/javascript-tu/JS%E5%9F%BA%E7%A1%80-%E6%93%8D%E4%BD%9C%E7%AC%A6.png"></p><h3 id="JS基础-基本语句"><a href="#JS基础-基本语句" class="headerlink" title="JS基础-基本语句"></a>JS基础-基本语句</h3><p><img src="/2022/06/22/javascript-tu/JS%E5%9F%BA%E7%A1%80-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5.png" alt="JS基础-基本语句"></p><h3 id="JS基础-数组基本及常用方法"><a href="#JS基础-数组基本及常用方法" class="headerlink" title="JS基础-数组基本及常用方法"></a>JS基础-数组基本及常用方法</h3><p><img src="/2022/06/22/javascript-tu/JS%E5%9F%BA%E7%A1%80-%E6%95%B0%E7%BB%84%E5%9F%BA%E6%9C%AC%E5%8F%8A%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.png" alt="JS基础-数组基本及常用方法"></p><h3 id="JS基础-字符串基本及常用方法汇总"><a href="#JS基础-字符串基本及常用方法汇总" class="headerlink" title="JS基础-字符串基本及常用方法汇总"></a>JS基础-字符串基本及常用方法汇总</h3><p><img src="/2022/06/22/javascript-tu/JS%E5%9F%BA%E7%A1%80-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%9F%BA%E6%9C%AC%E5%8F%8A%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%B1%87%E6%80%BB.png" alt="JS基础-字符串基本及常用方法汇总"></p><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p><img src="/2022/06/22/javascript-tu/%E5%8F%98%E9%87%8F.gif" alt="变量"></p><h3 id="函数基础"><a href="#函数基础" class="headerlink" title="函数基础"></a>函数基础</h3><p><img src="/2022/06/22/javascript-tu/%E5%87%BD%E6%95%B0%E5%9F%BA%E7%A1%80.gif" alt="函数基础"></p><h3 id="基本dom操作"><a href="#基本dom操作" class="headerlink" title="基本dom操作"></a>基本dom操作</h3><p><img src="/2022/06/22/javascript-tu/%E5%9F%BA%E6%9C%ACdom%E6%93%8D%E4%BD%9C.gif" alt="基本dom操作"></p><h3 id="流程语句"><a href="#流程语句" class="headerlink" title="流程语句"></a>流程语句</h3><p><img src="/2022/06/22/javascript-tu/%E6%B5%81%E7%A8%8B%E8%AF%AD%E5%8F%A5.gif" alt="流程语句"></p><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p><img src="/2022/06/22/javascript-tu/%E6%95%B0%E7%BB%84.gif" alt="数组"></p><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p><img src="/2022/06/22/javascript-tu/%E8%BF%90%E7%AE%97%E7%AC%A6.gif" alt="运算符"></p><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p><img src="/2022/06/22/javascript-tu/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.gif" alt="正则表达式"></p><h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><p><img src="/2022/06/22/javascript-tu/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0.gif" alt="字符串函数"></p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>隐式转化</title>
      <link href="/2022/06/21/yin-shi-zhuan-hua/"/>
      <url>/2022/06/21/yin-shi-zhuan-hua/</url>
      
        <content type="html"><![CDATA[<h1 id="隐式转化"><a href="#隐式转化" class="headerlink" title="隐式转化"></a>隐式转化</h1><p>概念：无需程序员手动转化，由编译器自动转换的方式称为隐式转换<br><strong>规则：</strong><br>1.转化成String : + (字符串链接发)<br>2.转换为Number类型：<br>（1） ++/–   （自增自减<a href="https://so.csdn.net/so/search?q=%E8%BF%90%E7%AE%97%E7%AC%A6&amp;spm=1001.2101.3001.7020">运算符</a>）<br>（2）+ - * / % （算数运算符）<br>（3）&gt; &lt; &gt;= &lt;= == != === !==  (关系运算符)<br>3.转化为<a href="https://so.csdn.net/so/search?q=Boolean&amp;spm=1001.2101.3001.7020">Boolean</a>类型： ！（逻辑非运算符）</p><p><strong>例子总结：</strong><br>\1. 字符串连接符与算术运算符的区分<br>1+‘true’ —-&gt;  String(1) + ‘true’  —-&gt; ‘1true’<br>1+true  —–&gt; 1+Number(true)  —–&gt; 1+1 —-&gt; 2<br>1+undefined —-&gt; 1+Number(undefined ) —-&gt; 1+NaN —–&gt; NaN<br>1+null —&gt; 1+Number(null) —-&gt; 1+0 —–&gt; 1</p><p>\2. 关系运算符：<br><strong>A: 一边是字符串，会将其数据数据类型转化为number之后再做比较</strong><br>‘2’ &gt; 10 —-&gt; Number(‘2’) &gt; 10 —-&gt; 2&gt; 10 —–&gt; false<br><strong>B：两边都是字符串，会根据字符串对应的unicode编码转化为数字，利用charCodeAt转化对应的编码</strong><br>‘2’ &gt; ‘10’ —–&gt; ‘2’.charCodeAt() &gt;  ‘10’.charCodeAt()  —–&gt; 50 &gt; 49  —–&gt; true<br><strong>C: 多个字符按照从左向右的规则比较</strong><br>‘abc’ &gt; ‘b’ —–&gt; ‘a’.charCodeAt() &gt;  ‘b’.charCodeAt()  —–&gt; 97 &gt; 98  —–&gt; false<br>‘abc’ &gt; ‘aad’ —-&gt;  ‘a’.charCodeAt() &gt; ‘a’.charCodeAt(),相等，继续比较 —-&gt;  ‘b’.charCodeAt() &gt; ‘a’.charCodeAt() —-&gt; 98 &gt; 97 —-&gt; true<br><strong>D: 无规则模式：</strong><br>(1) undefine和null:既相等又自等<br>undefined == undefined  —-&gt; true<br>undefined == null  —-&gt; true<br>null == null  —-&gt; true<br>(2) NaN与任何数据比较都是NaN,包括自身<br>NaN == NaN —-&gt; false<br>3.复杂数据类型的转换。valueOf() —&gt; String() —-&gt; Number()<br>[1,2] == ‘1,2’ —-&gt; [1,2].valueOf() = [1,2] —–&gt; [1,2].toString() =’1,2’ —–&gt;’ 1,2’ == ‘1,2’  —–&gt; true</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基本数据类型和引用数据类型</title>
      <link href="/2022/06/21/ji-ben-shu-ju-lei-xing-he-yin-yong-shu-ju-lei-xing/"/>
      <url>/2022/06/21/ji-ben-shu-ju-lei-xing-he-yin-yong-shu-ju-lei-xing/</url>
      
        <content type="html"><![CDATA[<h1 id="基本数据类型和引用数据类型"><a href="#基本数据类型和引用数据类型" class="headerlink" title="基本数据类型和引用数据类型"></a>基本数据类型和引用数据类型</h1><p><strong>js中的变量都是保存到栈内存中的，</strong></p><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p><strong>String Number Boolean Null</strong></p><p>基本数据类型的值直接在栈内存中存储，<br>值与值之间是独立存在，修改一个变量不会影响其他的变量</p><p><img src="/2022/06/21/ji-ben-shu-ju-lei-xing-he-yin-yong-shu-ju-lei-xing/image-20220621001903137.png" alt="image-20220621001903137"></p><p>eg:</p><ol><li>数字类型</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span><span class="token keyword">var</span> n <span class="token operator">=</span> m<span class="token punctuation">;</span>n<span class="token operator">++</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1001</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1000</span></code></pre><p>2.字符串类型</p><pre class="language-none"><code class="language-none">var str = "qwer";var newstr = str;newstr += "tyu";console.log(newstr); // qwertyuconsole.log(str); // qwer</code></pre><p>3.布尔类型</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> bool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">var</span> newbool <span class="token operator">=</span> bool<span class="token punctuation">;</span>newbool <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newbool<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span></code></pre><h3 id="引用数据类型"><a href="#引用数据类型" class="headerlink" title="引用数据类型"></a>引用数据类型</h3><p><strong>object</strong></p><p>对象是保存到堆内存中的，每创建一个新的对象，就会在堆内存中开辟出一个新的空间,而变量保存的是对象的内存地址（对象的引用)如果两个变量保存的是同一个对象引用,当一个通过一个变量修改属性时，另一个也会受到影响</p><p><img src="/2022/06/21/ji-ben-shu-ju-lei-xing-he-yin-yong-shu-ju-lei-xing/image-20220621001950641.png" alt="image-20220621001950641"></p><p><img src="/2022/06/21/ji-ben-shu-ju-lei-xing-he-yin-yong-shu-ju-lei-xing/image-20220621002133556.png" alt="image-20220621002133556"></p><p>当比较两个基本数据类型的值时，就是比较值。<br>而比较两个引用数据类型时，它是比较的对象的内存地址，<br>如果两个对象是一摸—样的，但是地址不同，它也会返回false</p><p><img src="/2022/06/21/ji-ben-shu-ju-lei-xing-he-yin-yong-shu-ju-lei-xing/image-20220621002028022.png" alt="image-20220621002028022"></p><p>eg:</p><ol><li>数组类型</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> newarr <span class="token operator">=</span> arr<span class="token punctuation">;</span><span class="token keyword">var</span> y <span class="token operator">=</span> newarr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 3, 4]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newarr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 5]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 5]</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> newarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">in</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>    newarr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> y <span class="token operator">=</span> newarr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [2, 3, 4]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newarr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 5]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 2, 3, 4, 5]</span></code></pre><p>2.对象类型</p><pre class="language-none"><code class="language-none">var obj = {"name":"zhangsan","age":10,"sex":"nan"};var newobj = obj;newobj.name = "lisi";console.log(newobj); // {name: "lisi", age: 10, sex: "nan"}console.log(obj); // {name: "lisi", age: 10, sex: "nan"}var obj = {"name":"zhangsan","age":10,"sex":"nan"};for(var x in obj){newobj[x] = obj[x];}newobj.name = "lisi";console.log(newobj); // {name: "lisi", age: 10, sex: "nan"}console.log(obj); // {name: "zhangsan", age: 10, sex: "nan"}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript-Idea-Case</title>
      <link href="/2022/06/11/javascript-idea-case/"/>
      <url>/2022/06/11/javascript-idea-case/</url>
      
        <content type="html"><![CDATA[<h1 id="Js-思考-案例"><a href="#Js-思考-案例" class="headerlink" title="Js-思考-案例"></a>Js-思考-案例</h1><h3 id="求偶数奇数和"><a href="#求偶数奇数和" class="headerlink" title="求偶数奇数和"></a>求偶数奇数和</h3><p>eg1</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//除以2 余数为0就是偶数</span>        <span class="token comment">//除以2 余数不为0就是奇数</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// console.log(i);</span>            sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"偶数和为"</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><p>eg2</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//偶数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//奇数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"奇数和为"</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="遍历对象-for…in"><a href="#遍历对象-for…in" class="headerlink" title="遍历对象(for…in)"></a>遍历对象(for…in)</h3><p>遍历对象不能用<code>.</code>语法</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span> key对象的属性     obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>属性值 <span class="token punctuation">}</span></code></pre><h3 id="遍历数组-for循环-amp-amp-forEach循环"><a href="#遍历数组-for循环-amp-amp-forEach循环" class="headerlink" title="遍历数组(for循环&amp;&amp;forEach循环)"></a>遍历数组(for循环&amp;&amp;forEach循环)</h3><p><strong>for循环</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>d数组名<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>每一个数据 i对应数据的下标 <span class="token punctuation">}</span></code></pre><p><strong>forEach</strong></p><p><strong>和for循环的区别是不能遍历伪数组,不能中途打断循环,一定要全部走完才会停止循环</strong></p><pre class="language-js" data-language="js"><code class="language-js">数组名<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">每个数据<span class="token punctuation">,</span>每个数据的下标<span class="token punctuation">,</span>原数组</span><span class="token punctuation">)</span><span class="token punctuation">{</span>函数体<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="for循环-嵌套"><a href="#for循环-嵌套" class="headerlink" title="for循环 - 嵌套"></a>for循环 - 嵌套</h3><p><strong>外层循环是行</strong></p><p><strong>里层循环是列</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//正三角</span><span class="token comment">// 外层循环j控制一共有多少行</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">6</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 里层循环控制每行有多少个</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"🤤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 倒三角</span><span class="token comment">// 外层循环j控制一共有多少行</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> k <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">;</span> k<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 里层循环控制每行有多少个</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> u <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> u <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> u<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"🤤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>🤤<br>🤤🤤<br>🤤🤤🤤<br>🤤🤤🤤🤤<br>🤤🤤🤤🤤🤤<br>🤤🤤🤤🤤🤤🤤<br>🤤🤤🤤🤤🤤<br>🤤🤤🤤🤤<br>🤤🤤🤤<br>🤤🤤<br>🤤</p><h3 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>    max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="十六进制随机颜色练习"><a href="#十六进制随机颜色练习" class="headerlink" title="十六进制随机颜色练习"></a>十六进制随机颜色练习</h4><p>eg1</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 十六进制随机颜色 #开头 + 6个0~9A~F之间的字符</span><span class="token comment">// 0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"F"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> ranColor <span class="token operator">=</span> <span class="token string">"#"</span><span class="token keyword">function</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>    max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 循环6次，拿到6个随机数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    ranColor <span class="token operator">+=</span> arr<span class="token punctuation">[</span><span class="token function">getNum</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token comment">// 输出这个随机颜色变量</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ranColor<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>eg2</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"F"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"#"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 随机数字索引</span>    <span class="token keyword">var</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    str <span class="token operator">+=</span> arr<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>eg3</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> ranNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> shiliu<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// console.log(shiliu[ranNum])</span>    <span class="token comment">// 拿到6个随机数 连接并赋值给ranColor这个变量</span>    ranColor <span class="token operator">+=</span> shiliu<span class="token punctuation">[</span>ranNum<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="反转数组"><a href="#反转数组" class="headerlink" title="反转数组"></a>反转数组</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"你好"</span><span class="token punctuation">,</span> <span class="token string">"世界"</span><span class="token punctuation">,</span> <span class="token string">"桀桀桀"</span><span class="token punctuation">,</span> <span class="token string">"编程真好玩"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>eg1</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//方法一,使用reverse方法：</span>arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>eg2</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//方法二,使用push方法:</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>eg3</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 方法三，不使用reverse方法：</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 新数组从0 ~ 3 &lt;== 原始数组下标从3 ~ 0</span>    newArr<span class="token punctuation">[</span>newArr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><ul><li>数组.includes()</li><li>!数组.includes()</li><li>数组.indexOf()</li></ul><p>eg</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 如果新数组里面没有这个，就加进去，有就不加</span><span class="token comment">// 遍历原数组，判断新数组有没有这个数据，有就不追加，没有就追加push</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"姚明"</span><span class="token punctuation">,</span> <span class="token string">"詹姆斯"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"肖战"</span><span class="token punctuation">,</span> <span class="token string">"任嘉伦"</span><span class="token punctuation">,</span> <span class="token string">"肖战"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// newArr.includes(arr[i]) == false</span>    <span class="token comment">// !newArr.includes(arr[i]) </span>    <span class="token comment">// newArr.indexOf(arr[i]) == -1</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>newArr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="求最大值"><a href="#求最大值" class="headerlink" title="求最大值"></a>求最大值</h3><p>思路：</p><ul><li>先书写求最大值的代码</li><li>假设第一个是最大，遍历这个数组，用数组里面的每一项去和最大值比较</li><li>如果大于这个最大值，就更新这个最大值为比它大的那个数据</li></ul><p>eg</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>            max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> max<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// getMax(arr1); // arr1的最大值 数组也可以作为参数去传递 </span><span class="token comment">// getMax(arr2); // arr2的最大值 数组也可以作为参数去传递</span><span class="token keyword">var</span> zuida <span class="token operator">=</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"两个数组中的最大值是"</span> <span class="token operator">+</span> zuida<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="封装不足10补0函数-常用于时间对象"><a href="#封装不足10补0函数-常用于时间对象" class="headerlink" title="封装不足10补0函数(常用于时间对象)"></a>封装不足10补0函数(常用于时间对象)</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">buling</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    num <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">"0"</span> <span class="token operator">+</span> num <span class="token operator">:</span> num<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="转换字符串"><a href="#转换字符串" class="headerlink" title="转换字符串"></a>转换字符串</h3><p>eg</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// con-left  con-right-bottom   ==&gt;  conRightBottom  转成驼峰式命名</span><span class="token comment">// ["con","right","bottom"] ==&gt; split("-");</span><span class="token comment">// ["con","right","bottom"]  ==&gt;从第1个数据开始遍历这个数组，把数组里面字符串的第0个字符str[0] 替换replace("替换的字符","替换成的字符")成大写toUpperCase();  ==》["con","Right","Bottom"] ,再把这个数组转成字符串join("")</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"con-right-bottom"</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// replace()方法没有改变原字符，切记要重新赋值</span>    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//console.log(arr[i]);</span><span class="token punctuation">}</span>str <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>可以封装成函数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">tuofeng</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// replace()方法没有改变原字符，切记要重新赋值</span>        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//console.log(arr[i]);</span>    <span class="token punctuation">}</span>    str <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> str<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tuofeng</span><span class="token punctuation">(</span><span class="token string">"get-element-by-id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tuofeng</span><span class="token punctuation">(</span><span class="token string">"my-name-is-miki"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><p><strong>在事件绑定里面灵活运用this，区分<code>_this</code>和<code>this</code></strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> _this<span class="token operator">=</span><span class="token keyword">this</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_this<span class="token punctuation">)</span>原来的对象console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token comment">//当前方法对象</span></code></pre><h3 id="排他思想-典"><a href="#排他思想-典" class="headerlink" title="排他思想(典)"></a>排他思想(典)</h3><p><strong>思路：</strong>点击哪一个，就只有点击的生效，<strong>其他同级兄弟的不生效</strong>。</p><p>在事件执行函数里面，在该点击生效之前，先清除所有的元素的效果</p><p>eg1</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 外层循环只是为了给每个按钮绑定点击事件</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btn<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    btn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 思考怎么去掉其他的</span>        <span class="token comment">// 先全部去掉所有按钮的背景色</span>        <span class="token comment">// 里面的循环为了每次点击一个按钮之后先全部去掉背景色</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> btn<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            btn<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 再给用户点的那个加上背景色</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"tan"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>eg2</p><p><strong>排他的其他写法(事件委托的排他)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#box"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建一个变量来存储上一个点击的元素</span><span class="token keyword">var</span> prev <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 如果点击的目标元素不是box这个对象</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token operator">!==</span> box<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 如果存在上一次点击的元素</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 就去掉背景色</span>            prev<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 再给目标元素添加背景色</span>        e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"tan"</span><span class="token punctuation">;</span>        <span class="token comment">// 添加完之后把这个目标元素设置为上一次点击的元素</span>        prev <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="出现次数最多-出现了多少次"><a href="#出现次数最多-出现了多少次" class="headerlink" title="出现次数最多 - 出现了多少次"></a>出现次数最多 - 出现了多少次</h3><p>常见于<strong>字符串</strong>，<strong>数组</strong>中</p><p>思路：</p><ol><li>先把数组转化成字符串，<code>str[下标]</code>可以得到每一个字</li><li>新建一个空的对象来储存每一个字的属性，和每个字出现次数的值</li><li>判断新建的这个对象里面，有没有每个字<code>str[i]</code></li><li>如果没有就设置这个属性的值为出现了一次，如果本来就有就+1次 ++</li></ol><p>eg</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> students <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//将数组转化成字符串</span><span class="token keyword">var</span> str <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//声明一个空对象</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// char是每个字符</span>    <span class="token comment">// obj[char]是这个对象有没有这个字符属性</span>    <span class="token keyword">var</span> char <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>char<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 有这个属性就加一次</span>        obj<span class="token punctuation">[</span>char<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">// 没有就把这个属性赋值为一次</span>        obj<span class="token punctuation">[</span>char<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 输出这个保存了每个字和出现次数的对象</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 先设置一个最大值的初始值</span><span class="token keyword">var</span> max <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 新建一个变量来储存出现最多次数的字符</span><span class="token keyword">var</span> maxchar <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>        max <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>        maxchar <span class="token operator">=</span> key<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">出现次数最多的字符是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>maxchar<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,出现的次数数</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>max<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">次</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="开关思想-典"><a href="#开关思想-典" class="headerlink" title="开关思想(典)"></a>开关思想(典)</h3><p>思路：</p><p>可以创建一个 <strong>变量</strong> ，控制这个盒子的状态  </p><p><strong>true显示</strong> </p><p> <strong>false隐藏</strong></p><p>eg1</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">//控制盒子的状态</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>        _div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        _div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"hide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>eg2</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1. 当点击"关 灯"按钮时，将body背景颜色设置成黑色，同时将 "关 灯" 设置成 "开 灯"；</span><span class="token comment">// 2. 当点击"开 灯"按钮时，将body背景颜色设置成白色，同时将 "开 灯" 设置成 "关 灯".</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// if (flag) {</span>    <span class="token comment">//     document.body.classList.add("bg");</span>    <span class="token comment">// this.innerText = "开 灯"</span>    <span class="token comment">//     flag = false;</span>    <span class="token comment">// } else {</span>    <span class="token comment">//     document.body.classList.remove("bg");</span>    <span class="token comment">//     this.innerText = "关 灯"</span>    <span class="token comment">//     flag = true;</span>    <span class="token comment">// }</span>    <span class="token comment">// 三元表达式 条件？条件成立执行：条件不成立执行</span>    <span class="token comment">// 等于号 最后赋值 代码等于号右边执行完赋值左边</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"bg"</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"开 灯"</span> <span class="token operator">:</span> <span class="token string">"关 灯"</span><span class="token punctuation">;</span>    flag <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="tab页的切换-典"><a href="#tab页的切换-典" class="headerlink" title="tab页的切换(典)"></a>tab页的切换(典)</h3><p>思路：</p><p>给点击的循环对象自定义一个索引属性<code>index</code></p><p>eg1</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> tabTopLis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".tab-top&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> tabBottomLis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".tab-bottom&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 给四个li绑定鼠标移上事件onmouseover</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> tabTopLis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 给上面的四个li定义了一个自定义的对象属性(新建对象属性的方法)</span>    tabTopLis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token comment">// 输出看看</span>    <span class="token comment">// console.dir(tabTopLis[i]);</span>    <span class="token comment">// console.log(tabTopLis[i]);</span>    tabTopLis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 先去掉全部li的类名</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> tabTopLis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            tabTopLis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            tabBottomLis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// console.log(123)</span>        <span class="token comment">// 再给用户点的那个加上类名</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        tabBottomLis<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>eg2</p><p><strong>使用自定义属性tab切换</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> tabTopLis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".tab-top&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> tabBottomLis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".tab-bottom&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tabTopLis<span class="token punctuation">,</span> tabBottomLis<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 给四个li绑定鼠标移上事件onmouseover</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> tabTopLis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 设置自定义属性(创建标签属性的方法)</span>    tabTopLis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"data-index"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    tabTopLis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 先去掉全部li的类名</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> tabTopLis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            tabTopLis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            tabBottomLis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// console.log(123)</span>        <span class="token comment">// 再给用户点的那个加上类名</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 获取用户this鼠标移上的那个li的自定义属性，赋值给index</span>        <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 控制下面盒子数组对应的下标的盒子添加类名</span>        tabBottomLis<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="三维焦点图-轮播"><a href="#三维焦点图-轮播" class="headerlink" title="三维焦点图(轮播)"></a>三维焦点图(轮播)</h3><p>思路:</p><ol><li><strong>取数据</strong></li><li><strong>把每个<code>li</code>的类名提出来，存进一个新数组里面；</strong></li><li><strong>点击下一张，就是把新数组里面   把数组里面的第一个shift，放到数组的最后push</strong></li><li><strong>点击上一张，就是把新数组里面    把数组里面的最后一个pop，放到数组的前面unshift</strong></li><li><strong>以上两个步骤都要将新数组里面的类，重新赋值给<code>li</code></strong></li></ol><p>eg</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 取数据</span><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".banner&gt;ul&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> prev <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".prev"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> next <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".next"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 专门新建一个数组来存类名</span><span class="token keyword">var</span> aclass <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lis<span class="token punctuation">,</span> prev<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(lis[i].className);</span>    <span class="token comment">// 把每一个li的类名放到aclass数组里面</span>    aclass<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 显示类名</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aclass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击下一张</span>next<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 把数组里面的第一个shift，放到数组的最后push</span>    aclass<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>aclass<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aclass<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 给li重新修改类名  取相同的下标但是不同的类名</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> aclass<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 点击上一张</span>prev<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 把数组里面的最后一个pop，放到数组的前面unshift</span>    aclass<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>aclass<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aclass<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 给li重新修改类名  取相同的下标但是不同的类名</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> aclass<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="反选"><a href="#反选" class="headerlink" title="反选"></a>反选</h3><p>思路：</p><ol><li>取数组；</li><li>点击全选选框，设置下面全部的选框全部选中，并且把全选的文字变成全不选</li><li>点击下面的每一个选框的时候，都要全部检查一遍，有没有没选中的，如果有就不能全选，如果都选中了，就可以全选</li><li>新建一个变量来控制是全选 true 全选  false不全选**(关键：)**</li><li>点击反选的按钮，设置全部的选框选中状态取反(顺便控制全选  要封装函数)</li><li>新建一个变量来控制是全选 true 全选  false不全选**(关键：)**</li></ol><p>eg</p><p><strong>未封装版</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 取数据</span><span class="token keyword">var</span> allbtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"j_cbAll"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> selects <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> alltxt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> rev <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rev"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allbtn<span class="token punctuation">,</span> selects<span class="token punctuation">,</span> alltxt<span class="token punctuation">,</span> rev<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击全选选框，设置下面全部的选框全部选中，并且把全选的文字变成全不选</span>allbtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 输出this.checked全选框是否选中</span>    <span class="token comment">// console.log(this.checked)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 点击下面的每一个选框的时候，都要全部检查一遍，有没有没选中的，如果有就不能全选，如果都选中了，就可以全选</span><span class="token comment">// 新建一个变量来控制是全选 true 全选  false不全选</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(selects[i])</span>    selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 新建一个变量来控制是全选 true 全选  false不全选</span>        <span class="token comment">// 先假设是全选</span>        <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token comment">// 都要全部检查一遍，有没有没选中的selects[j].checked == false就是没有选中</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 只要有一个没选中，就不能全选</span>                flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//前面有没选中就跳出循环，提高代码执行效率</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        allbtn<span class="token punctuation">.</span>checked <span class="token operator">=</span> flag<span class="token punctuation">;</span>        alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 点击反选的按钮，设置全部的选框选中状态取反(顺便控制全选  要封装函数)</span>rev<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 设置全部的选框选中状态取反</span>        selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token operator">!</span>selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 先假设是全选</span>    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">// 都要全部检查一遍，有没有没选中的selects[j].checked == false就是没选中</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//前面有没中的就跳出循环，提高代码执行效率</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    allbtn<span class="token punctuation">.</span>checked <span class="token operator">=</span> flag<span class="token punctuation">;</span>    alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>封装版</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 取数据</span><span class="token keyword">var</span> allbtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"j_cbAll"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> selects <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> alltxt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> rev <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rev"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allbtn<span class="token punctuation">,</span> selects<span class="token punctuation">,</span> alltxt<span class="token punctuation">,</span> rev<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击全选选框，设置下面全部的选框全部选中，并且把全选的文字变成全不选</span>allbtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 输出this.checked全选框是否选中</span>    <span class="token comment">// console.log(this.checked)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 点击下面的每一个选框的时候，都要全部检查一遍，有没有没选中的，如果有就不能全选，如果都选中了，就可以全选</span><span class="token comment">// 新建一个变量来控制是全选 true  全选  false不全选</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(selects[i])</span>    <span class="token comment">// 注意事件函数不用()调用，因为点击后才调用</span>    selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> allselect<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 点击反选的按钮，设置全部的选框选中状态取反（顺便控制全选 要封装函数）</span>rev<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 设置全部的选框选中状态取反</span>        selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token operator">!</span>selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 调用全选的功能</span>    <span class="token function">allselect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">allselect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 先假设是全选</span>    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">// 都要全部检查一遍,有没有没选中的selects[j].checked == false就是没选中</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 只要有一个没选中，就不能全选</span>            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//前面有没中的就跳出循环，提高代码执行效率</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    allbtn<span class="token punctuation">.</span>checked <span class="token operator">=</span> flag<span class="token punctuation">;</span>    alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="非空校验"><a href="#非空校验" class="headerlink" title="非空校验"></a>非空校验</h3><p><strong>看需求</strong></p><h3 id="点击创建列表"><a href="#点击创建列表" class="headerlink" title="点击创建列表"></a>点击创建列表</h3><p>eg1</p><p><strong>思路：用字符串拼接的方法，创建ul和li并且拼接到一起</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> food <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"酸菜鱼"</span><span class="token punctuation">,</span> <span class="token string">"四川的串串"</span><span class="token punctuation">,</span> <span class="token string">"钵钵鸡"</span><span class="token punctuation">,</span> <span class="token string">"潮汕牛肉火锅"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> _btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _dv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"dv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>_btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> _ul <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token comment">// 因为需要多个li，所以要遍历数组，数组里面有多少个数据，就要生成多少个li</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> food<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// var _li = `&lt;li&gt;${food[i]}&lt;/li&gt;`;</span>        <span class="token comment">// console.log(_li);</span>        <span class="token comment">// 因为要连接多个li,所以是要在循环里面</span>        _ul <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 输出连接完整的ul看看</span>    _ul <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_ul<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 再把dv的html赋值为连接完的ul字符串</span>    _dv<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> _ul<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>eg2</p><p><strong>创建节点生成列表</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> food <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"棒棒糖"</span><span class="token punctuation">,</span> <span class="token string">"麦当劳"</span><span class="token punctuation">,</span> <span class="token string">"辣条"</span><span class="token punctuation">,</span> <span class="token string">"炸鸡"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 点击上面的按钮，使用创建对象的方法  创建ul li 放再body 里面</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 创建ul对象</span>    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> food<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 创建4个li对象</span>        <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 设置li的文字是数组里面的每一项</span>        li<span class="token punctuation">.</span>innerText <span class="token operator">=</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// 把这四个li放在ul里面</span>        ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 把ul放在body里面</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ul<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>字符串拼接和创建对象相比</strong></p><p>创建对象(执行效率：如果内容多，创建对象比字符串拼接效率高)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 字符串拼接</span><span class="token keyword">var</span> li <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;桃园豪杰三结义 &lt;button class="rep"&gt;替换&lt;/button&gt; &lt;button class="del"&gt;删除&lt;/button&gt;&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>ul<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> ul<span class="token punctuation">.</span>innerHTML <span class="token operator">+</span> li<span class="token punctuation">;</span>ul<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> li<span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 创建对象</span><span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>li<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;桃园豪杰三结义 &lt;button class="rep"&gt;替换&lt;/button&gt; &lt;button class="del"&gt;删除&lt;/button&gt;&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token comment">// 加在ul盒子里面的后面</span>ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="点击生成表格"><a href="#点击生成表格" class="headerlink" title="点击生成表格"></a>点击生成表格</h3><pre class="language-html" data-language="html"><code class="language-html">输入行数：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>输入列数：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>生成表格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><ul><li>点击按钮，生成rows行tr，并且把这些行插入到table对象里面</li><li>点击按钮，生成cols列td，并且把这些列插入到tr对象里面</li><li>外层循环tr**(有多少行)**</li><li>里层循环td**(有多少列)**</li><li><strong>注意：请思考题目是否需要非空校验</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> row <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"row"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> col <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"col"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 非空校验</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>row<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token string">""</span> <span class="token operator">&amp;&amp;</span> col<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> rows <span class="token operator">=</span> <span class="token operator">+</span>row<span class="token punctuation">.</span>value<span class="token punctuation">;</span>  <span class="token comment">//行数</span>        <span class="token keyword">var</span> cols <span class="token operator">=</span> <span class="token operator">+</span>col<span class="token punctuation">.</span>value<span class="token punctuation">;</span>  <span class="token comment">//列数</span>        <span class="token keyword">var</span> table <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"table"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 外层循环控制行数tr</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> tr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"tr"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 里层循环控制列数td</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> cols<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">var</span> td <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"td"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                td<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">行,第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>j<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">列</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>                <span class="token comment">// 把td插入tr里面</span>                tr<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>td<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment">// 把tr插入table后面</span>            table<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 把表格插入body后面</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 清空输入框的值</span>        row<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        col<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入内容"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="排的扩展"><a href="#排的扩展" class="headerlink" title="排的扩展"></a>排的扩展</h3><p>用js实现随机选取10~100之间的10个数据，存入一个数组，按从小到大排序</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getRandomInclusive</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>    max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>   <span class="token comment">//含最大值，含最小值</span><span class="token punctuation">}</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> ranNum <span class="token operator">=</span> <span class="token function">getRandomInclusive</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ranNum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// sort方法是对数组进行排序 参数是一个回调函数 回调函数里面接受两个参数</span><span class="token comment">// return a - b 从小到大排序</span><span class="token comment">// return b - a 从大到小排序</span><span class="token comment">// 返回值是一个排好序的数组，改变原数组</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="冒泡排序-算法"><a href="#冒泡排序-算法" class="headerlink" title="冒泡排序(算法)"></a>冒泡排序(算法)</h3><ul><li>先得到规律</li><li>再进行计算</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 两两比较，如果后面这个比前面这个大，就交换他们的顺序</span><span class="token comment">// 第一轮比较 得到一个最大值</span><span class="token comment">// 3 4 2 1</span><span class="token comment">// 3 2 4 1</span><span class="token comment">// 3 2 1 4</span><span class="token comment">// 第二轮比较</span><span class="token comment">// 2 3 1 4</span><span class="token comment">// 2 1 3 4</span><span class="token comment">// 第三轮比较</span><span class="token comment">// 1 2 3 4</span><span class="token comment">// 得到规律就是</span><span class="token comment">// 比较的轮数就是 数组个数 - 1 次</span><span class="token comment">// 每一轮比较次数是  数组个数 - 1次 - 轮数</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> c<span class="token punctuation">;</span>c <span class="token operator">=</span> a<span class="token punctuation">;</span>a <span class="token operator">=</span> b<span class="token punctuation">;</span>b <span class="token operator">=</span> c<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 外层循环是比较的轮数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 里层循环是每轮比较的次数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> c<span class="token punctuation">;</span>            c <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span></code></pre><h3 id="淘宝吸顶案例"><a href="#淘宝吸顶案例" class="headerlink" title="淘宝吸顶案例"></a>淘宝吸顶案例</h3><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 同时有top和fixed类的样式 */</span><span class="token selector">.top.fixed</span> <span class="token punctuation">{</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"load"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> top <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".top"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> search <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".search"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 搜索盒子在网页的y坐标</span>    <span class="token keyword">var</span> searchY <span class="token operator">=</span> search<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>top<span class="token punctuation">,</span> search<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 窗口window滚动scroll的时候</span>    <span class="token comment">// 如果html卷走的距离如果大于search在网页body里面的y坐标offsetTop</span>    <span class="token comment">// 就给top加上类fixed 否则 就移除类fixed</span>    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// html卷走的距离</span>        <span class="token keyword">var</span> scrollY <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollY <span class="token operator">&gt;</span> searchY<span class="token punctuation">)</span> <span class="token punctuation">{</span>            top<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"fixed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            top<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"fixed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h3><p>常见轮播图：</p><ul><li>声明一个计数器 <code>num</code></li><li>自增 <code>num++</code></li><li><code>num</code> = <code>num</code> % <code>...</code>取到一个索引</li></ul><h3 id="随机点名"><a href="#随机点名" class="headerlink" title="随机点名"></a>随机点名</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> students <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">".."</span><span class="token punctuation">,</span><span class="token string">".."</span><span class="token punctuation">,</span><span class="token string">".."</span><span class="token punctuation">,</span><span class="token string">".."</span><span class="token punctuation">,</span><span class="token string">".."</span><span class="token punctuation">,</span><span class="token string">".."</span><span class="token punctuation">,</span><span class="token string">".."</span><span class="token punctuation">,</span><span class="token string">".."</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//根据数组的个数生成多个li</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> students<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 创建多个li</span>    <span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 设置li里面的文字是数组的每一项</span>    lis<span class="token punctuation">.</span>innerText <span class="token operator">=</span> students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 把li放到ul里面</span>    list<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>lis<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 点击 开始 按钮的时候</span><span class="token comment">// 就随机从 0 ~ students.length; 生成这个范围的随机数</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".list&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//先设置成空对象</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 如果 按钮 里面的文字是开始 就 变成暂停 顺便开启定时间器 </span>    <span class="token comment">// 否则清除定时器，并且把文字变成暂停</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>btn<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">"开始"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> ranNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> students<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 让定时器不断的随机同学</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>students<span class="token punctuation">[</span>ranNum<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 设置全部清除类名（排他）</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment">// 再给随机到的这个增加类名（确立自己）</span>            lis<span class="token punctuation">[</span>ranNum<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 把按钮的文字变成暂停</span>        btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"暂停"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">//清除定时器</span>        <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 把按钮的文字变成开始</span>        btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"开始"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 逻辑 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JQuery</title>
      <link href="/2022/06/11/jquery/"/>
      <url>/2022/06/11/jquery/</url>
      
        <content type="html"><![CDATA[<h1 id="jQuery-总结"><a href="#jQuery-总结" class="headerlink" title="jQuery-总结"></a>jQuery-总结</h1><h3 id="排他的其他写法-事件委托的排他"><a href="#排他的其他写法-事件委托的排他" class="headerlink" title="排他的其他写法(事件委托的排他)"></a>排他的其他写法(事件委托的排他)</h3><p><strong>tips：创建一个变量来储存上一个点击的元素</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#box"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建一个变量来存储上一个点击的元素</span><span class="token keyword">var</span> prev <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 如果点击的目标元素不是box这个对象</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token operator">!==</span> box<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 如果存在上一次点击的元素</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 就去掉背景色</span>            prev<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 再给目标元素添加背景色</span>        e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"tan"</span><span class="token punctuation">;</span>       <span class="token comment">// 添加完之后把这个目标元素设置为上一次点击的元素</span>        prev <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="jQuary"><a href="#jQuary" class="headerlink" title="jQuary"></a>jQuary</h2><h3 id="入口函数"><a href="#入口函数" class="headerlink" title="入口函数"></a>入口函数</h3><ul><li><p>JQuery入口函数$(回调函数  作为入口函数等待html<strong>标签</strong>全部加载完就会执行  不会覆盖 )</p></li><li><p>```js<br>$(function(){html标签加载完执行})</p><pre class="language-none"><code class="language-none">**要先引入jQ**```html&lt;script src="./jquery-3.6.0.min.js"&gt;&lt;/script&gt;</code></pre></li></ul><p><strong>推荐写法：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">798</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$ <span class="token operator">===</span> jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//true</span></code></pre><p>其他写法：</p><p>方法一：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1010</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>方法二： document 准备好之后执行</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>方法三</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">22222</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><ul><li>基本格式一</li><li><strong>$(“选择器”).事件类型(function(){事件类型省on 事件处理程序});</strong></li><li>JQuery优势  允许  群体控制 隐式迭代  内部封装了给同一个类型多个的对象添加相同操作</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 基本格式一</span>    <span class="token comment">// $("选择器").事件类型(function(){事件类型省on 事件处理程序});</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".btn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// JQuery优势  允许  群体控制 隐式迭代  内部封装了给同一个类型多个的对象添加相同操作</span>        <span class="token comment">// $("div").css("background","red");</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">"400px"</span><span class="token punctuation">,</span>            <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">"400px"</span><span class="token punctuation">,</span>            <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span>            <span class="token literal-property property">border</span><span class="token operator">:</span> <span class="token string">"1px solid #000"</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">**</span></code></pre><p><strong>基本格式二  可以给没有封装的事件类型去绑定事件  还可以做事件委托</strong></p><ul><li><strong>$(“选择器”).on(“事件类型”,function(){事件处理程序});</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//报错,没有封装touchstart()方法</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".btn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">touchstart</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>几个手机端的事件</strong></p><ul><li>ontouchstart  手指按下事件</li><li>ontouchmove  手指移动事件</li><li>ontouchend  手指移走事件</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".btn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"touchstart"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="显示隐藏案例"><a href="#显示隐藏案例" class="headerlink" title="显示隐藏案例"></a>显示隐藏案例</h3><p><strong>原生</strong></p><pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> btn2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> btn3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    btn1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// js修改的是行内样式</span>        box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>        flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    btn2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// js修改的是行内样式</span>        box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>        flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//默认是隐藏</span>    btn3<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>            box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>            flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>jQ</strong></p><ul><li>show() 显示 参数是毫秒值  可以控制动画时间</li><li>hide()隐藏</li><li>toggle()切换</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:nth-child(1)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// show() 显示 参数是毫秒值  可以控制动画时间</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:nth-child(2)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// hide()隐藏</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:nth-child(3)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// toggle()切换</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="滑动显示隐藏"><a href="#滑动显示隐藏" class="headerlink" title="滑动显示隐藏"></a>滑动显示隐藏</h3><ul><li>slideDown() 向下滑动显示  传入一个毫秒值  可以控制滑动的时间</li><li>slideUp() 向上滑动隐藏</li><li>slideToggle()滑动切换</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:nth-child(1)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// slideDown() 向下滑动显示  传入一个毫秒值  可以控制滑动的时间</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideDown</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:nth-child(2)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// slideUp() 向上滑动隐藏</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:nth-child(3)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// slideToggle()滑动切换</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="修改标签和文字的方法"><a href="#修改标签和文字的方法" class="headerlink" title="修改标签和文字的方法"></a>修改标签和文字的方法</h3><p>可以修改或者获取标签里面的内容</p><ul><li>html()可以识别标签(相当于innerHTML)  </li><li>text()只能识别文字(相当于innerText)</li><li>小括号里面如果没有传递参数就是<strong>获取</strong>,如果传递了参数就是<strong>修改</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div:nth-child(1)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div:nth-child(1)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;修改了标签和文字&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div:nth-child(2)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div:nth-child(2)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">"修改了内容"</span><span class="token punctuation">)</span></code></pre><h3 id="jQ对象和Dom对象的转换"><a href="#jQ对象和Dom对象的转换" class="headerlink" title="jQ对象和Dom对象的转换"></a>jQ对象和Dom对象的转换</h3><ul><li><p>原来通过<code>document.xxx</code> 获取到是 原生 的 dom对象</p></li><li><p>通过<code>$("选择器")  $(dom对象)</code> 获取到的是JQ对象  <a href="https://jquery.cuishifeng.cn/">https://jquery.cuishifeng.cn/</a></p></li><li><p>jQ对象只能使用jQ有封装的方法,如果没有封装的web  api需要转化dom对象才能使用</p></li><li><p>jQ 转 Dom</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"选择器"</span><span class="token punctuation">)</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"选择器"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></code></pre></li><li><p>DOM 转 jQ</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span>dom对象<span class="token punctuation">)</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"选择器"</span><span class="token punctuation">)</span></code></pre></li></ul><pre class="language-js" data-language="js"><code class="language-js">btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// video.play()</span>    <span class="token comment">// $("video").play();</span>    <span class="token comment">// $("video")[0].play();</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"video"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 转化成jQ对象</span><span class="token comment">// $("button").hide()</span><span class="token function">$</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="访问标签的css"><a href="#访问标签的css" class="headerlink" title="访问标签的css"></a>访问标签的css</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 获取div的display属性的值</span>    <span class="token comment">// var state = $("div").css("display");</span>    <span class="token comment">// if (state === "none") {</span>    <span class="token comment">//     $("div").show();</span>    <span class="token comment">// } else {</span>    <span class="token comment">//     $("div").hide();</span>    <span class="token comment">// }</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="修改标签的属性方法"><a href="#修改标签的属性方法" class="headerlink" title="修改标签的属性方法"></a>修改标签的属性方法</h3><p>修改标签的原生属性,只传一个参数是获取属性的值</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// $("选择器").prop("k","v");</span><span class="token comment">// $("选择器").prop({k:v,k:v});</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// $("img").prop("src", "./images/my.webp")</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">"./images/my.webp"</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"马云"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="修改标签的自定义"><a href="#修改标签的自定义" class="headerlink" title="修改标签的自定义"></a>修改标签的自定义</h3><p><strong>原生</strong></p><pre class="language-js" data-language="js"><code class="language-js">img<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//设置自定义属性</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"aa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取自定义属性</span>img<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">"bb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//移除自定义属性</span></code></pre><p><strong>jQ</strong></p><p>修改标签的原生属性,只传一个参数是获取属的值</p><ul><li>$(“选择器”).prop(“k”,”v”);</li><li>$(“选择器”).prop({k:v,k:v});</li></ul><p>修改自定义属性,只传一个参数是获取属性的值</p><ul><li>$(“选择器”).attr(“k”,”v”);</li><li>$(“选择器”).attr({k:v,k:v});</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// $("img").prop("src", "./images/my.webp")</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="css的选择器补"><a href="#css的选择器补" class="headerlink" title="css的选择器补"></a>css的选择器补</h3><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* ~选择指定标签后面的全部 */</span><span class="token selector">div:hover~p</span> <span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>选择器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>选择后面的所有<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>选择后面的所有<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>选择后面的所有<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><h2 id="jQ的选择器"><a href="#jQ的选择器" class="headerlink" title="jQ的选择器"></a>jQ的选择器</h2><p><strong>:first 筛选指定元素中的第一个</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:first"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>:last 筛选指定元素中的最后一个</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:last"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>:eq(index) 筛选指定索引号的元素</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(3)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>:not(选择器) 筛选怕排除某选择器以外的其他元素</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"*:not('#box,html,body')"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"border"</span><span class="token punctuation">,</span> <span class="token string">"1px solid #000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>:gt(index) 筛选索引号大于index的标签</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"p:gt(5)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">)</span></code></pre><p><strong>:lt(index) 筛选索引号小于index的标签</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"p:lt(2)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>:header 筛选标题类型的标签</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">":header"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>父元素选择器</strong></p><ul><li>$(“选择器”).parent() 选择指定直接父元素</li><li>$(“选择器”).parents() 选择全部的祖先标签,有传参数可以传一个选择器进去指定某个祖先标签</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".close"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log($(this))</span>    <span class="token comment">// $(this).parent().hide()</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>同级选择器</strong></p><p><strong>siblings()</strong></p><p><strong>原生</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 先全部去掉</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            btns<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 再确立自己</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"tan"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>jQ</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"tan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>jQuery<strong>链式编程</strong>是指方法后面可与接着继续调用其他的方法  因为jQuery封装方法的时候 都return 了 this当前对象</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// $(this).siblings().css("background", "");</span>    <span class="token comment">// $(this).css("background", "tan");</span>    <span class="token comment">// jQuery链式编程是指方法后面可与接着继续调用其他的方法  因为jQuery封装方法的时候 都return 了 this当前对象</span>    <span class="token comment">// $(this).css("background", "pink").siblings().css("background", "");</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"border"</span><span class="token punctuation">,</span> <span class="token string">"1px solid red"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="子级选择器"><a href="#子级选择器" class="headerlink" title="子级选择器"></a>子级选择器</h3><p>需求：</p><ul><li>鼠标移上li的时候，隐藏p 显示img</li><li>鼠标离开li的时候，显示p 隐藏img</li></ul><p><strong>原生</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"ul&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onmouseenter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onmouseleave</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>jQ</strong></p><ul><li>$(“选择器”).children()方法可以选择指定标签的所有<strong>直接</strong>子元素，小括号里面如果<strong>传入一个选择器可以选择指定的子元素</strong></li><li>jQuery封装了一个hover()可以传入两个回调函数，第一个表示鼠标移入执行，第二个表示鼠标移出执行，如果只写一个回调函数表示鼠标移入和离开都执行<strong>相同的操作</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>化简一</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>化简二</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>化简三</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="筛选过滤选择器"><a href="#筛选过滤选择器" class="headerlink" title="筛选过滤选择器"></a>筛选过滤选择器</h3><p><code>:eq()</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"p:eq("</span> <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>.eq()</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">,</span> <span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>:eq()和.eq 筛选过滤的区别是如果index是<strong>动态</strong>的  前者需要<strong>拼接字符串</strong>，后者则不用</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre><h3 id="鼠标移入"><a href="#鼠标移入" class="headerlink" title="鼠标移入"></a>鼠标移入</h3><p><strong>鼠标移上和离开</strong></p><p>mouseover 和 mouseout 是一对  <strong>有冒泡</strong>  给父级绑定了事件,如果碰到它里面的后代元素  会反复触发这个事件</p><pre class="language-js" data-language="js"><code class="language-js">big<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>mouseenter 和 mouseleave是一对  <strong>没有冒泡</strong> 执行效率会更高</p><pre class="language-js" data-language="js"><code class="language-js">big<span class="token punctuation">.</span><span class="token function-variable function">onmouseenter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="下拉菜单"><a href="#下拉菜单" class="headerlink" title="下拉菜单"></a>下拉菜单</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//版一</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 显示</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"ol"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 隐藏</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"ol"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//版二</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"ol"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"ol"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//版三</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"ol"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>注意</strong></p><ul><li>切换</li><li>动画运动需要事件才能执行完，反复触发这个动画，动画就会产生排队执行的效果</li><li>所以需要清除这个排队，可以在最后一个动画之前加上<code>stop()</code></li></ul><h3 id="类名的增删改"><a href="#类名的增删改" class="headerlink" title="类名的增删改"></a>类名的增删改</h3><p><strong>原生</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".box"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    box<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"bg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>jQ</strong></p><p><strong>addClass() 添加类名 不影响原来的类名</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".box"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"bg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>removeClass()移除类名</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".box"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"bg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>t</strong></p><p><strong>oggleClass()切换类名</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 切换类名</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".box"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"bg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>百度风云榜单</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 展开和关闭的类名 open 控制背景图的显示 +没有open类  -有这个open类就是减号</span><span class="token comment">// 点击span 设置 当前元素切换类open 设置span的同级的ol滑动切换slideToggle();</span><span class="token comment">// 因为只能展开一个</span><span class="token comment">// 还要再设置当前标签的  父元素 parent() 的同级 siblings()  的子级  .children("span") 移除remove  open类</span><span class="token comment">// 还要再设置当前标签的  父元素 parent()  的同级 siblings()  的子级  .children("ol") 滑动隐藏slideUp</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"ol"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slideUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="索引值"><a href="#索引值" class="headerlink" title="索引值"></a>索引值</h3><p>点击上面的按钮，弹出它的index</p><p><strong>原生</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// var btns = document.querySelectorAll("button");</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//要先自定义</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span>    btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 才能获取</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>jQ</strong></p><ul><li>jQuery封装了index()方法可以直接获取到了元素的下标</li><li>用$(“选择器”)方法获取元素的时候已经定义好元素的index了，所以可以直接获取</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="Tab切换"><a href="#Tab切换" class="headerlink" title="Tab切换"></a>Tab切换</h3><p><strong>原生</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> spans <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"ul&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> spans<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    spans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span>    spans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> spans<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            spans<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        lis<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>jQ</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 自己加上当前类，其他的移除当前类</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 存储用户点击的按钮的下标</span>    <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 用户点击的按钮的下标的li显示，其他兄弟隐藏</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="css补充"><a href="#css补充" class="headerlink" title="css补充"></a>css补充</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 选中已经勾选的表单 */</span><span class="token selector">input:checked</span> <span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="全选反选-敲"><a href="#全选反选-敲" class="headerlink" title="全选反选(敲)"></a>全选反选(敲)</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// change表单的值改变事件</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_cbAll"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 获取全选框的选中状态的值</span>    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 设置下面全部选框的checked属性为  全选框的选中状态的值</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 全选文字的值根据选中状态修改</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#txt"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>flag <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 点击里面的选框控制全选</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span>allSel<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 封装一全选</span><span class="token keyword">function</span> <span class="token function">allSel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 每个选框选中的个数  如果  等于  总个数  就可以全选</span>    <span class="token comment">//#j_tb input:checked 已经选中的框</span>    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_tb input:checked"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_cbAll"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#txt"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>flag <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 反选</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#rev"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 注意事项：</span>    <span class="token comment">// jQuery 的隐式迭送只是封装了多个同一个类型的对象执行相同的操作</span>    <span class="token comment">// 没有封装执行不同的操作</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log($("#j_tb input").eq(i).prop("checked"))</span>        <span class="token comment">// 第eq(0)个input 的 选中状态是 第eq(0)的checked值取反!</span>        <span class="token comment">// 第eq(1)个input 的 选中状态是 第eq(1)的checked值取反!</span>        <span class="token comment">// ....</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"checked"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// 调用全选</span>    <span class="token function">allSel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="表单相关的方法"><a href="#表单相关的方法" class="headerlink" title="表单相关的方法"></a>表单相关的方法</h3><p><strong>val() 方法没有传递参数就是获取表单的value值,传了参数就是修改表单的value值</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(0)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(1)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"textarea"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(2)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">"修改了input的值"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(3)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"textarea"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">"修改了textarea的值"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="去掉前后的空格"><a href="#去掉前后的空格" class="headerlink" title="去掉前后的空格"></a>去掉前后的空格</h3><p><strong>原生</strong></p><p>string.trim() 可以去掉字符串前后的空格  ie兼容不好</p><p><strong>jQuery $.trim(string) 去掉字符串前后空格</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"    how are you    "</span><span class="token punctuation">;</span><span class="token comment">// console.log(str,trim())</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="节点增加"><a href="#节点增加" class="headerlink" title="节点增加"></a>节点增加</h3><ul><li>在某个元素的子级中，往后添加节点</li><li>$(element).append(“子节点”);</li><li>在某个元素的子级中，往前面添加节点</li><li>$(element).prepend(“子节点”);</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".before"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 表单的值去掉空格</span>    <span class="token keyword">var</span> val <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//非空校验</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 在某个元素的子级中，往前面添加节点</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入内容"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".after"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 表单的值去掉空格</span>    <span class="token keyword">var</span> val <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 在某个元素的子级中,往后面添加节点</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入内容"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="增加同级节点"><a href="#增加同级节点" class="headerlink" title="增加同级节点"></a>增加同级节点</h3><ul><li>在element之前添加兄弟节点</li><li>$(element).before(“兄弟节点”)</li><li>在element之后添加兄弟节点</li><li>$(element).after(“兄弟节点”)</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(0)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".brother"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;我是增加在前面的兄弟p&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(1)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".brother"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;我是增加在前面的兄弟p&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="移除节点"><a href="#移除节点" class="headerlink" title="移除节点"></a>移除节点</h3><p><strong>empty()清除了盒子里面的全部内容(li)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(0)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>remove()移除删除了自身(ul)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(1)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>把p替换成h2</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(2)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;h2&gt;我是后来者居上&lt;/h2&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><ul><li><p>事件委托的作用：</p></li><li><p>性能要好（为多个相同元素绑定事件）</p></li><li><p>针对新创建的元素，直接可以拥有事件（为不存在的元素绑定事件）</p></li><li><p>jQuery事件委托语法</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"选择器父级"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"事件类型"</span><span class="token punctuation">,</span> <span class="token string">"后代元素"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button:eq(0)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>fabu<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">fabu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 表单的内容去掉前后空格</span>    <span class="token keyword">var</span> val <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 如果不是空的</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 就创建一个li</span>        <span class="token keyword">var</span> li <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;button&gt;x&lt;/button&gt;&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>        <span class="token comment">// 添加到ul里面的前面</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入内容"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 网页文档document的任意位置按回车键位</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keyup</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(e.keyCode)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">fabu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 注意 jQ事件委托里面的$(this)是点击的目标元素 和 原生 js不一样</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token string">"button"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log($(this));</span>    <span class="token comment">// 移除点击按钮的父元素</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>原生事件this</strong></p><pre class="language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//this调用函数的对象 在事件里面指向事件源</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>    <span class="token comment">//e.target 点击的目标元素</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="事件解绑"><a href="#事件解绑" class="headerlink" title="事件解绑"></a>事件解绑</h3><p><code>off()</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击了这个按钮</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 解绑了前面按钮的点击事件</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"删除了前面按钮绑定的点击事件"</span><span class="token punctuation">)</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h1 id="JQuary-Ajax"><a href="#JQuary-Ajax" class="headerlink" title="JQuary - Ajax"></a>JQuary - Ajax</h1><h3 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求"></a>GET请求</h3><p><strong>语法：</strong></p><pre class="language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url <span class="token operator">:</span>表示请求资源的路径  <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span>value<span class="token punctuation">}</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token function">响应结果</span><span class="token punctuation">(</span>形参<span class="token punctuation">)</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://kumanxuan1.f3322.net:8809/travels/query"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">orderType</span><span class="token operator">:</span> <span class="token string">"2"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(res.data.content[1].destName);</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求"></a>POST请求</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 使用post请求登录接口</span>$<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"http://kumanxuan1.f3322.net:8809/users/login"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">"123"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="ajax语法"><a href="#ajax语法" class="headerlink" title="ajax语法"></a>ajax语法</h3><pre class="language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">"请求的网址url"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span><span class="token comment">//请求类型</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//请求时携带的参数</span>        <span class="token literal-property property">key</span><span class="token operator">:</span>value<span class="token punctuation">,</span>        <span class="token literal-property property">key1</span><span class="token operator">:</span>value1    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//成功的回调</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">error</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//失败的异常</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://kumanxuan1.f3322.net:8809/travels/query"</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token literal-property property">orderType</span><span class="token operator">:</span> <span class="token string">"2"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 需求：将旅游日记列表的标题渲染到页面显示</span><span class="token comment">// 1：请求数据</span>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://kumanxuan1.f3322.net:8809/travels/query"</span><span class="token punctuation">,</span>    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 2:做一个响应处理</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 业务逻辑(给原本的数据进行一个清空处理)</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 3循环添加(DOM渲染)</span>            res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// console.log(item, index);</span>                <span class="token comment">// console.log(item.title);</span>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="半个登录"><a href="#半个登录" class="headerlink" title="半个登录"></a>半个登录</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 事件绑定之后</span>    <span class="token comment">// 1:获取到用户名和密码</span>    <span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'input[name="user"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> pwd <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'input[name="pwd"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// console.log(user);</span>    <span class="token comment">// 2:非空校验</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">&amp;&amp;</span> pwd<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 3进行ajax请求</span>        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://kumanxuan1.f3322.net:8809/users/login"</span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token literal-property property">username</span><span class="token operator">:</span> user<span class="token punctuation">,</span>                <span class="token literal-property property">password</span><span class="token operator">:</span> pwd            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"铁子，是不是没有输入内容呢！！！"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> jQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notice</title>
      <link href="/2022/06/11/notice/"/>
      <url>/2022/06/11/notice/</url>
      
        <content type="html"><![CDATA[<h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a><strong>注意</strong></h1><p><strong>排错</strong></p><blockquote><p>控制台报错</p><p>console.log()一下</p><p>代码执行流程</p><p>第三方视角 ， 读代码</p><p>遇到 这个属性每赋值，找属性或者属性前面的代码有问题</p></blockquote><ul><li><p><input disabled="" type="checkbox"> width给100%是继承父盒子的宽度，如果再给padding 就会撑出盒子。(外增)</p></li><li><p><input disabled="" type="checkbox"> auto是默认父盒子宽度，给padding不会撑大盒子。（內减）</p></li><li><p><input disabled="" type="checkbox"> 弹性布局：百分比：父元素对于子元素是100%</p></li><li><p><input disabled="" type="checkbox"> 弹性布局：在父盒子是作用于直接子集。(只有亲儿子生效)</p></li><li><p><input disabled="" type="checkbox"> 弹性布局，padding、margin起作用</p></li><li><p><input disabled="" type="checkbox"> <strong>定位了要给个宽度</strong>，才能分配空间</p></li><li><p><input disabled="" type="checkbox"> 没给高，不能align居中</p></li><li><p><input disabled="" type="checkbox"> 定位居中，加高？</p></li><li><p><input disabled="" type="checkbox"> 给了标签就不用伪元素，不要多此一举！！！！</p></li><li><p><input disabled="" type="checkbox"> 伪元素是行内元素</p></li><li><p><input disabled="" type="checkbox"> 自适应：用百分比。</p></li><li><p><input disabled="" type="checkbox"> 交集选择器：同时有两个类的生效</p></li><li><p><input disabled="" type="checkbox"> 盒子左右布局可以弹性和浮动</p></li><li><p><input disabled="" type="checkbox"> 过渡属性，需要那个元素发生改变，就给那个元素加上</p></li><li><p><input disabled="" type="checkbox"> text-align: center;只对行内元素和行内块元素有效</p><ul><li><input disabled="" type="checkbox"> 块级居中先想到margin：auto</li></ul></li><li><p><input disabled="" type="checkbox"> img图片和边框下面的间隔用 vertical-align：middle</p></li><li><p><input disabled="" type="checkbox"> 弹性布局，一排显示，如果子盒子加了百分比，就按百分比显示，如果需要盒子间有空隙，就需要宽度calc来计算</p></li><li><p><input disabled="" type="checkbox"> 弹性布局，如果父盒子给了高，那么子盒子只给宽亦有高度</p></li><li><p><input disabled="" type="checkbox"> margin-方位：要写在margin：auto 后面，否则会被覆盖（就近原则）</p></li><li><p><input disabled="" type="checkbox"> tab栏全 li 加个透明上边框，每选到一个上边框就不会把文字挤下去</p></li><li><p><input disabled="" type="checkbox"> outline: none;消除输入框的外边框</p></li><li><p><input disabled="" type="checkbox"> <strong>flex 布局：</strong>给100%需要注意父级元素</p></li><li><p><input disabled="" type="checkbox"> 行内元素在水平方向上设置内外边距是有效的，在垂直方向上设置内外边距是无效的。</p></li><li><p><input disabled="" type="checkbox"> 在垂直方向上给行内元素设置内边距，在显示上是将元素范围扩大了，但实际上不会对周围元素有任何影响</p></li><li><p><input disabled="" type="checkbox"> 全屏banner</p><p>全屏的banner宽度是1920px,小分辨率的电脑屏幕只有1334px，所以版心一般不超过1200px。</p><p>全屏banner直接使用img标签，img标签是一个占位图，会把页面撑开横向滚动条，正常来说非响应式的网站屏幕的宽度没有小于版心，不能有横向滚动条。</p><p>所以全屏banner是可以给一个自动auto充满的盒子设置成背景图居中即可。</p><p>非响应式网站，全屏的banner缩小网页的时候，banner变小，内容没有变小，会和内容部分的比例不协调，大屏的时候banner又很大，所以响应式网站才设置img100%的宽度去实现banner，而且要设置最大宽度限制，非响应式全屏banner最方便的方法就是设置背景图居中。</p></li><li><p><input disabled="" type="checkbox"> 当animated动画没有效果时，有可能是该元素是行内元素，解决方法：要改变成行内块元素： dsiplay: inline-block;</p></li><li><p><input disabled="" type="checkbox"> 属性选择器 在表单里面常用<code>select[name="perExpendType"]</code></p></li><li><p><input disabled="" type="checkbox"> 属性选择器 [cloak]{ … }  选择有这个属性的元素</p></li><li><p><input disabled="" type="checkbox"> <strong>display:flex  有时可以替换dispaly：inline-block，掉下来，给父级display:flex，可以解决</strong></p></li><li><p><input disabled="" type="checkbox"> css3 <code>@import "...";</code></p></li><li><p><input disabled="" type="checkbox"> less语法:<code>@变量</code></p></li><li><p><input disabled="" type="checkbox"> 居中：<code>left:0;top:0;right:0;bottom:0;margin: auto</code>只适合<strong>自身有宽度</strong>的情况下，没有宽度(通用)用 left:50%,transform:translate(-50%)</p></li><li><p><input disabled="" type="checkbox"> <strong>input 可能有默认样式，用 box-sizing: border-box; 消除</strong></p></li><li><p><input disabled="" type="checkbox"> <code>nth-of-type(4n)</code>4的倍数，使用场景：li,排序</p></li><li><p><input disabled="" type="checkbox"> 动画效果：不能作用于行内样式</p></li><li><p><input disabled="" type="checkbox"> 一个元素定宽，另一个元素占满给flex：1</p></li><li><p><input disabled="" type="checkbox"> flex:1不等于100%，100%是完全占满，不留余地</p></li><li><p><input disabled="" type="checkbox"> 写 auto，不能写过渡(确定前后的值)</p></li><li><p><input disabled="" type="checkbox"> <strong>遇到的问题：</strong>固定定位给了overflow: auto; 不能滑倒底，给bottom:0 试一试</p></li><li><p><input disabled="" type="checkbox"> <strong>重点 滚动条 问题：如果父盒子给了overflow：hide，给子盒子overflow：auto，如果遇到滚动条到底不能完全显示，给子盒子100%（还有给父盒子弹性布局，纵向定位）</strong></p></li><li><p><input disabled="" type="checkbox"> 页面被盒子顶住的时候可以设置超出隐藏</p></li><li><p><input disabled="" type="checkbox"> <strong>收缩浏览器窗口的时候，不想盒子压缩，像压缩外边距可以给外边距auto，盒子定宽高</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>css隐藏滚动条：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">.</span>element<span class="token operator">:</span><span class="token operator">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>scrollbar <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">!</span>important <span class="token punctuation">}</span></code></pre></li><li><p><input disabled="" type="checkbox"> </p></li></ul><h1 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h1><ul><li><p><input disabled="" type="checkbox"> prompt 输入的，都是<strong>字符串型的数据</strong>。</p><blockquote><p>对象</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">abc</span><span class="token operator">:</span>”ss”<span class="token punctuation">,</span><span class="token literal-property property">nn</span><span class="token operator">:</span><span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">&gt;</span><span class="token keyword">var</span> v1 <span class="token operator">=</span> obj<span class="token punctuation">.</span>abc<span class="token punctuation">;</span><span class="token comment">//使用点的方式</span><span class="token operator">&gt;</span><span class="token keyword">var</span> v2 <span class="token operator">=</span> obj<span class="token punctuation">[</span>“abc”<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//使用中括号的方式</span><span class="token operator">&gt;</span>在实际项目中一般使用点，会方便许多，但是如果key是变量的话就不能使用点了，js会理解变量为对象的key值，造成混淆<span class="token operator">&gt;</span><span class="token keyword">var</span> v3 <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//key是一个变量</span></code></pre></blockquote></li><li><p><input disabled="" type="checkbox"> 取余：<code>前数</code>%<code>后数</code>，(如果前数小于后数，值取前数)</p></li><li><p><input disabled="" type="checkbox"> 对象在循环外新增属性(一定要先定义)，在遍历中循环添加属性的数据</p></li><li><p><input disabled="" type="checkbox"> DOM元素中的事件绑定函数需要<code>()</code>,写在js里面的事件绑定函数不需要<code>()</code></p></li><li><p><input disabled="" type="checkbox"> 如果声明的函数需要计算的，就需要初始化；如var sum = 0,这种</p></li><li><p><input disabled="" type="checkbox"> switch 如果要判断范围，参数为true   case  判断条件 为true  执行     switch case语句在比较的时候用的是全等，即condition === case</p></li><li><p><input disabled="" type="checkbox"> 注意从0开始的，有顺序的，整数的一串连续的数字，可以当成是数组下标，从而求出数组的值</p></li><li><p><input disabled="" type="checkbox"> 数组的遍历，循环，var 一个 i 变量，i = 0 ，判断语句是 i &lt; 数组的长度(数组的下标加1)，i++</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li><p><input disabled="" type="checkbox"> 如果数组内容是字符，如果求和，记得取值时要把值转数据型。</p><pre class="language-js" data-language="js"><code class="language-js">sum <span class="token operator">+=</span> <span class="token operator">+</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p><input disabled="" type="checkbox"> 牢记数组取值写法，别忘了；</p><pre class="language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p><input disabled="" type="checkbox"> return 是写在函数内第一层。</p></li><li><p><input disabled="" type="checkbox"> 字符串对象.indexOf()    方法   判断参数是否有在字符串里面   没有就返回-1</p></li><li><p><input disabled="" type="checkbox"> for…in…for in 可循环遍历数组、对象（非数组对象上遍历也称枚举）、字符串</p></li><li><p><input disabled="" type="checkbox"> 数组.map(item=&gt;{return …})   如果是<code>{}</code>里面就要return ， 如果是<code>()</code>就不需要return</p></li><li><p><input disabled="" type="checkbox"> </p><pre><code class="js">(Math.random() * 5) + 4// 取到4至8<pre class="language-none"><code class="language-none">- [ ] Array()只有一个参数就是数组的长度- [ ] ```css  jsx：里面写html的标签用`()`,html的标签里面用js用`{}`  在jsx中，书写js代码，需要加{}  刚好样式要求书写成对象格式  书写类名的时候，需要用className来书写  书写1abe1标签的for属性的时候，需要写成htmlFor</code></pre></code></pre></li><li><p><input disabled="" type="checkbox"> </p><h5 id="深拷贝和浅拷贝："><a href="#深拷贝和浅拷贝：" class="headerlink" title="深拷贝和浅拷贝："></a>深拷贝和浅拷贝：</h5><p><strong>整块赋值是指向同一块内存空间，每个值单独赋予为深拷贝</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> 数组 <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [1, 2, 3, 4] 浅拷贝</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    b<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [1, 2, 3] 深拷贝</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> 对象 <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">13</span> <span class="token punctuation">}</span><span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>a<span class="token punctuation">.</span>sy <span class="token operator">=</span> <span class="token string">'aa'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {name: '张三', age: 13, sy: 'aa'}  浅拷贝</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">13</span> <span class="token punctuation">}</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span>k <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>    b<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">}</span>a<span class="token punctuation">.</span>jy <span class="token operator">=</span> <span class="token string">'aa'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {name: '张三', age: 13} 深拷贝</span></code></pre><p><strong>扩展运算符( … )：一层数据属于是深拷贝，多层属于是浅拷贝。</strong></p></li><li><p><input disabled="" type="checkbox"> </p></li></ul><h3 id="一些-有返回值-但没-改变原来对象-的方法"><a href="#一些-有返回值-但没-改变原来对象-的方法" class="headerlink" title="一些  有返回值  但没   改变原来对象   的方法"></a>一些  有返回值  但没   改变原来对象   的方法</h3><p>输出： 整串输出    或者      赋值给一个变量(或者自己)再输出</p><pre class="language-js" data-language="js"><code class="language-js">字符串变量<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span>数组名<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span>数组名<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>数组名<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>字符串变量<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>字符串变量<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"替换的字符"</span><span class="token punctuation">,</span><span class="token string">"替换成的字符"</span><span class="token punctuation">)</span>字符串变量<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>字符串变量<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="数组-下标-x3D-值"><a href="#数组-下标-x3D-值" class="headerlink" title="数组[下标] = 值"></a>数组[下标] = 值</h3><h3 id="对象-属性-x3D-值"><a href="#对象-属性-x3D-值" class="headerlink" title="对象[属性] = 值"></a>对象[属性] = 值</h3><ul><li><p><input disabled="" type="checkbox"> <strong>开关思想：</strong>点击一个按钮(一个事件)控制两种不同的状态，先声明一个flag变量，记得每次判断完要将flag变量：变相反  <strong>开了之后可以关回来</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>排他思想：</strong>点击哪一个，就只有那一个生效，<strong>其他的不生效</strong>。在事件执行函数里面，在该点击生效之前，先清除所有的元素的效果</p></li><li><p><input disabled="" type="checkbox"> 注意查看是否需要<strong>非空校验</strong>              非空校验先将不符合规范的先if写出来，然后return   下面是符合规范的</p></li><li><p><input disabled="" type="checkbox"> 非空校验 条件里面  可以取反简写</p></li><li><p><input disabled="" type="checkbox"> 在事件执行函数里面注意<strong>活用this</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>1. 普通的this始终指向调用者</strong><br><strong>2. 而箭头函数的this由上下文决定</strong></p></li><li><p><input disabled="" type="checkbox"> 数组和字符串(重点)</p></li><li><p><input disabled="" type="checkbox"> 取随机数注意取到的是<strong>随机数还是数组下标</strong></p></li><li><p><input disabled="" type="checkbox"> 使用<strong>for循环</strong>时，注意：<strong>你想要</strong>取到的是<strong>下标</strong>还是<strong>次数</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>注意：</strong>中括号运算符总是能代替点运算符。但点运算符却不一定能全部代替中括号运算符。</p></li><li><p><input disabled="" type="checkbox"> 点和中括号方式的<strong>区别</strong><br>1.点方法后面跟的必须是一个指定的属性名称，中括号里面可以是变量<br>2.中括号里面的属性可以是数字，点方法后面的属性名不能是数字<br>3.动态为对象添加属性是，只能用中括号</p></li><li><p><input disabled="" type="checkbox"> 定时器，看看情况声明num，用于计算num++,num–</p></li><li><p><input disabled="" type="checkbox"> 本来不存在HTML的标签，是后面添加上的，不能用于绑定其他事件，要给他存在于html的父级标签添加委托才能绑定事件</p></li><li><p><input disabled="" type="checkbox"> 函数的实参可以是任何的数据类型</p></li><li><p><input disabled="" type="checkbox"> <strong>有 return 返回值的需要打印</strong></p></li><li><p><input disabled="" type="checkbox"> 在5px-50px之间的随机值   <code>Math.floor(Math.random() * (50 - 5 + 1) + 5)</code>    (最大-最小 + 1)+最小（+1可以取到两边）</p></li><li><p><input disabled="" type="checkbox"> clientX 事件属性返回当事件被触发时鼠标指针相对于浏览器页面（或客户区）的水平坐标。</p><pre class="language-js" data-language="js"><code class="language-js">event<span class="token punctuation">.</span>clientX</code></pre></li><li><p><input disabled="" type="checkbox"> 获取 <strong>body</strong> 元素</p><pre class="language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span>body</code></pre></li><li><p><input disabled="" type="checkbox"> 获取 <strong>html</strong> 元素</p><pre class="language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span>html</code></pre></li><li><p><input disabled="" type="checkbox"> <strong>注意：</strong>在JavaScript中，划分作用域也是用大括号划分的， 但是在 JS 之中能够有效限定作用域的大括号只有<strong>函数大括号</strong>!</p></li><li><p><input disabled="" type="checkbox"> if()…..小括号里面的<strong>i</strong>声明都是全局变量</p></li><li><p><input disabled="" type="checkbox"> 注意：<strong>事件</strong> 和 <strong>声明变量初始化</strong>之间的关系；(全局或者局部)(声明在事件里面，事件发生时，是否会<strong>再次初始化</strong>)</p></li><li><p><input disabled="" type="checkbox"> 创建的标签，要插入已经存在的标签里面</p></li><li><p><input disabled="" type="checkbox"> 注意调用函数有没有返回值,需不需要返回值            undefind是没有返回值</p></li><li><p><input disabled="" type="checkbox"> return 无法打断forEach</p></li><li><p><input disabled="" type="checkbox"> map() 方法创建一个新数组，这个新数组由原数组中的每个元素都调用一次提供的函数后的返回值组成。</p></li><li><p><input disabled="" type="checkbox"> <strong>数据处理：</strong> 1：可利用对象属性的不可重复性；2：可将对象推进数组，使用数组的方法。</p></li><li><p><input disabled="" type="checkbox"> <strong>遍历：</strong> 对象：for…in;        数组：arr.forEach()……. 不能return，与遍历伪数组 ；for循环；var newArr = arr.map()方法会自动声明一个新数组，将旧数组每一项返回新数组；</p></li><li><p><input disabled="" type="checkbox"> <strong>谁调用这个函数或方法,this关键字就指向谁</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>引用数据类型 ，进行循环时，留意堆内存的清空  可以 splice 清空堆内存，将清空的数据返回给一个新容器，还要留意如果直接赋值，是否可以使用深拷贝的问题</strong></p></li><li><p><input disabled="" type="checkbox"> 单是返回一个 return 就是什么都不做</p></li><li><p><input disabled="" type="checkbox"> <strong>filter 可以用来进行群体删除。（返回的新数组可以是自己本身）</strong></p></li><li><p><input disabled="" type="checkbox"> ```js<br>函数：<br>1.什么时候执行的<br>2.传入什么参数<br>3.return 什么</p><pre class="language-none"><code class="language-none">- [ ] es5中合并两对象```jsconst obj1 = {  a:1,}const obj2 = {  b:1,}const obj = Object.assign({}, obj1, obj2);//{</code></pre><ul><li><p><input disabled="" type="checkbox"> 嵌套三级以上用<strong>递归</strong></p></li><li><p><input disabled="" type="checkbox"> </p><blockquote><p>事件=函数()：没有触发事件，函数也不会执行，<code>()</code>只是用来传参，默认没有参数，不是事件对象；</p><p>事件=函数：没有触发事件，函数不会执行，默认第一个参数是事件对象；</p></blockquote></li><li><p><input disabled="" type="checkbox"> 如果是两个事件（确定和取消）共用一个方法，(确定)需要请求，可以在方法里面给一个可选参数，调用的时候按需传参</p></li><li><p><input disabled="" type="checkbox"> <strong>函数的形参，直接写就行</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">parentId</span><span class="token operator">:</span> number<span class="token punctuation">,</span> pageNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> pageSize <span class="token operator">=</span> <span class="token number">10</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> adminListRes <span class="token operator">=</span> <span class="token keyword">await</span> smsHomeAdvertise<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>parentId<span class="token punctuation">,</span> <span class="token punctuation">{</span>    pageNum<span class="token punctuation">,</span>    pageSize<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>adminListRes<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pageNum<span class="token punctuation">,</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><input disabled="" type="checkbox"> 传参有序，函数内参数随便用</p></li></ul></li></ul><h2 id="js中的异步操作"><a href="#js中的异步操作" class="headerlink" title="js中的异步操作"></a><strong>js中的异步操作</strong></h2>  <pre class="language-js" data-language="js"><code class="language-js"><span class="token number">1.</span> setTimeout、setInterval<span class="token number">2.</span> Ajax请求一般采用异步，当然也可以设置为同步<span class="token number">3.</span> promise<span class="token punctuation">.</span>then<span class="token number">4.</span> <span class="token function">回调函数可以理解为异步，但不是严格的异步操作</span><span class="token punctuation">(</span>其实回调函数和异步同步没有直接的关系，同步函数也可以写回调<span class="token punctuation">,</span>要看调用者是同步的还是异步的<span class="token punctuation">,</span>只有在异步函数里的回调函数才是异步<span class="token punctuation">)</span><span class="token number">5.</span>事件监听。即监听某个事件，当事件发生时，再执行相应的操作（比如点击、mouseover等）一，事件监听，二，对象<span class="token punctuation">.</span>on方法，三，直接在行内写事件监听有两种方法，一种是addlisenerevent一种是attachevent</code></pre><ul><li><input disabled="" type="checkbox"> ES5中的数据结构，主要是用Array和Object。在ES6中主要新增了Set和Map数据结构。到目前为止，常用的数据结构有四种Array、Object、Set、Map。下面话不多说了，来一起看看详细的介绍吧。</li></ul><h2 id="ES6-实际开发"><a href="#ES6-实际开发" class="headerlink" title="ES6-实际开发"></a><strong>ES6-实际开发</strong></h2><ul><li><p><input disabled="" type="checkbox"> <strong>后台响应</strong>回来的数据进行<strong>结构</strong>的时候注意：</p><blockquote><p>可以通过<strong>结构的时候修改自己想要的变量名</strong></p><p>结构对象不能为<code>undefined</code>、<code>null</code>，可以给被解构对象一个默认值</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e<span class="token punctuation">}</span> <span class="token operator">=</span> obj <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></blockquote></li><li><p><input disabled="" type="checkbox"> <strong>合并对象数组</strong>用扩展运算符号(顺便new Set去重)</p></li><li><p><input disabled="" type="checkbox"> <strong>模板字符串</strong>中的<code>${}</code>中间可以放入任何js表达式，结合三元运算</p></li><li><p><input disabled="" type="checkbox"> <strong>includes</strong>的活用</p></li><li><p><input disabled="" type="checkbox"> <strong>列表搜索</strong>：精确搜索、模糊搜索</p><blockquote><p>平常利用<code>filter</code>方法</p><p>精确搜索：可以利用<code>find</code>方法，找到就不会再遍历数组</p></blockquote><ul><li><p><input disabled="" type="checkbox"> <strong>扁平化</strong><code>flat</code>方法</p></li><li><p><input disabled="" type="checkbox"> <strong>获取对象属性值（可选链操作符）</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 返回的数据是否存在</span><span class="token keyword">let</span> dataList <span class="token operator">=</span> <span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>dataList<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token comment">// 可选链操作符</span><span class="token keyword">let</span> dataList <span class="token operator">=</span> res<span class="token operator">?.</span>data<span class="token operator">?.</span>dataList <span class="token operator">||</span> <span class="token number">0</span></code></pre></li></ul></li><li><p><input disabled="" type="checkbox"> <strong>给对象添加属性时，如果属性名是动态变化的</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>obj<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">topic</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'话题内容'</span><span class="token punctuation">;</span></code></pre></li><li><p><input disabled="" type="checkbox"> <strong>非空校验(空值合并运算符)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 是一个逻辑操作符，当左侧的操作数为 null 或者 undefined 时，返回其右侧操作数，否则返回左侧操作数。</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token operator">??</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//...</span><span class="token punctuation">}</span></code></pre></li><li><p><input disabled="" type="checkbox"> **异步函数 **  async 和 await </p><blockquote><p><strong>并发请求</strong>时，还是要用到<code>Promise.all()</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token operator">&gt;</span>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// [1,2]</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token comment">// 如果并发请求时，只要其中一个异步函数处理完成，就返回结果，要用到Promise.race()</span></code></pre></blockquote></li><li><p><input disabled="" type="checkbox"> <strong>??=</strong></p><blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span>config<span class="token punctuation">.</span>headers <span class="token operator">=</span> config<span class="token punctuation">.</span>headers <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 短路</span><span class="token operator">&gt;</span>config<span class="token punctuation">.</span>headers <span class="token operator">=</span> config<span class="token punctuation">.</span>headers <span class="token operator">??</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 前面是否存在，存在用自身，否者就是后面</span><span class="token operator">&gt;</span><span class="token comment">// 可以简写成</span><span class="token operator">&gt;</span>config<span class="token punctuation">.</span>headers <span class="token operator">??=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></blockquote></li></ul><h1 id="VUE-2-6"><a href="#VUE-2-6" class="headerlink" title="VUE 2.6"></a>VUE 2.6</h1><ul><li><p><input disabled="" type="checkbox"> 所有样式的切换都是数据的修改控制</p></li><li><p><input disabled="" type="checkbox"> <strong>重置样式：npm i reset-css。在入口文件进行导入，import ‘reset-css’</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>样式做相关动效可以添加类和style，更加具体的条件判断</strong></p></li><li><p><input disabled="" type="checkbox"> <code>::v-deep 选择器</code>修改深度作用选择器</p></li><li><p><input disabled="" type="checkbox"> v-show 和 display 也是不能做过渡效果的</p></li><li><p><input disabled="" type="checkbox"> 活用<code>overflow: hidden</code></p></li><li><p><input disabled="" type="checkbox"> 原生属性加<code>:</code>就把<code>""</code>里面的变成js环境，标签外面变成<code>{{}}</code></p></li><li><p><input disabled="" type="checkbox"> 注意 js 运行环境来考虑加不加   引号；</p></li><li><p><input disabled="" type="checkbox"> 谁要不断的出现，v-for 就加在谁身上</p></li><li><p><input disabled="" type="checkbox"> 要么 这样  要么  那样 ———— 三元运输符</p></li><li><p><input disabled="" type="checkbox"> self：:key 属性，修改时，原来那些属性不会变的就写那个  ；不修改，用index，修改时，用item.id</p></li><li><p><input disabled="" type="checkbox"> 隐藏的元素 考虑 ：v-show 或者 v-if</p></li><li><p><input disabled="" type="checkbox"> 要么你在，要么我在，v-if  v-else   </p></li><li><p><input disabled="" type="checkbox"> v-for 里面或用 index</p></li><li><p><input disabled="" type="checkbox"> <strong>箭头函数的this指向的是VueComponent实例对象<br>普通函数的this指向的调用者Vue实例对象</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>注意可以定义：data 里面的变量 ，用来存其他需求需要的数据</strong></p></li><li><p><input disabled="" type="checkbox"> 数组，字符串，对象问题，先不要想着遍历方法，<strong>先想相关的方法</strong></p></li><li><p><input disabled="" type="checkbox"> 可以给底层数据每一项添加需要的新数据</p></li><li><p><input disabled="" type="checkbox"> <strong>v-model : 如果是多选框，可以使用true或者false</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>多选框联动全选框，先声明一个 flag=true 默认全选，遍历每一项多选框是否选中</strong></p></li><li><p><input disabled="" type="checkbox"> 全选全不选可以利用<code>every(fn)</code>方法，数组中是否所有元素都满足fn函数中的条件</p></li><li><p><input disabled="" type="checkbox"> 多选框 v-model=”…”  如果底层数据中，每一项数据都带有一个状态属性，就可以使用<code>item.</code>  ,如果没有这个状态属性，就声明一个数组变量，<code>...[index]</code>为每一项的选中状态🤔</p></li><li><p><input disabled="" type="checkbox"> 计算属性的第二种写法：计算变量为对象，里面有<strong>get方法和set方法</strong>👍</p></li><li><p><input disabled="" type="checkbox"> reduce遍历方法，有两个参数，一个是回调函数，<strong>第二个是pre 的初始值(常见为0)<strong>，</strong>记得写第二个参数，（切记，切记，切记）</strong></p></li><li><p><input disabled="" type="checkbox"> 如果打印出来的是数组，想去掉两边的框，join成字符串就行了，真不需要遍历出来😅</p></li><li><p><input disabled="" type="checkbox"> 还有记得 reduce、filter、map等方法是<strong>有返回值的，可以在遍历的前头定义</strong>如果不想创建一个新数组，<strong>就将遍历之后的返回值返回给原来的数组</strong></p></li><li><p><input disabled="" type="checkbox"> 父传子，子拿到父的数据，不论是数组还是对象，都可以拿到里面的属性，props定义了的标签属性，在子底层数据里面使用也要<code>this.为前缀</code></p></li><li><p><input disabled="" type="checkbox"> 一个值的结果受其他值的影响，用computed </p></li><li><p><input disabled="" type="checkbox"> 一个值的变化将时刻影响其他值，用watch</p></li><li><p><input disabled="" type="checkbox"> 活用 <strong>includes</strong> </p></li><li><p><input disabled="" type="checkbox"> 查询可以用 给每一项数据一个 属性为<code>true </code> 然后，每一项 v-show 指令控制显示，<code>includes</code>根据输入框输入的字符是否存在数据项种，修改 显示属性</p></li><li><p><input disabled="" type="checkbox"> </p><pre><code class="js">let ret = this.books.reduce((pre, cur) =&gt; {    if (cur.isShow) {        return pre + cur.price * cur.count;    } else {        return pre;    }}, 0)// 简写return this.books.reduce((pre, cur) =&gt; {    return pre + (cur.flag ? cur.price : 0);}, 0)<pre class="language-none"><code class="language-none">- [ ] 讲if判断看看能否写成  三元表达式- [ ] `Error: Can't resolve '...'`可能是路径问题出错- [ ] /deep/  可以将该样式作用于子组件中- [ ] 在指令在遍历里面，也可以用item.属性- [ ] **注意: 父传子过来的值，如果是引用类型，不通过子传父去修改它的值，也能够修改，但是如果是值类型，不通过子传父修改就会报错**  ```js  //父传子过来的值，如果是引用类型，传的是引用地址，子组件，利用引用地址修改的是堆内存的数据，从而父组件的引用类型的值也可被修改</code></pre></code></pre></li><li><p><input disabled="" type="checkbox"> <strong>传递过来的值,只能拿来用不能拿来修改，修改要在原数据改</strong></p></li><li><p><input disabled="" type="checkbox"> <code>lintOnSave: false</code>  关闭eslint  关闭严格模式</p></li><li><p><input disabled="" type="checkbox"> :class=”{active: …}”   …值可以是函数方法，直接再下面计算属性中声明声明就可</p></li><li><p><input disabled="" type="checkbox"> <strong>计算属性，调用条件是；代码遇到 方法名就调用，返回的值是return后面的值</strong></p></li><li><p><input disabled="" type="checkbox"> 如果父元素，<strong>不是通过 v-for 渲染的，就给每个元素一个名字，方便后面计算</strong></p></li><li><p><input disabled="" type="checkbox"> 结构相同的，思考是否可以做成<code>插件</code>或者<code>v-for</code></p></li><li><p><input disabled="" type="checkbox"> dom更新是异步的</p></li><li><p><input disabled="" type="checkbox"> <strong>添加样式/切换样式  ：  可以三元运算，立一个flag</strong></p></li><li><p><input disabled="" type="checkbox"> 有时候总是就是一个数组的长度；</p></li><li><p><input disabled="" type="checkbox"> v-for 里面的变量，如果要改的不是全部的，要改选中的一项，需要带上<code>[index]</code>或者<code>item</code></p></li><li><p><input disabled="" type="checkbox"> this.$router.replace()   重定向</p></li><li><p><input disabled="" type="checkbox"> <strong>next()</strong> 本身就是一个重定向跳转，里面传入参数，再执行回调函数，里面的参数，是下一次的<code>to</code></p></li><li><p><input disabled="" type="checkbox"> <strong>v-model 不能进行三元表达式，可以换成 value(可以进行三元表达式) 和 change方法的一个逻辑 ，里面不能用于赋值</strong></p></li><li><p><input disabled="" type="checkbox"> </p><h3 id="😠【重点注意】循环删除数组问题😡"><a href="#😠【重点注意】循环删除数组问题😡" class="headerlink" title="😠【重点注意】循环删除数组问题😡"></a><strong>😠【重点注意】循环删除数组问题😡</strong></h3><p><strong>正序循环删除：一定要注意索引问题，循环遍历数组，删除对应项，整个数组元素会向前补位，每删除一次，就要将—索引值减1  （forEach循环索引无法减1）</strong></p><pre class="language-js" data-language="js"><code class="language-js">删除操作会使得对应索引值位上的元素清空，整个数组中的元素向前移动一位，补位的元素会填充到执行删除操作的索引值位置上，移位之后如果不进行任何操作继续下一个循环，会导致补位元素跳过遍历，为了防止这种补位元素跳过遍历现象，应该在删除操作后将索引值减<span class="token number">1</span>，对执行删除操作的索引值位置再进行一次遍历<span class="token comment">// 正序循环删除，删除操作后将索引值减1</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        i<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// [1, 2, 2, 1]</span></code></pre><p><strong>倒序循环删除：与正序循环删除最大区别是，在倒序循环删除中，它的删除操作不会影响还未循环遍历的元素；这就使得即使删除之后数组中元素会向前移动一位，也不会让未遍历的元素跳过遍历</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 倒序循环删除</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// [1, 2, 2, 1]</span></code></pre></li><li><p><input disabled="" type="checkbox"> <strong>多选框数组，每一项可以通过created(){}方法生成</strong></p></li><li><p><input disabled="" type="checkbox"> 注意你实现的功能，是否是：<strong>想点击哪一个就，哪一个就实现功能</strong>，请注意<strong>哪一个</strong>。<code>item.</code>或者<code>[index]</code>或者<code>(index)</code></p></li><li><p><input disabled="" type="checkbox"> reduce()其实第三个值是index，<strong>可能有用到</strong></p></li><li><p><input disabled="" type="checkbox"> map() <strong>可以将每一项变成我们想要的东西</strong>,给回我们一个想要的数组</p></li><li><p><input disabled="" type="checkbox"> <strong>添加/切换样式</strong>，<strong>写成对象的形式，可以有多个类</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>template   里面只能有一个div</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>获取数组最后一项</strong></p><pre class="language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></code></pre><p><strong>数组扁平化 : 参数是数组的深度，或者是 Infinity 无限深</strong></p><pre class="language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre><p><strong>运算符取整取整都是向下取整</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">~</span><span class="token number">4.6</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5.6</span> <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5.6</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5.6</span> <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">)</span></code></pre></li><li><p><input disabled="" type="checkbox"> <strong>对象转数组</strong></p><pre class="language-js" data-language="js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></li><li><p><input disabled="" type="checkbox"> <strong>步进器方法，两个方法结构相同，只是作用于同一个数据，可以写成同一个方法，典型案例：加减数据的方法，</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">stepFn</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">stepFn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">stepFn</span><span class="token punctuation">(</span><span class="token parameter">step<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>需要计算的数据 <span class="token operator">+=</span> step<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p><input disabled="" type="checkbox"> <strong>给底层数据对象属性的时候，也可以在created函数里面设置<code>this.$set(要修改的数组，要修改的下标(对象的属性创建)，要修改的值(对象的值))</code>方法</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// Object.defineProperty()不支持引用类型数据的数据劫持 (触发不了set)</span></code></pre><blockquote><p><strong>👍👍👍在Vue2.0中，单独修改数组的某个元素的时候，触发不了视图层的修改。使用$set()方法来修改元素，才能起到双向数据绑定的作用。</strong></p></blockquote></li><li><p><input disabled="" type="checkbox"> <strong>底层数据，引用某个数据时，需要在前面加上<code>this.</code></strong></p></li><li><p><input disabled="" type="checkbox"> <code>v-for</code>区域中，每一项数据也可以用<code>v-for</code>，<strong>注意：</strong>如果是表格<code>td</code>进行<code>v-for</code>,<code>td</code>会变多，牢记那个需要变多，就在那里<code>v-for</code>,可以在一个<code>td</code>里面<code>span</code>进行<code>v-for</code></p></li><li><p><input disabled="" type="checkbox"> <strong>双向绑定的时候，可以将底层数据的变量写在模板旁边，看看手动修改是否是对应的值</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>v-model的值可以是数组，数组[index]  绑定</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>单独修改数组的某个元素的时候注意：触发不了视图层的修改。使用$set(要修改的数组,要修改的下标,要修改成的值)方法来修改元素，才能起到双向数据绑定的作用。</strong></p></li><li><p><input disabled="" type="checkbox"> 不能有两个默认导出，默认导出可以也写成按需导出</p></li><li><p><input disabled="" type="checkbox"> cdn 内容分发网络</p></li><li><p><input disabled="" type="checkbox"> 不能用<code>body</code>做为容器。</p></li><li><p><input disabled="" type="checkbox"> 实例化之前是类。</p></li><li><p><input disabled="" type="checkbox"> <strong>hash模式</strong>：<code>#</code>利用的是锚跳转</p></li><li><p><input disabled="" type="checkbox"> <strong>离散数据：0，1</strong>（性别，学历）</p></li><li><p><input disabled="" type="checkbox"> <strong>回归数据：0，0.1，0.2，…，1</strong>（年龄，体重）</p></li></ul><hr><h3 id="路由守卫的相关问题"><a href="#路由守卫的相关问题" class="headerlink" title="路由守卫的相关问题"></a>路由守卫的相关问题</h3><ol><li>一般使用路由守卫的场景是用户权限控制。虽然可以使用组件的生命周期完成这个功能。但使用路由守卫更加的高效。因为它的执行比组件的的实例化更早。也就是说，只要路由守卫不通过，组件连实例化都不会进行。大大的加速控制流程与减少资源的消耗。</li><li>什么路由：通过不同的地址，显示不同的页面或者执行不同的方法。</li><li>Vue的路由就是通过地址，显示不同的页面组件。让用户觉得他已经进行了跳转。实际上是并没有跳转的。也路由是实现单页面多应用的方式。</li></ol><h3 id="😤事件绑定"><a href="#😤事件绑定" class="headerlink" title="😤事件绑定"></a>😤事件绑定</h3><ol><li>直接在绑定的标签上设置事件属性对应用方法</li><li>直接在获取的元素上设置属性方法  如  onclick = function(){}</li><li>给元素添加监听绑定事件： .addEventListener(“click”, function(){})</li></ol><blockquote><p><strong>匿名函数的使用方式之一：当执行语句要当成值来使用时就可以使用匿名函数进行包裹。</strong></p><p><strong>当函数当成值来使用时，就不要加()</strong></p></blockquote><h3 id="refs的使用"><a href="#refs的使用" class="headerlink" title="$refs的使用"></a>$refs的使用</h3><ol><li>给普通的元素添加上ref属性，就可以通this.$refs. 属性名   直接获取它的dom</li><li>给组件元素添加ref属性，就可以通this.$refs. 属性名 直接获取组件对象。  由于这种方法只能是父组去获取子级的，所以它可以直接控制子级组件中的数据。</li></ol><h3 id="Vue开发版本与生产版本的区别"><a href="#Vue开发版本与生产版本的区别" class="headerlink" title="Vue开发版本与生产版本的区别"></a>Vue开发版本与生产版本的区别</h3><p>区别之一在于，使用开发版本时出现“警告”，控制台会有相对应的提示，而生产版本则不会有任何提示</p><p>使用了开发版本，打开控制台会出现以下的提示</p><hr><h3 id="vue2项目"><a href="#vue2项目" class="headerlink" title="vue2项目"></a>vue2项目</h3><ul><li><p><input disabled="" type="checkbox"> 辅助函数<code>mapState，mapGetters写在computed，mapMutations和mapActions写在methods</code></p></li><li><p><input disabled="" type="checkbox"> main.js⽂件是程序的<strong>⼊⼝⽂件</strong>，加载各种<strong>公共组件</strong></p></li><li><p><input disabled="" type="checkbox"> 两个框<strong>交替出现</strong><code>v-model</code>值取反</p></li><li><p><input disabled="" type="checkbox"> 函数体里调用函数，函数有return，但是不会终止在函数体里面调用函数代码的下面的代码，需要对调用的函数进行判断，<code>return false</code>or <code>return true</code></p></li><li><p><input disabled="" type="checkbox"> 不是某个组件特有的，就放到app.vue</p></li><li><p><input disabled="" type="checkbox"> <code>import ... from './.../...'</code>   <code>from</code>后面是路径的就是导入其他路径的模板注意是默认导入还是按需导入  ;  <code>from</code>后面是模块名的就是第三方模块；</p><pre class="language-js" data-language="js"><code class="language-js">默认导出<span class="token keyword">export</span> <span class="token keyword">default</span> 数据默认导入<span class="token keyword">import</span> 数据 <span class="token keyword">from</span> <span class="token string">'模块/路径'</span>按需导出<span class="token keyword">export</span> 数据按需导入<span class="token keyword">import</span> <span class="token punctuation">{</span> 数据 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'模块/路径'</span></code></pre></li><li><p><input disabled="" type="checkbox"> </p><pre><code class="js">封装思路：1.调用者需要什么功能（那些参数）2.再去书写组件/函数内部的逻辑3.尽可能让调用变得简单<pre class="language-none"><code class="language-none">- [ ] **查看地址栏路径？请求？** `this.$route.属性`  path : 路径`/...` ；query ：拿参数`?`后面的；`location.href`获取url地址- [ ] **tab 栏显示与隐藏 ，只有两个可以用布尔值控制；多个可以用索引控制**- [ ] `v-show:值取反`频繁切换，`v-if`不频繁切换- [ ] **封装函数**：把要复用的代码作为函数体，把不确定的数据作为参数传入。- [ ] **封装组件**：把要复用的样式代码作为组件，</code></pre>把不确定的数据作为参数`props`传入(父传子)把不确定的(是否显示的 图标，显示内容) vuex数据共享<pre class="language-none"><code class="language-none">- [ ] input `v-model`的**值**可以放入循环直接显示- [ ] **三元需要两个值，短路之需要一个**  ```js  短路运算符号需求：变量不为空，需要后面的；&amp;&amp;          变量不为空，需要前面的；||</code></pre></code></pre></li><li><p><input disabled="" type="checkbox"> vue 图片路径需要<code>require</code></p></li><li><p><input disabled="" type="checkbox"> <strong>template</strong> 不会生成标签，但是不能加<code>:key</code></p></li><li><p><input disabled="" type="checkbox"> <span class="github-emoji"><span>🔑</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f511.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>:key 加在需要遍历的那一项元素里面</strong></p></li><li><p><input disabled="" type="checkbox"> 路由跳转会调用created</p></li><li><p><input disabled="" type="checkbox"> 如果只是<strong>地址栏的参数变化</strong>，组件是不会重新加载，可以<strong>添加监听或者组件重载，组件内更新守卫解决</strong></p></li><li><p><input disabled="" type="checkbox"> 点击类的添加：可以用<code>index</code>与当前的<code>index</code>比较</p></li><li><p><input disabled="" type="checkbox"> 在js中，如果要调用仓库的方法的，先导入<code>store</code>，再异步方法调用<code>dispatch</code>，方法调用<code>commit</code></p></li><li><p><input disabled="" type="checkbox"> 子路由别加<code>/</code></p></li><li><p><input disabled="" type="checkbox"> <strong>防抖动是将多次执行变为最后一次执行，节流是将多次执行变成每隔一段时间执行。</strong></p></li><li><p><input disabled="" type="checkbox"> 进度条：是否到达底部可加载的数据位置：视图高度 - 滚动高度 &gt;= 文档高度( -需要到达范围的高度 )</p></li><li><p><input disabled="" type="checkbox"> 给一个标签点击事件 <strong>点击一次切换一种状态，点击第二次切换第二种状态</strong>，可以取反</p></li><li><p><input disabled="" type="checkbox"> <code>router-link</code> 最终会被渲染为a标签，果想让它转换成其他的标签，就需要添加<code>tag</code>属性</p></li><li><p><input disabled="" type="checkbox"> 在入口函数全局注册了，就不需要在组件里再引用了，可以直接使用</p></li><li><p><input disabled="" type="checkbox"> post 没有缓存</p></li><li><p><input disabled="" type="checkbox"> <strong>导入第三方组件，修改样式，通过控制台进行选中类名修改</strong></p></li><li><p><input disabled="" type="checkbox"> 路由改变，但是组件被复用，可以使用<strong>组件内路由更新守卫</strong></p></li></ul><hr><h3 id="this指向的问题"><a href="#this指向的问题" class="headerlink" title="this指向的问题"></a><strong>this指向的问题</strong></h3><ul><li><p><input disabled="" type="checkbox"> <strong>原生的this，注意：</strong>如果返回值是<strong>函数</strong>，里面需要用到外边的数组什么的，记得这个数组是谁的数组，需要<strong>this</strong>，而且这个<strong>this是谁</strong>，需要清楚，被返回的函数内的this，是否有这个数组，没有就在外边，将<code>this_=this</code>。用<code>this_</code></p></li><li><p><input disabled="" type="checkbox"> <strong>vue中的this，注意</strong>：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//1.ES5的普通函数写法，这里的this指向app,指向vue实例</span><span class="token comment">// 调用时被决定。根据调用我的人（谁调用我，我的this就指向谁）</span><span class="token comment">// 当函数被作为某个对象的方法调用时，this就等于那个对象</span><span class="token comment">//2.ES6的箭头函数写法，箭头函数没有自己的this,它的this事继承来的，指向在定义它时所处的宿主对象，在这里this指向window。</span><span class="token comment">// 定义时被决定。根据所在的环境（我在哪个环境中，this就指向谁)</span><span class="token comment">//3.在匿名函数中，这里的this不指向vue实例，这里的this指向window，在严格模式下，this指向undefined ，要使用this，可以直接用app（即vue实例）</span><span class="token comment">// 匿名函数的执行环境是全局性的。匿名函数中this指向window</span><span class="token comment">// 匿名函数的this是执行时的上下文</span><span class="token keyword">this</span><span class="token punctuation">.</span>sList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>app<span class="token punctuation">.</span>sResultList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//4.既是匿名函数又是箭头函数中的this，匿名函数没有自己的this，它的this继承来的，也可以说这里的this指向跟上一级的this指向相同，即vue实例</span><span class="token comment">// 箭头函数是定义时的父级执行上下文。</span><span class="token keyword">this</span><span class="token punctuation">.</span>sList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>sResultList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li><p><input disabled="" type="checkbox"> <strong>fn.apply(this) 将fn里面的this指向，指向括号里面的，参数是传给拥有着的(括号外的fn)</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>fn.bind()()，只是改变this指向,如果需要调用函数的时候，就需要在后面加上()</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>fn.apple()和fn.call()如果是用方法的话，就会直接调用。</strong></p></li><li><p><input disabled="" type="checkbox"> <strong>this指向，如果是多重的嵌套，就取最近调用的那个变量</strong></p><blockquote><p>定时器里面的回调函数如果是<strong>匿名函数</strong>：this指向window；(可以在外层将this指向that)</p><p>定时器里面的回调函数如果是<strong>箭头函数</strong>：this指向外层作用域；</p></blockquote><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5d199f99f90d4a1093a4a6253d5991a4~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><hr><h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><p>需求：一个请求发完响应回来，发第二个，响应回来，发第三个…(回调地狱)</p><p>Promise：来解决回调地狱的问题，请求返回成功就调用resolve，失败调用reject，他们不做处理，给将成功暴露给then方法，失败暴露给catch方法</p><p>async 修饰函数表示这是一个异步函数，，await 是在 async 里面进行同步化，await 后面的异步执行完毕，才执行后续的同步代码。</p><p>使用场景：常用于上一个await 的返回值需要代入成为下一个await的参数</p><p>只有promise调用then的时候，then里面的函数才会被推入微任务中；</p><p>若 async 定义的函数有返回值，return 123;相当于Promise.resolve(123)</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">demo01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">demo01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 123</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>没有声明式的 return则相当于执行了Promise.resolve();</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">demo01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"withOut return"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">demo01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// undefined</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>如果 await 的是 promise对象，await 会暂停 async 函数内后面的代码，先执行 async 函数外的同步代码（注意，promise 内的同步代码会先执行），等着 Promise 对象 fulfilled，然后把 resolve 的参数作为 await 表达式的运算结果返回后，再继续执行 async 函数内后面的代码</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token parameter">second</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">' enough sleep~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> second<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">awaitDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 两秒之后会被打印出来</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"主线程1"</span><span class="token punctuation">)</span><span class="token function">awaitDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"主线程2"</span><span class="token punctuation">)</span><span class="token comment">//主线程1</span><span class="token comment">//主线程2</span><span class="token comment">//enough sleep~</span></code></pre><p>如果 await 的不是一个 promise ，而是一个表达式。await 会暂停 async 函数内后面的代码执行，先执行 async 函数外的同步代码（注意，此时会先执行完 await 后面的表达式后再执行 async 函数外的同步代码）</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token parameter">second</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">' enough sleep~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> second<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">normalFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'normalFunc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">awaitDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token function">normalFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'something, ~~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 两秒之后会被打印出来</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"主线程1"</span><span class="token punctuation">)</span><span class="token function">awaitDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"主线程2"</span><span class="token punctuation">)</span><span class="token comment">//主线程1</span><span class="token comment">//normalFunc</span><span class="token comment">//主线程2</span><span class="token comment">//something, ~~</span><span class="token comment">//enough sleep~</span></code></pre><hr><h3 id="宏任务与微任务"><a href="#宏任务与微任务" class="headerlink" title="宏任务与微任务"></a>宏任务与微任务</h3><p>只有promise调用then的时候，then里面的函数才会被推入微任务中；</p><p><strong>微任务队列，如果谁先结束，谁先执行，如果条件相同，谁先进入队列，谁先执行.</strong></p><p><strong>遇到await会阻塞后面的代码，先执行async外面的同步代码，同步代码执行完，再回到async内部，继续执行await后面的代码。</strong>(好好理解一下上面的说明。也就是说，await只会阻塞当前async方法内的代码，不会影响外部代码的执行)</p><img src="../../../aaa/Typora/images/宏任务与微任务-1662046097409.png" alt="宏任务与微任务" style="zoom:50%;"><p>遇到微任务就推入微任务队列，遇到宏任务就推入宏任务队列</p><p>同步代码→微任务队列→宏任务队列</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 start'</span><span class="token punctuation">)</span><span class="token comment">// 2  主线程async1()调用</span>  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 end'</span><span class="token punctuation">)</span>  <span class="token comment">// 6 主线程内同步代码执行完毕后接着执行await函数内后面的代码（至此主线程内同步代码都执行完毕）</span><span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2'</span><span class="token punctuation">)</span><span class="token comment">// 3 主线程async1() =&gt; async2()  await 会先执行完async2()内的代码</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span><span class="token comment">// 1  主线程同步代码</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span> <span class="token comment">// 8 setTimeout放入宏队列中下次轮询执行</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">resolve</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span> <span class="token comment">// 4 promise内的同步代码会在主线程内先执行</span>  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span> <span class="token comment">// 7 promise回调会放入微队列中，主线程代码执行完毕后执行</span><span class="token punctuation">}</span> <span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span> <span class="token comment">// 5 主线程同步代码</span><span class="token comment">//script start</span><span class="token comment">//async1 start</span><span class="token comment">//async2</span><span class="token comment">//promise1</span><span class="token comment">//script end</span><span class="token comment">//async1 end</span><span class="token comment">//promise2</span><span class="token comment">//setTimeout</span></code></pre><hr><h3 id="Uni-App"><a href="#Uni-App" class="headerlink" title="Uni-App"></a>Uni-App</h3><ul><li><p><input disabled="" type="checkbox"> 微信小程序：触发事件的方法不能传递参数，需要<code>data-</code>，或者利用事件对象取值。而 uni-app 可以直接()传值</p></li><li><p><input disabled="" type="checkbox"> <strong>某些组件只是用作渲染的框架，数据多在父组件</strong></p></li><li><p><input disabled="" type="checkbox"> 函数(没有function)也可以直接用</p></li><li><p><input disabled="" type="checkbox"> page页面，用小程序的生命函数，组件用vue生命函数</p></li><li><p><input disabled="" type="checkbox"> 标签的属性和方法是vue</p></li><li><p><input disabled="" type="checkbox"> 组件不需要注册与显示</p></li><li><p><input disabled="" type="checkbox"> props第二种写法，默认值是空数组，需要写成函数返回空数组</p></li><li><p><input disabled="" type="checkbox"> 不同的事件触发的结果相同，可考虑用同一个方法调用</p></li><li><p><input disabled="" type="checkbox"> 样式：父盒子给高度为<code>0</code>，上内边距为<code>100%</code>，里面子盒子给绝对定位，可以放图片</p></li><li><p><input disabled="" type="checkbox"> <a href="https://so.csdn.net/so/search?q=uniapp&amp;spm=1001.2101.3001.7020">uniapp</a>置顶滚动条。自定义页面滚动条的位置：</p><pre class="language-js" data-language="js"><code class="language-js">uni<span class="token punctuation">.</span><span class="token function">pageScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">scrollTop</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p><input disabled="" type="checkbox"> const可以改变里面的单个值，但是不能修改整个</p></li><li><p><input disabled="" type="checkbox"> <code>$event</code> <strong>是自带的一个事件对象(可用于是否需要传递自己需要的参数，同时还要有事件对象)</strong></p></li><li><p><input disabled="" type="checkbox"> 微信小程序的背景图片：只能是网络路径</p></li><li><p><input disabled="" type="checkbox"> <code>vue</code>图片引用：切记<code>require</code>（uniapp同）</p></li><li><p><input disabled="" type="checkbox"> 微信小程序：<code>100%</code>的问题</p></li><li><p><input disabled="" type="checkbox"> 微信小程序：props对象写法，第二属性的<code>key:</code>是value；uniapp的第二属性<code>key</code>：是default</p></li></ul></li></ul><h1 id="react"><a href="#react" class="headerlink" title="react"></a>react</h1><p>  <strong>事件的三种格式</strong></p><pre><code>1. on事件类型 = {this.函数名.bind(this)}2. on事件类型 = {this.函数名}，在 constructor 中添加 this，函数名 = this.函数名.bind(this)3. on事件类型 = {() =&gt; this.函数名}    （使用箭头函数）</code></pre><h1 id="vue3"><a href="#vue3" class="headerlink" title="vue3"></a>vue3</h1><ul><li><p>withDefaults(defineProps，默认值)；默认值：如果是<strong>引用数据类型</strong>，就要写成函数</p></li><li><p>watch函数的第一个参数需要是响应式，如果是<strong>引用数据类型</strong>需要监听里面的属性就要写成函数，或者是deep：true</p></li><li><p>模板自动给响应式加上**.value**</p></li><li><p>组件上的事件和方法分清楚</p><blockquote><p>方法：要拿到组件实例去调用</p><p>事件：触发后，执行对应的方法</p></blockquote></li><li><p><code>* as 对象名字</code>  直接<code>export</code>表示引入并且导出，通过<code>import</code>导入的是一个对象。</p></li><li><p>请求时看清请求方式，是<code>body</code>（参数data）还是<code>query</code>（参数params），有时get参数也有可能是<code>query</code></p></li><li><p>响应式数据看插件</p></li><li><p><strong>标签的属性</strong>有大写的建议用<code>-</code>，数据层<code>setData</code>，模板属性<code>set-data</code></p></li><li><p><strong>父子传值注意引用数据类型，因为指向的是同一个内存地址，子组件修改，父组件的值也会发生改变</strong></p><blockquote><p>解决办法：先切断父子组件传值的联系，监听传过来的值，赋值给新值</p><p>同时对传过来的值，赋值前进行<strong>浅/深</strong>拷贝</p></blockquote></li><li><p>组件销毁的话，可以在子组件发送请求</p></li><li><p>setup 在dom创建之前执行，比create还早，<strong>拿不到DOM</strong></p></li></ul><hr><h1 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h1><ul><li><blockquote><p>父类型：广；子类型：具体（解决办法：）</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token literal-property property">a</span><span class="token operator">:</span>number<span class="token punctuation">;</span>           <span class="token comment">// 子类型</span><span class="token keyword">let</span> <span class="token literal-property property">b</span><span class="token operator">:</span>number <span class="token operator">|</span> string<span class="token punctuation">;</span>  <span class="token comment">// 父类型</span>a <span class="token operator">=</span> b<span class="token punctuation">;</span><span class="token comment">// 父类型给子类型 不可以</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span>  <span class="token comment">//  子类型给父类型 会协变  可以</span></code></pre></li><li><blockquote><p>兄弟类型 ，类型不同也不可以</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token literal-property property">a</span><span class="token operator">:</span>number <span class="token operator">|</span> boolean<span class="token punctuation">;</span> <span class="token keyword">let</span> <span class="token literal-property property">b</span><span class="token operator">:</span>number <span class="token operator">|</span> string<span class="token punctuation">;</span>  a <span class="token operator">=</span> b<span class="token punctuation">;</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span>  </code></pre></li><li><blockquote><p>父： 广； 子： 具体(协变)</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 父类型</span><span class="token keyword">let</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span> age<span class="token operator">:</span> number <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 子类型</span>a <span class="token operator">=</span> b<span class="token punctuation">;</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">// 父类型给子类型 不可以</span></code></pre></li><li><blockquote><p>逆变 <strong>函数参数</strong>   父可以赋值给子</p></blockquote><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token keyword">typeof</span> a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">// 父类型</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token keyword">typeof</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">// 子类型</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>fn <span class="token operator">=</span> fn1<span class="token punctuation">;</span><span class="token comment">//  子类型给父类型 不可以</span>fn1 <span class="token operator">=</span> fn<span class="token punctuation">;</span> <span class="token comment">// 父类型给子类型 可以</span></code></pre></li><li><p><code>变量!</code>排除null，undefined的情况</p></li><li><p>出现类型错误，观察前面的同名变量类型是否一样，不一样可以鼠标悬浮在同名变量上复制上面的类型给出错的那部分</p></li><li><p>Partial 工具类型，为每一个属性都添加一个问号</p></li><li><p><strong>拿到的类型必须是什么什么什么什么什么什么类型</strong></p></li><li><p>如果是直接将对象或者数组覆盖的，用ref</p></li><li><p>type类型别名用<code>extend</code>是约束，interface接口用<code>extend</code>是继承</p></li></ul><h1 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h1><ul><li><p>dependencies 与 devDependencies</p><blockquote><p><strong>dependencies</strong> 生产阶段的依赖,也就是项目运行时的依赖</p><p><strong><code>devDependencies</code></strong> 开发阶段的依赖，就是我们在开发过程中需要的依赖，只在开发阶段起作用的</p></blockquote><p><strong>说明</strong></p><blockquote><p><strong><code>i</code></strong> 是 <strong><code>install</code></strong> 的简写</p><p><strong><code>-g</code></strong> 是全局安装，不带 <strong><code>-g</code></strong> 会安装在个人文件夹</p><p><strong><code>-S</code></strong> 与 <strong><code>--save</code></strong> 的简写，安装包信息会写入 <strong><code>dependencies</code>(生产依赖)</strong> 中</p><p><strong><code>-D</code></strong> 与 <strong><code>--save-dev</code></strong> 的简写，安装包写入 <strong><code>devDependencies</code>(开发依赖)</strong> 中</p></blockquote><pre class="language-js" data-language="js"><code class="language-js">你写 <span class="token constant">ES6</span> 代码，需要 babel 转换成 es5 ，转换完成后，我们只需要转换后的代码，上线的时候，直接把转换后的代码部署到生产环境，不需要 bebal 了，生产环境不需要。这就可以安装到 devDependencies ，再比如说代码提示工具，也可以安装到 devDependencies 。如果你用了 Element<span class="token operator">-</span><span class="token constant">UI</span>，由于发布到生产后还是依赖 Element<span class="token operator">-</span><span class="token constant">UI</span>，这就可以安装到 dependencies 。</code></pre><hr><h1 id="element"><a href="#element" class="headerlink" title="element"></a>element</h1><ul><li><p><strong>关注是否需要<code>:</code>来动态绑定</strong>（单选框：label）</p></li><li><p>组件上的事件和方法分清楚</p><blockquote><p>方法：要拿到组件实例去调用</p><p>事件：触发后，执行对应的方法</p></blockquote></li><li><p>```js<br>Set operation on key “xxx“ failed: target is readonly.VUE3+element-plus 引起的警告</p><p>v-model     改为          :model-value</p><pre class="language-none"><code class="language-none">- **表单验证：**  ```js  const rules = reactive({    username:{ validator: valiUsername, trigger: "blur" },  });  // 校验账号的函数  function valiUsername(    rule: unknown,    value: string | undefined,    cb: (msg?: string) =&gt; void  ) {    if (value &amp;&amp; value.length &gt; 3) {      cb();    } else {      cb("用户名不能少于3个字符");    }  }</code></pre></li></ul></li></ul><hr><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><ul><li><p>遇到：解决：git pull origin 分支名 –allow-unrelated-histories 强制更新</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token literal-property property">hint</span><span class="token operator">:</span><span class="token string">'git push ...'</span></code></pre></li></ul><hr><h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p><strong>迭代：</strong>从一个数据集合中按照一定顺序，不断地取数据的过程</p>]]></content>
      
      
      
        <tags>
            
            <tag> Notice </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript-进阶-阶段总结</title>
      <link href="/2022/06/10/javascript-jin-jie-jie-duan-zong-jie/"/>
      <url>/2022/06/10/javascript-jin-jie-jie-duan-zong-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScript-进阶-阶段总结"><a href="#JavaScript-进阶-阶段总结" class="headerlink" title="JavaScript-进阶-阶段总结"></a>JavaScript-进阶-阶段总结</h1><h3 id="数组的方法（补充）"><a href="#数组的方法（补充）" class="headerlink" title="数组的方法（补充）"></a>数组的方法（补充）</h3><p><strong>遍历对象</strong></p><p>遍历对象<strong>不能</strong>用 <code>.</code> 语法；</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span> key对象的属性     obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>属性值 <span class="token punctuation">}</span></code></pre><p><strong>遍历数组</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>d数组名<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>每一个数据 i对应数据的下标 <span class="token punctuation">}</span></code></pre><p><strong>forEach也是遍历数组的方法</strong></p><p><strong>和for循环的区别是不能遍历伪数组,不能中途打断循环,一定要全部走完才会停止循环</strong></p><p>语法：</p><pre class="language-js" data-language="js"><code class="language-js">数组名<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">每个数据<span class="token punctuation">,</span>每个数据的下标<span class="token punctuation">,</span>原数组</span><span class="token punctuation">)</span><span class="token punctuation">{</span>函数体<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>eg：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    sum <span class="token operator">+=</span> item<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="复习一下CSS滤镜"><a href="#复习一下CSS滤镜" class="headerlink" title="复习一下CSS滤镜"></a>复习一下CSS滤镜</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/* filter 滤镜 过滤 */</span><span class="token comment">/* blur模糊 grayscale灰度 100%全灰 */</span><span class="token literal-property property">filter</span><span class="token operator">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>10px<span class="token punctuation">)</span> <span class="token function">grayscale</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="遍历数组过滤"><a href="#遍历数组过滤" class="headerlink" title="遍历数组过滤"></a>遍历数组过滤</h3><p>语法:</p><pre class="language-js" data-language="js"><code class="language-js">数组名<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">数组里面的每一项<span class="token punctuation">,</span>数组每项对应的下标<span class="token punctuation">,</span>原数组</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            函数体<span class="token punctuation">,</span>如果函数体里面不需要用到后面的形参<span class="token punctuation">,</span>可以不写    <span class="token punctuation">}</span></code></pre><p><strong>经验总结:在filter后面return一个条件,就会返回满足条件的数组</strong></p><p>eg（去0）:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> item <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[50, 4, 5, 7]</span></code></pre><h3 id="十六进制随机颜色练习"><a href="#十六进制随机颜色练习" class="headerlink" title="十六进制随机颜色练习"></a>十六进制随机颜色练习</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 十六进制随机颜色 #开头 + 6个0~9A~F之间的字符</span><span class="token comment">// 0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"F"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> ranColor <span class="token operator">=</span> <span class="token string">"#"</span><span class="token keyword">function</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>    max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 循环6次，拿到6个随机数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    ranColor <span class="token operator">+=</span> arr<span class="token punctuation">[</span><span class="token function">getNum</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token comment">// 输出这个随机颜色变量</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ranColor<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="网页文档对象"><a href="#网页文档对象" class="headerlink" title="网页文档对象"></a>网页文档对象</h2><p><strong>输出了dom对象的属性和方法 这个也是js web api</strong></p><p><strong>api 应用程序接口 : 属性和方法使用说明</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//可查看document对象所有的属性和方法</span></code></pre><h3 id="获取元素的几种方法"><a href="#获取元素的几种方法" class="headerlink" title="获取元素的几种方法"></a>获取元素的几种方法</h3><p><strong>想控制网页里面的元素(标签) element 先要获取到他们才能操作</strong></p><p>通过id名获取标签 注意 <strong>只有id和document.querySelector(“”)获取是唯一的</strong>，<strong>其他都是伪数组</strong></p><p><strong>伪数组</strong>选择单个元素后面要用<code>[]</code></p><p><strong>1.获取id名为box的元素 唯一一个</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"box"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>2.通过类名获取标签，取到的是一个伪数组  无论有多少个，返回的还是数组  要取其中一个来用需要[下标]</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> boxes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"hezi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> boxes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"hezi"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//取单个</span></code></pre><p><strong>3.通过标签名获取元素，取到的是一个伪数组</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//取单个</span></code></pre><p><strong>4.通过name属性来获取元素数组 一般用于表单元素的获取</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> ipts <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"gender"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> ipts <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"gender"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//取单个</span></code></pre><h4 id="h5新增的两个获取元素的方法-可以通过css选择器获取元素"><a href="#h5新增的两个获取元素的方法-可以通过css选择器获取元素" class="headerlink" title="h5新增的两个获取元素的方法 可以通过css选择器获取元素"></a>h5新增的两个获取元素的方法 可以通过css选择器获取元素</h4><p><strong>获取body里面第一级的所有子元素——&gt;body&gt;</strong>*</p><p><strong>括号里面的写法：按照css选择器写法</strong></p><p><strong>可以通过css选择器获取到所有符合条件的数组(也是伪数组)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> all <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"body&gt;*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>通过css选择器获取符合条件的第一个元素（可直接返回元素）</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> one <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".hezi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>获取body</strong></p><pre class="language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span>body</code></pre><p><strong>获取网页文档</strong></p><pre class="language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span>documentElement</code></pre><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p><strong>只有 id 和 querySelector 是获取到一个，其他的都是伪数组，</strong></p><h4 id="小练习思考题：关于反转数组的扩展"><a href="#小练习思考题：关于反转数组的扩展" class="headerlink" title="小练习思考题：关于反转数组的扩展"></a>小练习思考题：关于反转数组的扩展</h4><p>不使用<code>reverse</code> 实现  [“编程真好玩”,”叩丁狼”, “世界”, “你好”]</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"你好"</span><span class="token punctuation">,</span> <span class="token string">"世界"</span><span class="token punctuation">,</span> <span class="token string">"叩丁狼"</span><span class="token punctuation">,</span> <span class="token string">"编程真好玩"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//方法一,使用reverse方法：</span>arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//方法二,使用push方法:</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 方法三，不使用reverse方法：</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 新数组从0 ~ 3 &lt;== 原始数组下标从3 ~ 0</span>    newArr<span class="token punctuation">[</span>newArr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="封装兼容的获取元素方法"><a href="#封装兼容的获取元素方法" class="headerlink" title="封装兼容的获取元素方法"></a>封装兼容的获取元素方法</h3><p><strong>类名获取</strong>不兼容ie低版本,通过<strong>选择器获取</strong>也不兼容ie低版本</p><p><em>获取list里面的li并且要求兼容全部浏览器</em></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 封装通过一个id名获取标签的函数</span><span class="token keyword">function</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 封装通过一个id标签名获取对应id盒子里面的标签函数</span><span class="token keyword">function</span> <span class="token function">getEle</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> ele</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 在这个函数里面调用了getId()函数</span>    <span class="token keyword">return</span> <span class="token function">getId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getEle</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">,</span> <span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><p><strong>html css 和 js没有完全分离 onclick点击时 调用tanchu()函数</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">tanchu</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>事件三要素</strong></p><ul><li><strong>事件源</strong> =&gt; 绑定事件的元素 =&gt; button</li><li><strong>事件类型</strong> =&gt; onclick 点击时 onkeyup按下键盘某个按键并且抬起….</li><li><strong>事件处理程序</strong> =&gt; 事件满足后调用的函数</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 注意，通过标签名取到的是一个数组</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 注意事件 事件属性 是特殊的属性</span><span class="token comment">// 给元素对象身上的事件属性赋值的话</span><span class="token comment">// 事件执行的函数不需要调用,满足事件条件 onclick点击时就会执行</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"弹出"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 事件源 document</span><span class="token comment">// 事件类型 onkeyup</span><span class="token comment">// 事件处理函数是弹出函数</span>document<span class="token punctuation">.</span><span class="token function-variable function">onkeyup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"键盘按下并松手后弹出"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="修改网页的文字内容"><a href="#修改网页的文字内容" class="headerlink" title="修改网页的文字内容"></a>修改网页的文字内容</h3><ul><li>ele.innerText = xxx 可以修改标签里面的文字</li><li>如果<strong>没有重新赋值</strong> ele.innerText 可以获取这个对象身上的<strong>文字内容</strong>属性</li><li>ele.innerHTML = xxx 可以修改标签里面的<strong>标签和文字</strong></li><li>如果没有重新赋值 ele.innerHTML 可以获取这个对象身上的文字内容和标签属性</li></ul><pre class="language-js" data-language="js"><code class="language-js">btn1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span><span class="token punctuation">;</span>    p1<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"每天进步一点点"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>btn2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>    p2<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"&lt;h2&gt;我要记得复习&lt;/h2&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="body的颜色改成随机的背景"><a href="#body的颜色改成随机的背景" class="headerlink" title="body的颜色改成随机的背景"></a>body的颜色改成随机的背景</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F</span>    <span class="token keyword">var</span> shiliu <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"F"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 十六进制随机颜色 #开头 + 6个0~9A~F之间的字符</span>    <span class="token keyword">var</span> ranColor <span class="token operator">=</span> <span class="token string">"#"</span><span class="token punctuation">;</span>    <span class="token comment">// 循环6次，拿到6个随机数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> ranNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> shiliu<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// console.log(shiliu[ranNum])</span>        <span class="token comment">// 拿到6个随机数 连接并赋值给ranColor这个变量</span>        ranColor <span class="token operator">+=</span> shiliu<span class="token punctuation">[</span>ranNum<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 输出这个随机颜色变量</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ranColor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// document.body 获取body标签</span>    <span class="token comment">// ocument.body.style body标签的css样式对象</span>    <span class="token comment">// 输出看看有啥属性</span>    console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> ranColor<span class="token punctuation">;</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderBottom <span class="token operator">=</span> <span class="token string">"10px dashed #000"</span><span class="token punctuation">;</span></code></pre><h3 id="封装一个修改多个css样式的函数"><a href="#封装一个修改多个css样式的函数" class="headerlink" title="封装一个修改多个css样式的函数"></a>封装一个修改多个css样式的函数</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 点击按钮设置盒子宽度500px 高度500px和背景deeppink 并且加上边框</span><span class="token keyword">var</span> _btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>_btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// _div.style.width = "500px";</span>    <span class="token comment">// _div.style.height = "500px";</span>    <span class="token comment">// _div.style.background = "deeppink";</span>    <span class="token function">setCss</span><span class="token punctuation">(</span>_divcss<span class="token punctuation">,</span> _div<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 需求</span><span class="token comment">// 封装一个函数 传入一个对象 {width:"500px",height:"500px",background:"deeppink",border:"10px solid #000"} 和元素ele</span><span class="token comment">// 传入对象和元素 就可以修改多个样式</span><span class="token keyword">var</span> _divcss <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">"500px"</span><span class="token punctuation">,</span>    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">"500px"</span><span class="token punctuation">,</span>    <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">"deepink"</span><span class="token punctuation">,</span>    <span class="token literal-property property">border</span><span class="token operator">:</span> <span class="token string">"10px solid #000"</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">setCss</span><span class="token punctuation">(</span><span class="token parameter">cssobj<span class="token punctuation">,</span> ele</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(cssobj);</span>    <span class="token comment">// console.log(ele);</span>    <span class="token comment">// 在遍历里面要获取或者修改某个对象里面的属性，不能用点语法</span>    <span class="token comment">// 要使用 对象[属性]</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> cssobj<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// console.log(key);</span>        <span class="token comment">// console.log(cssobj[key]);</span>        <span class="token comment">//对象循环内取属性不能用 . 语法</span>        ele<span class="token punctuation">.</span>style<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> cssobj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>注意：</strong></p><ul><li>修改标签的<strong>原生属性</strong></li><li>可以直接书写 <strong>ele.属性名 = “属性值”</strong></li><li>注意事项   <strong>宽高的原生属性</strong>的值要求是<strong>数字型数据</strong> </li><li><strong>但是用css(style对象) 的属性值都是字符串</strong></li></ul><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 点击按钮1 就把胡歌改成蔡徐坤</span><span class="token comment">// 点击按钮2 就把跳转到百度的文字改成跳转到叩丁狼  href地址就改为https://www.wolfcode.cn/</span><span class="token keyword">var</span> _btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> _btn2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> _img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_btn1<span class="token punctuation">,</span> _btn2<span class="token punctuation">,</span> _img<span class="token punctuation">,</span> _a<span class="token punctuation">)</span><span class="token punctuation">;</span>_btn1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    _img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"cxk.webp"</span><span class="token punctuation">;</span>    <span class="token comment">// console.dir(_img)</span>    <span class="token comment">// _img.width = 1000;</span>    _img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">"100px"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>_btn2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    _a<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"https://www.wolfcode.cn/"</span><span class="token punctuation">;</span>    _a<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token string">"_blank"</span><span class="token punctuation">;</span>    <span class="token comment">// target="_blank" 新标签打开超链接</span>    _a<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"欢迎来到叩丁狼"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="给多个标签绑定事件"><a href="#给多个标签绑定事件" class="headerlink" title="给多个标签绑定事件"></a>给多个标签绑定事件</h3><ul><li>js是<strong>单线程的</strong></li><li><strong>不会同时执行多个任务</strong></li><li>从上到下执行</li><li>网页文档全部加载完了,随着网页加载而执行代码 <strong>同步程序</strong></li><li><strong>点击之后函数是最后执行,绑定事件是同步,点击之后函数属于异步程序(后面还有定时器 网络请求)</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//利用for循环</span><span class="token comment">// 点击li,弹出里面的文字</span><span class="token keyword">var</span> _lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"ul li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    _lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 点击按钮的时候 html文档和js代码都已经执行完了,所有i变成了10,没有第10个li,所以使用_lis[i]会报错</span>        <span class="token comment">// this关键字 在函数里面</span>        <span class="token comment">// this 指向调用这个函数的对象</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//利用forEach循环</span><span class="token keyword">var</span> _lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"ul li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// console.log(_lis);</span>_lis<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    item<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3 id="排他思想"><a href="#排他思想" class="headerlink" title="排他思想"></a>排他思想</h3><p><strong>思路：</strong>点击哪一个，就只有那一个生效，<strong>其他的不生效</strong>。在事件执行函数里面，在该点击生效之前，先清除所有的元素的效果</p><p>需求：给你5个按钮，按下其中一个，单改变它的背景颜色，其他按钮颜色不变。</p><p>eg：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 外层循环只是为了给每个按钮绑定点击事件</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btn<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    btn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 思考怎么去掉其他的</span>        <span class="token comment">// 先全部去掉所有按钮的背景色</span>        <span class="token comment">// 里面的循环为了每次点击一个按钮之后先全部去掉背景色</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> btn<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            btn<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 再给用户点的那个加上背景色</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"tan"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>里面的for循环必须发生在点击按钮的事件中，给按钮加上背景色之前，去掉每一个按钮的背景色</strong></p><h3 id="排他的其他写法-事件委托的排他"><a href="#排他的其他写法-事件委托的排他" class="headerlink" title="排他的其他写法(事件委托的排他)"></a>排他的其他写法(事件委托的排他)</h3><p><strong>tips：创建一个变量来储存上一个点击的元素</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#box"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建一个变量来存储上一个点击的元素</span><span class="token keyword">var</span> prev <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 如果点击的目标元素不是box这个对象</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token operator">!==</span> box<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 如果存在上一次点击的元素</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 就去掉背景色</span>            prev<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 再给目标元素添加背景色</span>        e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"tan"</span><span class="token punctuation">;</span>        <span class="token comment">// 添加完之后把这个目标元素设置为上一次点击的元素</span>        prev <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="数组-或者字符串中-出现次数最多-出现了多少次"><a href="#数组-或者字符串中-出现次数最多-出现了多少次" class="headerlink" title="数组(或者字符串中)出现次数最多 出现了多少次"></a>数组(或者字符串中)出现次数最多 出现了多少次</h3><ol><li>先把数组转化成字符串，<code>str[下标]</code>可以得到每一个字</li><li>新建一个空的对象来储存每一个字的属性，和每个字出现次数的值</li><li>判断新建的这个对象里面，有没有每个字<code>str[i]</code></li><li>如果没有就设置这个属性的值为出现了一次，如果本来就有就+1次 ++</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// char是每个字符</span>    <span class="token comment">// obj[char]是这个对象有没有这个字符属性</span>    <span class="token keyword">var</span> char <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>char<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 有这个属性就加一次</span>        obj<span class="token punctuation">[</span>char<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">// 没有就把这个属性赋值为一次</span>        obj<span class="token punctuation">[</span>char<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 输出这个保存了每个字和出现次数的对象</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 先设置一个最大值的初始值</span><span class="token keyword">var</span> max <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 新建一个变量来储存出现最多次数的字符</span><span class="token keyword">var</span> maxchar <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>        max <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>        maxchar <span class="token operator">=</span> key<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">出现次数最多的字符是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>maxchar<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,出现的次数数</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>max<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">次</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="表单属性的修改"><a href="#表单属性的修改" class="headerlink" title="表单属性的修改"></a>表单属性的修改</h3><h4 id="表单："><a href="#表单：" class="headerlink" title="表单："></a>表单：</h4><ul><li>表单的<code>name</code>属性是区分<strong>不同的数据名称</strong></li><li>表单的<code>值value</code>是将来发送给<strong>后台的具体数据的值</strong></li><li>form 里面会把对应的<strong>name属性 = value值</strong>发送给后台</li><li>表单的disabled属性是设置表单是否禁用 true是禁用 false是可用</li><li>checked属性为true就是选中，false就是未选中</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 需求：点击按钮修改单选框的值（性别男改成女）</span><span class="token keyword">var</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> rad0 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rad0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    rad0<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"female"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 需求：点击按钮修改复选框的值（选中 #ck1 和  #ck2 ）</span><span class="token keyword">var</span> btn2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> ck1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"ck1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> ck2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"ck2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    ck1<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"打豆豆"</span><span class="token punctuation">;</span>    ck2<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"随便敲敲"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 点击按钮禁止文本框输入</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> txt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// disabled如果是true不能输入内容</span><span class="token comment">// false 可用状态</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    txt<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// checked属性为true就是选中，false就是未选中</span><span class="token keyword">var</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> rad0 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rad0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> rad1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rad1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    rad0<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    rad1<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="其他的事件类型"><a href="#其他的事件类型" class="headerlink" title="其他的事件类型"></a>其他的事件类型</h3><p><strong>注意事项</strong>： on事件类型</p><p><strong>双击</strong></p><pre class="language-js" data-language="js"><code class="language-js">btn1<span class="token punctuation">.</span><span class="token function-variable function">ondblclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我双击的按钮"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>鼠标移入盒子</strong></p><pre class="language-js" data-language="js"><code class="language-js">_div<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"鼠标移入盒子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>鼠标移出盒子</strong></p><pre class="language-js" data-language="js"><code class="language-js">_div<span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"鼠标移出盒子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>onchange当表单的值改变了并且失去焦点触发</strong></p><pre class="language-js" data-language="js"><code class="language-js">_ipt<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"aaaaaaaaaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _div<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>oninput当表单的值改变了马上会触发（触发多次）</strong></p><pre class="language-js" data-language="js"><code class="language-js">_ipt<span class="token punctuation">.</span><span class="token function-variable function">oninput</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"bbbbbbbbbbbbbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _div<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>得到了焦点</strong></p><pre class="language-js" data-language="js"><code class="language-js">_ipt<span class="token punctuation">.</span><span class="token function-variable function">onfocus</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"得到了焦点"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p><strong>失去了焦点</strong></p><pre class="language-js" data-language="js"><code class="language-js">_ipt<span class="token punctuation">.</span><span class="token function-variable function">onblur</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"失去了焦点"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h3 id="修改盒子的类名-重点"><a href="#修改盒子的类名-重点" class="headerlink" title="修改盒子的类名(重点)"></a>修改盒子的类名(重点)</h3><p>修改标签的类名，可书写多个用空格隔开(注意会覆盖<strong>原来类名</strong>)</p><p><code>ele.className = "类名 类名"</code></p><p>在类名列表里面<strong>增加</strong>新的类名，不会影响原来类名**(推荐使用)**</p><p><code>ele.classList.add("类名","类名");</code></p><p>在类名列表里面<strong>删除类名</strong></p><p><code>ele.classList.remove("类名","类名");</code></p><p><strong>以上类名都是直接写，相当于给标签行内类名一样，不需要像css选择器取类名一样</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> _div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> _btn2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>_btn1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// _div.className = "box box1";</span>    <span class="token comment">// 我点击一下盒子颜色改成蓝色</span>    <span class="token comment">// _div.className = "box1";</span>    <span class="token comment">// classList.add("box1");</span>    <span class="token comment">// 在类名列表里面增加一个新的类名，不会影响原来的类名</span>    _div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"box"</span><span class="token punctuation">,</span> <span class="token string">"box1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_div<span class="token punctuation">.</span>classList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>_btn2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    _div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"box1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_div<span class="token punctuation">.</span>classList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="开关思想-点一下变，再点一下变回来"><a href="#开关思想-点一下变，再点一下变回来" class="headerlink" title="开关思想(点一下变，再点一下变回来)"></a>开关思想(点一下变，再点一下变回来)</h3><p>可以创建一个 <strong>变量</strong> ，控制这个盒子在状态  true显示(加上类名hide变成隐藏)  false隐藏(删除hide变成显示)</p><p>切换</p><p>如果盒子是显示的，点击就隐藏盒子</p><p>如果这个盒子是隐藏的，点击就显示</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">//控制盒子的状态</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>        _div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        _div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"hide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1. 当点击"关 灯"按钮时，将body背景颜色设置成黑色，同时将 "关 灯" 设置成 "开 灯"；</span><span class="token comment">// 2. 当点击"开 灯"按钮时，将body背景颜色设置成白色，同时将 "开 灯" 设置成 "关 灯".</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// if (flag) {</span>    <span class="token comment">//     document.body.classList.add("bg");</span>    <span class="token comment">// this.innerText = "开 灯"</span>    <span class="token comment">//     flag = false;</span>    <span class="token comment">// } else {</span>    <span class="token comment">//     document.body.classList.remove("bg");</span>    <span class="token comment">//     this.innerText = "关 灯"</span>    <span class="token comment">//     flag = true;</span>    <span class="token comment">// }</span>    <span class="token comment">// 三元表达式 条件？条件成立执行：条件不成立执行</span>    <span class="token comment">// 等于号 最后赋值 代码等于号右边执行完赋值左边</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"bg"</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"开 灯"</span> <span class="token operator">:</span> <span class="token string">"关 灯"</span><span class="token punctuation">;</span>    flag <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="标签页切换-细看"><a href="#标签页切换-细看" class="headerlink" title="标签页切换(细看)"></a>标签页切换(细看)</h3><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">*</span> <span class="token punctuation">{</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.tab</span> <span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 100px auto<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.tab-top</span> <span class="token punctuation">{</span>    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.tab-top&gt;li</span> <span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 25%<span class="token punctuation">;</span>    <span class="token comment">/* height: 50px; */</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.tab-top .cur</span> <span class="token punctuation">{</span>    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">border-top</span><span class="token punctuation">:</span> 3px solid orange<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.tab-bottom&gt;li</span> <span class="token punctuation">{</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 350px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.tab-bottom .cur</span> <span class="token punctuation">{</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 上面的切换栏 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab-top<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cur<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>抗疫<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>图片<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>专栏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>热点<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 下面的显示栏 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tab-bottom<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cur<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>抗疫<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>图片<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>专栏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>热点<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> tabTopLis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".tab-top&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> tabBottomLis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".tab-bottom&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 给四个li绑定鼠标移上事件onmouseover</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> tabTopLis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 给上面的四个li定义了一个自定义的对象属性</span>    tabTopLis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token comment">// 输出看看</span>    <span class="token comment">// console.dir(tabTopLis[i]);</span>    <span class="token comment">// console.log(tabTopLis[i]);</span>    tabTopLis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 先去掉全部li的类名</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> tabTopLis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            tabTopLis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            tabBottomLis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// console.log(123)</span>        <span class="token comment">// 再给用户点的那个加上类名</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        tabBottomLis<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="三维焦点图-轮播"><a href="#三维焦点图-轮播" class="headerlink" title="三维焦点图(轮播)"></a>三维焦点图(轮播)</h3><p><code>HTML</code>略</p><p><strong>思路</strong></p><ol><li><strong>取数据</strong></li><li><strong>把每个<code>li</code>的类名提出来，存进一个新数组里面；</strong></li><li><strong>点击下一张，就是把新数组里面   把数组里面的第一个shift，放到数组的最后push</strong></li><li><strong>点击上一张，就是把新数组里面    把数组里面的最后一个pop，放到数组的前面unshift</strong></li><li><strong>以上两个步骤都要将新数组里面的类，重新赋值给<code>li</code></strong></li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 取数据</span><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".banner&gt;ul&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> prev <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".prev"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> next <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".next"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 专门新建一个数组来存类名</span><span class="token keyword">var</span> aclass <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lis<span class="token punctuation">,</span> prev<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(lis[i].className);</span>    <span class="token comment">// 把每一个li的类名放到aclass数组里面</span>    aclass<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 显示类名</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aclass<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击下一张</span>next<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 把数组里面的第一个shift，放到数组的最后push</span>    aclass<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>aclass<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aclass<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 给li重新修改类名  取相同的下标但是不同的类名</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> aclass<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 点击上一张</span>prev<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 把数组里面的最后一个pop，放到数组的前面unshift</span>    aclass<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>aclass<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aclass<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 给li重新修改类名  取相同的下标但是不同的类名</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> aclass<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="选反选"><a href="#选反选" class="headerlink" title="选反选"></a>选反选</h3><p><code>HTML</code>略</p><p><strong>思路</strong></p><ol><li>取数组；</li><li>点击全选选框，设置下面全部的选框全部选中，并且把全选的文字变成全不选</li><li>点击下面的每一个选框的时候，都要全部检查一遍，有没有没选中的，如果有就不能全选，如果都选中了，就可以全选</li><li>新建一个变量来控制是全选 true 全选  false不全选**(关键：)**</li><li>点击反选的按钮，设置全部的选框选中状态取反(顺便控制全选  要封装函数)</li><li>新建一个变量来控制是全选 true 全选  false不全选**(关键：)**</li></ol><p><strong>未封装版</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 取数据</span><span class="token keyword">var</span> allbtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"j_cbAll"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> selects <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> alltxt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> rev <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rev"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allbtn<span class="token punctuation">,</span> selects<span class="token punctuation">,</span> alltxt<span class="token punctuation">,</span> rev<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击全选选框，设置下面全部的选框全部选中，并且把全选的文字变成全不选</span>allbtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 输出this.checked全选框是否选中</span>    <span class="token comment">// console.log(this.checked)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 点击下面的每一个选框的时候，都要全部检查一遍，有没有没选中的，如果有就不能全选，如果都选中了，就可以全选</span><span class="token comment">// 新建一个变量来控制是全选 true 全选  false不全选</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(selects[i])</span>    selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 新建一个变量来控制是全选 true 全选  false不全选</span>        <span class="token comment">// 先假设是全选</span>        <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token comment">// 都要全部检查一遍，有没有没选中的selects[j].checked == false就是没有选中</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">// 只要有一个没选中，就不能全选</span>                flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//前面有没选中就跳出循环，提高代码执行效率</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        allbtn<span class="token punctuation">.</span>checked <span class="token operator">=</span> flag<span class="token punctuation">;</span>        alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 点击反选的按钮，设置全部的选框选中状态取反(顺便控制全选  要封装函数)</span>rev<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 设置全部的选框选中状态取反</span>        selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token operator">!</span>selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 先假设是全选</span>    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">// 都要全部检查一遍，有没有没选中的selects[j].checked == false就是没选中</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//前面有没中的就跳出循环，提高代码执行效率</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    allbtn<span class="token punctuation">.</span>checked <span class="token operator">=</span> flag<span class="token punctuation">;</span>    alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>封装版</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 取数据</span><span class="token keyword">var</span> allbtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"j_cbAll"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> selects <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"#j_tb input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> alltxt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> rev <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rev"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allbtn<span class="token punctuation">,</span> selects<span class="token punctuation">,</span> alltxt<span class="token punctuation">,</span> rev<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 点击全选选框，设置下面全部的选框全部选中，并且把全选的文字变成全不选</span>allbtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 输出this.checked全选框是否选中</span>    <span class="token comment">// console.log(this.checked)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 点击下面的每一个选框的时候，都要全部检查一遍，有没有没选中的，如果有就不能全选，如果都选中了，就可以全选</span><span class="token comment">// 新建一个变量来控制是全选 true  全选  false不全选</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(selects[i])</span>    <span class="token comment">// 注意事件函数不用()调用，因为点击后才调用</span>    selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> allselect<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 点击反选的按钮，设置全部的选框选中状态取反（顺便控制全选 要封装函数）</span>rev<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 设置全部的选框选中状态取反</span>        selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token operator">!</span>selects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 调用全选的功能</span>    <span class="token function">allselect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">allselect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 先假设是全选</span>    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">// 都要全部检查一遍,有没有没选中的selects[j].checked == false就是没选中</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> selects<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 只要有一个没选中，就不能全选</span>            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//前面有没中的就跳出循环，提高代码执行效率</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    allbtn<span class="token punctuation">.</span>checked <span class="token operator">=</span> flag<span class="token punctuation">;</span>    alltxt<span class="token punctuation">.</span>innerText <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">"全不选"</span> <span class="token operator">:</span> <span class="token string">"全选"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h2><table><thead><tr><th>节点node</th><th>nodeType</th><th>nodeName</th><th>nodeValue</th></tr></thead><tbody><tr><td><strong>元素节点</strong></td><td>1</td><td>标签名（大写）</td><td>null</td></tr><tr><td><strong>属性节点</strong></td><td>2</td><td>属性名</td><td>属性值</td></tr><tr><td><strong>文本节点</strong></td><td>3</td><td>#text</td><td>文本内容</td></tr><tr><td>CDATA节点</td><td>4</td><td>#cdata-section</td><td>CDATA区域内容</td></tr><tr><td>实体引用名称节点</td><td>5</td><td>引用名称</td><td>null</td></tr><tr><td>实体名称节点</td><td>6</td><td>实体名称</td><td>null</td></tr><tr><td>处理指令节点</td><td>7</td><td>target</td><td>entire content cluding the target</td></tr><tr><td><strong>注释节点</strong></td><td>8</td><td>#comment</td><td>注释内容</td></tr><tr><td><strong>文档节点</strong></td><td>9</td><td>#document</td><td>null</td></tr><tr><td>文档类型节点</td><td>10</td><td>doctype的名称</td><td>null</td></tr><tr><td>文档片段节点</td><td>11</td><td>#document-fragment</td><td>null</td></tr><tr><td>DTD声明节点</td><td>12</td><td>符号名称</td><td>null</td></tr></tbody></table><p>回顾概念:<br>文档:document<br>元素:页面中<strong>所有的标签</strong>,元素—element,  标签—-元素—对象<br>节点:页面中<strong>所有的内容</strong>(标签,属性,文本(文字,换行,空格,回车)),Node<br>根元素:html标签</p><p>节点的属性:(可以使用标签–元素.出来,可以使用属性节点.出来,文本节点.点出来)<br><code>nodeType:</code>节点的类型<br><code>nodeName:</code>节点的名字<br><code>nodeValue:</code>节点的值</p><h3 id="节点获取"><a href="#节点获取" class="headerlink" title="节点获取"></a>节点获取</h3><p>获取某节点的父级节点 兼容较好（掌握）</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.parentNode</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//body</span></code></pre><p>获取某节点的父级元素（了解）</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//node.parentElement</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>parentElement<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//body</span></code></pre><p>获取某节点的子节点包括换行空格等（了解）</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//node.childNodes</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//子节点，</span></code></pre><p>获取某节点的子元素（掌握）</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.children</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//子元素伪数组</span></code></pre><p>标签的属性节点获取 node.getAttribute(“属性名”)  得到属性节点的值</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//图片</span></code></pre><p>获取某节点的第一个子节点(了解)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.firstChild;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>获取某节点的第一个子元素</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.firstElementChild;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>获取某节点的最后一个子节点(了解)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.lastChild;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>获取某节点的最后一个子元素</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.lastElementChild;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>获取某节点的前一个兄弟节点(了解)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.previousSibling;</span></code></pre><p>获取某节点的前一个兄弟元素</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.previousElementSibling;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>previousElementSibling<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>获取某节点的后一个兄弟节点(了解)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//node.nextSibling;</span></code></pre><p>获取某节点的后一个兄弟元素</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// node.nextElementSibling;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="节点控制"><a href="#节点控制" class="headerlink" title="节点控制"></a>节点控制</h3><p>以前：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> ps <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"#dv p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ps<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        ps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"pink"</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>现在：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 通过标签关系去选择，后期维护的时候比较方便</span><span class="token keyword">var</span> _btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _dv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"dv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>_btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 输出dv的子元素看看</span>    <span class="token comment">// console.log(_dv.children)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _dv<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment">// 如果盒子里面的子元素的节点名称nodeName 标签名 是 P (要求大写) 就修改背景颜色</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeName <span class="token operator">==</span> <span class="token string">"P"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            _dv<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"pink"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>使用孩子节点：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 通过标签关系去选择，后期维护的时候比较方便</span><span class="token keyword">var</span> _btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _dv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"dv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _dvChildNodes <span class="token operator">=</span> _dv<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>_btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 输出dv的子元素看看</span>    <span class="token comment">// console.log(_dv.children)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _dvChildNodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 如果盒子里面的子元素的节点名称nodeName 标签名 是 P(要求大写) 就修改背景色</span>        <span class="token comment">// nodeType 是节点类型 1元素  2属性 3文本</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_dvChildNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeName <span class="token operator">==</span> <span class="token string">"SPAN"</span> <span class="token operator">&amp;&amp;</span> _dvChildNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            _dvChildNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"pink"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>使用孩子节点：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 通过标签关系去选择，后期维护的时候比较方便</span><span class="token keyword">var</span> _btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _dv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"dv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _dvChildNodes <span class="token operator">=</span> _dv<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>_btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 输出dv的子元素看看</span>    <span class="token comment">// console.log(_dv.children)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _dvChildNodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 如果盒子里面的子元素的节点名称nodeName 标签名 是 P(要求大写) 就修改背景色</span>        <span class="token comment">// nodeType 是节点类型 1元素  2属性 3文本</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_dvChildNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeName <span class="token operator">==</span> <span class="token string">"SPAN"</span> <span class="token operator">&amp;&amp;</span> _dvChildNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            _dvChildNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"pink"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="自定义属性"><a href="#自定义属性" class="headerlink" title="自定义属性"></a>自定义属性</h3><p>自定义属性 是标签<strong>本身没有</strong>的属性</p><p>标签的原生属性<code>id   className</code></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">aa</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>222<span class="token punctuation">"</span></span> <span class="token attr-name">tt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p>img标签的原生属性src  alt width height title</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">aa</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>自定义对象属性</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//方法一</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>obj<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//方法二</span><span class="token keyword">var</span> _dv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>_dv<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>_dv<span class="token punctuation">)</span></code></pre><p><strong>语法：</strong></p><p><strong>设置自定义属性:</strong></p><pre class="language-js" data-language="js"><code class="language-js">element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"属性名"</span><span class="token punctuation">,</span> <span class="token string">"属性值"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>获取自定义属性:</strong></p><pre class="language-js" data-language="js"><code class="language-js">element<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"属性名"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>移除标签行内属性(不单止是自定义属性，原生的属性也可移除):</strong></p><pre class="language-js" data-language="js"><code class="language-js">element<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">"属性名"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//设置自定义属性:</span>_dv<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"xs"</span><span class="token punctuation">,</span> <span class="token string">"晓莎"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取自定义属性:</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"xs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//xs</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//box</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//box</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>xs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined  注意：不是原生的属性不能通过对象点语法获取</span><span class="token comment">// 移除标签行内属性</span>_dv<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">"aa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>_dv<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>补充（后面小程序或者vue或许会用到）：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 补充 h5语法建议自定义属性的前面加上 data-属性名 来和原生属性作为区分</span>_dv<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"data-index"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// h5新增的获取自定义属性  data-属性名 可以通过ele.dataset.属性名 来获取</span>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>_dv<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="使用自定义属性tab切换"><a href="#使用自定义属性tab切换" class="headerlink" title="使用自定义属性tab切换"></a>使用自定义属性tab切换</h3><p><strong>自行比对先前的</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> tabTopLis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".tab-top&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> tabBottomLis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".tab-bottom&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tabTopLis<span class="token punctuation">,</span> tabBottomLis<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 给四个li绑定鼠标移上事件onmouseover</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> tabTopLis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 设置自定义属性</span>    tabTopLis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"data-index"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    tabTopLis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 先去掉全部li的类名</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> tabTopLis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            tabTopLis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            tabBottomLis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// console.log(123)</span>        <span class="token comment">// 再给用户点的那个加上类名</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 获取用户this鼠标移上的那个li的自定义属性，赋值给index</span>        <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 控制下面盒子数组对应的下标的盒子添加类名</span>        tabBottomLis<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="文档输出"><a href="#文档输出" class="headerlink" title="文档输出"></a>文档输出</h3><p>在事件里面用会<strong>重写</strong>body里面的所有内容**(不建议使用)**</p><pre class="language-js" data-language="js"><code class="language-js">btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;123&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="innerHTML增加节点（掌握）"><a href="#innerHTML增加节点（掌握）" class="headerlink" title="innerHTML增加节点（掌握）"></a>innerHTML增加节点（掌握）</h3><ul><li>某个元素节点中间插入一段HTML代码</li><li>element.innerHTML = HTML</li></ul><p><strong>点击按钮，获取input的value值，把这个值增加在ul的li里面(注意非空校验)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> _txt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"box"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_txt<span class="token punctuation">,</span> _btn<span class="token punctuation">,</span> _box<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 因为id是唯一的 使用的时候可以不用获取标签的 但是出维护和语义化的角度 不建议不获取id就直接使用</span>_btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 用户输入的内容_txt.value</span>    <span class="token comment">// 非空校验 如果 _txt.value 不是 空的字符串   _txt.value !== ""</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>_txt<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> li <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>_txt<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>        <span class="token comment">// += 字符串拼接 把 box.innerHTML 原有的html+新的再赋值给 box.innerHTML</span>        <span class="token comment">// 直接写个 =赋值符号 全部重复覆盖</span>        _box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> li<span class="token punctuation">;</span>        <span class="token comment">// 点了添加按钮之后，清空表单的内容（value属性是表单的内容）</span>        _txt<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入内容"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="点击创建列表"><a href="#点击创建列表" class="headerlink" title="点击创建列表"></a>点击创建列表</h3><p><strong>思路：用字符串拼接的方法，创建ul和li并且拼接到一起</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>创建列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dv<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> food <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"酸菜鱼"</span><span class="token punctuation">,</span> <span class="token string">"四川的串串"</span><span class="token punctuation">,</span> <span class="token string">"钵钵鸡"</span><span class="token punctuation">,</span> <span class="token string">"潮汕牛肉火锅"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> _btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> _dv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"dv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>_btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> _ul <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token comment">// 因为需要多个li，所以要遍历数组，数组里面有多少个数据，就要生成多少个li</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> food<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// var _li = `&lt;li&gt;${food[i]}&lt;/li&gt;`;</span>        <span class="token comment">// console.log(_li);</span>        <span class="token comment">// 因为要连接多个li,所以是要在循环里面</span>        _ul <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 输出连接完整的ul看看</span>    _ul <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_ul<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 再把dv的html赋值为连接完的ul字符串</span>    _dv<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> _ul<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="了解H5允许标签有起始没有结束-“但是不建议这么书写”"><a href="#了解H5允许标签有起始没有结束-“但是不建议这么书写”" class="headerlink" title="了解H5允许标签有起始没有结束  “但是不建议这么书写”"></a>了解H5允许标签有起始没有结束  “但是不建议这么书写”</h3><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>你好</code></pre><h3 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h3><ol><li><p><strong>先创建元素节点</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// chlidNode = document.createElement("p");</span></code></pre></li><li><p><strong>把元素追加到父级元素中</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// parentNode.appendChild(chlidNode);</span></code></pre></li></ol><p>可以用来创造一个新标签</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> banner <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"banner"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建一个banner标签</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>banner<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> banner<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object</span></code></pre><p>在document里面创建了一个p标签对象 赋值了给了p这个变量</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 给这个对象设置一些文本内容</span>p<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"我是新创建的p标签对象"</span><span class="token punctuation">;</span><span class="token comment">// 在body的后面追加</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="排序的扩展"><a href="#排序的扩展" class="headerlink" title="排序的扩展"></a>排序的扩展</h3><p>用js实现随机选取10~100之间的10个数据，存入一个数组，按从小到大排序</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getRandomInclusive</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>    max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>   <span class="token comment">//含最大值，含最小值</span><span class="token punctuation">}</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> ranNum <span class="token operator">=</span> <span class="token function">getRandomInclusive</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ranNum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// sort方法是对数组进行排序 参数是一个回调函数 回调函数里面接受两个参数</span><span class="token comment">// return a - b 从小到大排序</span><span class="token comment">// return b - a 从大到小排序</span><span class="token comment">// 返回值是一个排好序的数组，改变原数组</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="创建节点生成列表"><a href="#创建节点生成列表" class="headerlink" title="创建节点生成列表"></a>创建节点生成列表</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> food <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"棒棒糖"</span><span class="token punctuation">,</span> <span class="token string">"麦当劳"</span><span class="token punctuation">,</span> <span class="token string">"辣条"</span><span class="token punctuation">,</span> <span class="token string">"炸鸡"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 点击上面的按钮，使用创建对象的方法  创建ul li 放再body 里面</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 创建ul对象</span>    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> food<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 创建4个li对象</span>        <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 设置li的文字是数组里面的每一项</span>        li<span class="token punctuation">.</span>innerText <span class="token operator">=</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// 把这四个li放在ul里面</span>        ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 把ul放在body里面</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ul<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="增加删除替换元素"><a href="#增加删除替换元素" class="headerlink" title="增加删除替换元素"></a>增加删除替换元素</h3><p><strong>语法：</strong></p><p>父元素控制子元素<br>添加到容器(父级节点)的<strong>结尾</strong>，并返回新增节点</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//parentNode.appendChild(新节点)</span></code></pre><p>参照节点之前插入节点，并返回新节点</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//parentNode.insertBefore(新节点,参照节点)</span></code></pre><p>用新节点替换当前节点，并返回被替换节点(当前节点)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//parentNode.replaceChild(新节点,当前节点)</span></code></pre><p>移除节点，并返回移除的节点<br>不能直接删除自己，是需要<strong>先到父级元素</strong>，在来删除自己</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//parentNode.removeChild(当前元素) </span></code></pre><p><strong>字符串拼接和创建对象相比</strong></p><p>创建对象(执行效率：如果内容多，创建对象比字符串拼接效率高)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 字符串拼接</span><span class="token keyword">var</span> li <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;桃园豪杰三结义 &lt;button class="rep"&gt;替换&lt;/button&gt; &lt;button class="del"&gt;删除&lt;/button&gt;&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>ul<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> ul<span class="token punctuation">.</span>innerHTML <span class="token operator">+</span> li<span class="token punctuation">;</span>ul<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> li<span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 创建对象</span><span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>li<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;桃园豪杰三结义 &lt;button class="rep"&gt;替换&lt;/button&gt; &lt;button class="del"&gt;删除&lt;/button&gt;&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token comment">// 加在ul盒子里面的后面</span>ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 替换和删除</span><span class="token keyword">var</span> reps <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".rep"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> dels <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".del"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> reps<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    reps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> newli <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        newli<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;桃园豪杰三结义 &lt;button class="rep"&gt;替换&lt;/button&gt; &lt;button class="del"&gt;删除&lt;/button&gt;&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>        ul<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newli<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    dels<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// alert(this.parentNode.innerHTML)</span>        <span class="token comment">// parentNode.removeChild(当前元素)</span>        ul<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="点击生成表格"><a href="#点击生成表格" class="headerlink" title="点击生成表格"></a>点击生成表格</h3><pre class="language-html" data-language="html"><code class="language-html">输入行数：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>输入列数：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>生成表格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><ul><li>点击按钮，生成rows行tr，并且把这些行插入到table对象里面</li><li>点击按钮，生成cols列td，并且把这些列插入到tr对象里面</li><li>外层循环tr**(有多少行)**</li><li>里层循环td**(有多少列)**</li><li><strong>注意：请思考题目是否需要非空校验</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> row <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"row"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> col <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"col"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 非空校验</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>row<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token string">""</span> <span class="token operator">&amp;&amp;</span> col<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> rows <span class="token operator">=</span> <span class="token operator">+</span>row<span class="token punctuation">.</span>value<span class="token punctuation">;</span>  <span class="token comment">//行数</span>        <span class="token keyword">var</span> cols <span class="token operator">=</span> <span class="token operator">+</span>col<span class="token punctuation">.</span>value<span class="token punctuation">;</span>  <span class="token comment">//列数</span>        <span class="token keyword">var</span> table <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"table"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 外层循环控制行数tr</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> tr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"tr"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 里层循环控制列数td</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> cols<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">var</span> td <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"td"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                td<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">行,第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>j<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">列</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>                <span class="token comment">// 把td插入tr里面</span>                tr<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>td<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment">// 把tr插入table后面</span>            table<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// 把表格插入body后面</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 清空输入框的值</span>        row<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        col<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入内容"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="事件的三个阶段（冒泡）"><a href="#事件的三个阶段（冒泡）" class="headerlink" title="事件的三个阶段（冒泡）"></a>事件的三个阶段（冒泡）</h3><ol><li><p>第一阶段是从<strong>外向内</strong>找到目标元素**(捕获阶段)**</p></li><li><p>第二阶段执行了事件处理程序**(目标阶段)**</p></li><li><p>第三阶段 执行事件的时候,事件会从<strong>内向外</strong>传递**(冒泡阶段)**</p><p>如果祖先标签也绑定了<strong>同类事件</strong>,就会一层一层从里往外触发</p></li><li><p><em>window  &gt;  document  &gt;  html  &gt;  body</em></p></li></ol><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js">box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了盒子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>document<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了网页文档"</span><span class="token punctuation">)</span><span class="token punctuation">}</span>window<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了浏览器窗口"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h3 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h3><p>事件函数<strong>特有</strong>的对象</p><p>事件发生的时候  如果事件处理程序里面有传递<strong>参数</strong>， 它表示的是一个<strong>事件对象</strong></p><p>事件对象保留<strong>事件发生时的一些信息</strong>  保存在对象里面的属性和方法  可以直接使用</p><pre class="language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="阻止事件冒泡"><a href="#阻止事件冒泡" class="headerlink" title="阻止事件冒泡"></a>阻止事件冒泡</h3><p><code>e.stopPropagation()</code></p><pre class="language-js" data-language="js"><code class="language-js">small<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了小盒子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 调用了事件对象里面的停止事件传播(停止冒泡的方法)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>big<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了大盒子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 调用了事件对象里面的停止事件传播(停止冒泡的方法)</span>    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>document<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击网页文档"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="阻止默认行为"><a href="#阻止默认行为" class="headerlink" title="阻止默认行为"></a>阻止默认行为</h3><p>默认行为 是 <strong>标签默认的一些行为</strong> </p><p>例如:<strong>点了超链接会跳转页面</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.wolfcode.cn/<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>叩丁狼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p>例如:<strong>点了提交 按钮</strong> 会 <strong>提交 表单</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>07阻止事件冒泡.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>male<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>再例如框选页面会选中文字内容 都是属于默认的行为</strong> </p><p>补充css：</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 禁止用户选择文字 */</span><span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">a<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了超链接，但是不会跳转"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 阻止默认行为</span>    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了提交按钮，但是不会提交表单"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><p><strong>事件委托：</strong>又叫事件代理，原理就是<strong>利用事件冒泡特点</strong>：当子元素的事件发生时，父元素的同名事件也会发生——指定一个事件处理程序,就可以管理某一类型的所有事件。</p><p><strong>优点：</strong>不用给列表的每一个元素绑定事件，只需要<strong>绑定父元素</strong>就可以处理所有子元素的事件，优化性能</p><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 我要点击盒子里面的对应的标签  并且添加一个背景颜色</span><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".box"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// console.log(this);   //box this指向调用function的对象</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//e.target 表示触发事件的目标元素</span><span class="token comment">// 触发事件的目标元素不是div 并且不是ul</span><span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">!==</span> <span class="token string">"DIV"</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">!==</span> <span class="token string">"UL"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 就修改这个目标元素的颜色</span>   e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">"#cfc"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>事件委托(除了可以管理同一个系列的事件,还可以给本来不在document里面的标签[动态生成的标签]绑定事件)</strong></p><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 点击a,在show盒子里面增加一个modal</span><span class="token comment">// 点击关闭盒子,去掉modal</span><span class="token keyword">var</span> login <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> show <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".show"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// console.log(login, show, close);</span>login<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    show<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="modal"&gt;&lt;div class="modal-in"&gt;&lt;span class="close"&gt;x&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span class="token punctuation">}</span>show<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>className<span class="token punctuation">)</span>    <span class="token comment">// 如果目标元素的类名是 close</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>className <span class="token operator">==</span> <span class="token string">"close"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="Dom二级事件"><a href="#Dom二级事件" class="headerlink" title="Dom二级事件"></a>Dom二级事件</h3><ul><li>Dom 0级事件</li><li>本质是给对象事件属性 赋值为一个函数</li><li>缺点是如果重复事件，会相互覆盖</li><li>不利于多人协作</li></ul><pre class="language-js" data-language="js"><code class="language-js">btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//后面会把前面的覆盖</span></code></pre><p>Dom 二级事件的基本语法</p><ul><li>事件类型  <strong>省略on</strong></li><li>function(){  } 是事件处理函数</li><li>表示事件处于那个阶段   true   捕获阶段**(父传子)**   false  冒泡阶段**(子传父)** 不写  默认也是冒泡阶段</li><li><code>ele.addEventListener("事件类型",function(){ },false);</code></li></ul><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js">btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了按钮"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击了网页文档"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="冒泡排序-算法"><a href="#冒泡排序-算法" class="headerlink" title="冒泡排序(算法)"></a>冒泡排序(算法)</h3><ul><li>先得到规律</li><li>再进行计算</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 两两比较，如果后面这个比前面这个大，就交换他们的顺序</span><span class="token comment">// 第一轮比较 得到一个最大值</span><span class="token comment">// 3 4 2 1</span><span class="token comment">// 3 2 4 1</span><span class="token comment">// 3 2 1 4</span><span class="token comment">// 第二轮比较</span><span class="token comment">// 2 3 1 4</span><span class="token comment">// 2 1 3 4</span><span class="token comment">// 第三轮比较</span><span class="token comment">// 1 2 3 4</span><span class="token comment">// 得到规律就是</span><span class="token comment">// 比较的轮数就是 数组个数 - 1 次</span><span class="token comment">// 每一轮比较次数是  数组个数 - 1次 - 轮数</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> c<span class="token punctuation">;</span>c <span class="token operator">=</span> a<span class="token punctuation">;</span>a <span class="token operator">=</span> b<span class="token punctuation">;</span>b <span class="token operator">=</span> c<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 外层循环是比较的轮数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 里层循环是每轮比较的次数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> c<span class="token punctuation">;</span>            c <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span></code></pre><h3 id="事件解绑"><a href="#事件解绑" class="headerlink" title="事件解绑"></a>事件解绑</h3><p><strong>0级事件绑定解绑</strong></p><pre class="language-js" data-language="js"><code class="language-js">btn1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是0级事件，点完一次就解绑不能再点了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 0级事件的解绑，是使用完之后，直接把按钮的事件属性重新赋值为null</span>    <span class="token comment">// 因为0级事件本来就是第二个会覆盖第一个</span>    btn1<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>DOM二级事件解绑</strong></p><p>对象.removeEventListener(“事件类型”,事件处理函数,false);</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//绑定2级事件</span>btn2<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> tan<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 注意，因为移除事件监听要传入一个函数，所以这个函数需要 具名函数 才能移除</span><span class="token keyword">function</span> <span class="token function">tan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是二级事件绑定"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>解绑：要传入一个函数，所以这个函数需要 具名函数 才能移除</strong></p><pre class="language-js" data-language="js"><code class="language-js">btn3<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"点击会解绑第二个按钮的事件"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 对象.removeEventListener("事件类型",事件处理函数,false);</span>    btn2<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> tan<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="入口函数-可以将js写在body前面"><a href="#入口函数-可以将js写在body前面" class="headerlink" title="入口函数(可以将js写在body前面)"></a>入口函数(可以将js写在body前面)</h3><p>语法：</p><pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>函数体里面的代码要等整个网页加载完成之后才能执行<span class="token punctuation">}</span></code></pre><p><strong>注意：0级事件   后面的会覆盖前面的</strong></p><p><strong>可以使用二级事件的入口函数</strong></p><p><strong>load函数体里面的代码要等整个窗口里面的网页文档加载完成之后才能执行</strong></p><p>语法：</p><pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"事件类型"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>函数体里面的代码要等整个网页加载完成之后才能执行<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span></code></pre><p><strong>h5新增的入口函数</strong></p><p>文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，而无需等待样式表图像和子框架的完成加载</p><pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"DOMContentLoaded"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><h3 id="window对象"><a href="#window对象" class="headerlink" title="window对象"></a>window对象</h3><ul><li>全局定义的变量和函数都是挂在window对象里面的  顶级对象</li><li>尽量使用局部变量，因为局部变量书写在函数内部的，函数执行完之后就会销毁</li><li>全局变量存放在window对象，要等到窗口关闭才会销毁，比较占内容</li><li>可以使用自执行函数去包裹代码，变成局部作用域</li><li>window对象可以省略</li></ul><h3 id="了解BOM的其他方法"><a href="#了解BOM的其他方法" class="headerlink" title="了解BOM的其他方法"></a>了解BOM的其他方法</h3><p>浏览器打开新窗口</p><p><strong>open(“打开窗口的路径”，”打开方式”)</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"https://www.wolfcode.cn/"</span><span class="token punctuation">,</span><span class="token string">"_blank"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>close()关闭窗口</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>location 对象保存了路径的信息</strong></p><ul><li><p>获取到url  网址的路径</p></li><li><p>如：<a href="http://www.baidu.com/?key=value&amp;key=value&amp;key=value">http://www.baidu.com/?key=value&amp;key=value&amp;key=value</a></p></li><li><p>思考：如果url里面有参数,封装一个函数，把?后面的key和value获取到存在一个对象里面</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">zhanghao</span><span class="token operator">:</span> xxxx<span class="token punctuation">,</span>    <span class="token literal-property property">mima</span><span class="token operator">:</span> xxxx<span class="token punctuation">}</span></code></pre></li></ul><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>url信息获取</strong></p><p>url 网址路径  如：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token operator">?</span>key<span class="token operator">=</span>value<span class="token operator">&amp;</span>key<span class="token operator">=</span>value<span class="token operator">&amp;</span>key<span class="token operator">=</span>value</code></pre><p><strong>method 请求方式 GET  POST</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>04了解bom其他方法.html<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>GET<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zhanghao<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mima<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><p><strong>页面跳转</strong></p><pre class="language-js" data-language="js"><code class="language-js">location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"https://www.php.cn/js-tutorial-490000.html"</span><span class="token punctuation">;</span></code></pre><p><strong>history 了解即可</strong></p><ul><li>history对象 出于隐私考虑，获取不到历史记录的url，只能通过length属性来获取历史记录的条数</li><li>2条以上历史记录以上，就可以使用forward 和 back 或者 go方法来实现前进后退 实际上浏览器也自带有这个功能</li></ul><pre class="language-js" data-language="js"><code class="language-js">oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>history<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"last.html"</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 向前跳转</span>        <span class="token comment">// history.go(1);</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>history<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 向后跳转</span>    <span class="token comment">// history.go(-1);</span><span class="token punctuation">}</span></code></pre><p><strong>浏览器版本的获取</strong></p><p>navigator 可以获取到用户的浏览器版本做一些特殊的兼容处理</p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>加上浏览器私有前缀 -webkit-属性名  就可以兼容更多的低版本</p><p><strong>client  系列获取可视区域  不包括边框</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">)</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 默认把html的font-size设置成html的可视区域/10</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// window窗口  resize重置大小的时候</span>window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 修改html的fontsize = html的可视区域的宽度/10 + "px"</span>    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="offset系列"><a href="#offset系列" class="headerlink" title="offset系列"></a>offset系列</h3><p><strong>盒子的宽度</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span></code></pre><p><strong>盒子的高度</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span></code></pre><p><strong>盒子距离body的x坐标 (前提是父级没定位,父级如果有定位,获取距离父元素的坐标)</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span></code></pre><p><strong>盒子距离body的y坐标(父级有定位，参照的是相对父级的偏移的y坐标)</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span></code></pre><p>**注意事项: **</p><p><strong>ele.style.width</strong> 一般用于修改<strong>css宽高</strong>，如果是获取要使用<strong>offsetWidth</strong>和<strong>offsetHeight</strong> 取到的是<strong>数字型</strong>，能计算</p><pre class="language-js" data-language="js"><code class="language-js">big<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">"400px"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token comment">//无</span></code></pre><h3 id="scroll系列"><a href="#scroll系列" class="headerlink" title="scroll系列"></a>scroll系列</h3><p><strong>scrollWidth和scrollHeight 表示盒子整体范围(包括可以滚动的不可见部分)</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>small<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>small<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>onscroll 当盒子滚动的时候触发  scrollLeft是卷走的x坐标距离  scrollTop是卷走的y坐标距离</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>small<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>small<span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>scrollTo是跳转到哪里 这个方法参数是一个对象型数据 left 跳转的x坐标 top是跳转的y坐标</strong></p><pre class="language-js" data-language="js"><code class="language-js">small<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>    <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>    <span class="token comment">// behavior跳转行为 smooth平滑的 有些浏览器不支持的</span>    <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">"smooth"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="窗口的跳转和滚动"><a href="#窗口的跳转和滚动" class="headerlink" title="窗口的跳转和滚动"></a>窗口的跳转和滚动</h3><pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// window 和 document绑定滚动事件都可以</span>    window<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 注意:获取网页卷走的y坐标要获取html标签的scrollTop</span>        console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 窗口window跳转到scrollTo指定的位置</span>        window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token comment">// .yifu盒子在body的y坐标offsetTop</span>            <span class="token literal-property property">top</span><span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".yifu"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop<span class="token punctuation">,</span>            <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">"smooth"</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 思考题:</span><span class="token comment">// 假设有五个盒子和五个按钮,点击要跳到对应盒子的y坐标</span><span class="token comment">// 用什么来实现一一对应 tab栏思想</span><span class="token comment">// 给按钮自定义一个属性</span><span class="token comment">// 根据用户点了哪个按钮this获取他的自定义属性index</span><span class="token comment">// 再取控制跳转到某个(this.index)盒子在body的y坐标offsetTop</span></code></pre><h3 id="淘宝吸顶案例"><a href="#淘宝吸顶案例" class="headerlink" title="淘宝吸顶案例"></a>淘宝吸顶案例</h3><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 同时有top和fixed类的样式 */</span><span class="token selector">.top.fixed</span> <span class="token punctuation">{</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"load"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> top <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".top"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> search <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".search"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 搜索盒子在网页的y坐标</span>    <span class="token keyword">var</span> searchY <span class="token operator">=</span> search<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>top<span class="token punctuation">,</span> search<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 窗口window滚动scroll的时候</span>    <span class="token comment">// 如果html卷走的距离如果大于search在网页body里面的y坐标offsetTop</span>    <span class="token comment">// 就给top加上类fixed 否则 就移除类fixed</span>    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// html卷走的距离</span>        <span class="token keyword">var</span> scrollY <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollY <span class="token operator">&gt;</span> searchY<span class="token punctuation">)</span> <span class="token punctuation">{</span>            top<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"fixed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            top<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"fixed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h1 id="定时器语法"><a href="#定时器语法" class="headerlink" title="定时器语法"></a>定时器语法</h1><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 同步和异步 --&gt;</span><span class="token comment">&lt;!-- 同步：网页文档加载的时候，从上到下一行一行执行的代码 --&gt;</span><span class="token comment">&lt;!-- 异步： 事件处理函数  定时器  网路请求 (同步代码执行完之后，最后执行异步代码) --&gt;</span></code></pre><h3 id="单次定时器"><a href="#单次定时器" class="headerlink" title="单次定时器"></a>单次定时器</h3><p>单次定时器 是window对象的一个方法 只执行一次 如果没有传入第二个参数 是 同步代码执行完 定时器就马上执行</p><p>语法：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 等到多少事件后触发 <span class="token punctuation">}</span><span class="token punctuation">,</span> 时间毫秒值<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// this 指向调用函数的对象 如果在事件里面指向事件源</span>    <span class="token comment">// 定时器里面的this是执行window</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="循环定时器"><a href="#循环定时器" class="headerlink" title="循环定时器"></a>循环定时器</h3><ul><li>循环定时器会反复执行多次</li><li>每隔一段事件触发一次</li></ul><p>语法：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 间隔时间反复执行的代码 <span class="token punctuation">}</span><span class="token punctuation">,</span> 间隔的毫秒数<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    num<span class="token operator">++</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="清除定时器"><a href="#清除定时器" class="headerlink" title="清除定时器"></a>清除定时器</h3><p><strong>清除单次定时器</strong></p><p><strong>定时器函数可以赋值给一个变量，为了区分网页里面不同定时器（标识符）</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> timerDan <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是单次定时器"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>clearTimeout 清除timerDan 这个单次定时器</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerDan<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>clearInterval 清除timer1 这个循环定时器</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">clearInterval</span><span class="token punctuation">(</span>timer1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="随机点名"><a href="#随机点名" class="headerlink" title="随机点名"></a>随机点名</h3><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">*</span> <span class="token punctuation">{</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">body</span> <span class="token punctuation">{</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">h3</span> <span class="token punctuation">{</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">button</span> <span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> royalblue<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.list</span> <span class="token punctuation">{</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 50px auto<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 1180px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.list li</span> <span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> royalblue<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.list li.cur</span> <span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #f10180<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>随机抽奖<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>开始<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> students <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string">"1"</span><span class="token punctuation">,</span>    <span class="token string">"2"</span><span class="token punctuation">,</span>    <span class="token string">"3"</span><span class="token punctuation">,</span>    <span class="token string">"4"</span><span class="token punctuation">,</span>    <span class="token string">"5"</span><span class="token punctuation">,</span>    <span class="token string">"6"</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//根据数组的个数生成多个li</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> students<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 创建多个li</span>    <span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 设置li里面的文字是数组的每一项</span>    lis<span class="token punctuation">.</span>innerText <span class="token operator">=</span> students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 把li放到ul里面</span>    list<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>lis<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 点击 开始 按钮的时候</span><span class="token comment">// 就随机从 0 ~ students.length; 生成这个范围的随机数</span><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".list&gt;li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//先设置成空对象</span>btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 如果 按钮 里面的文字是开始 就 变成暂停 顺便开启定时间器 </span>    <span class="token comment">// 否则清除定时器，并且把文字变成暂停</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>btn<span class="token punctuation">.</span>innerText <span class="token operator">==</span> <span class="token string">"开始"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> ranNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> students<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 让定时器不断的随机同学</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>students<span class="token punctuation">[</span>ranNum<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 设置全部清除类名（排他）</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment">// 再给随机到的这个增加类名（确立自己）</span>            lis<span class="token punctuation">[</span>ranNum<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"cur"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 把按钮的文字变成暂停</span>        btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"暂停"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">//清除定时器</span>        <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 把按钮的文字变成开始</span>        btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"开始"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript 基础阶段总结</title>
      <link href="/2022/06/10/javascript-ji-chu-jie-duan-zong-jie/"/>
      <url>/2022/06/10/javascript-ji-chu-jie-duan-zong-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScript-基础阶段总结"><a href="#JavaScript-基础阶段总结" class="headerlink" title="JavaScript 基础阶段总结"></a>JavaScript 基础阶段总结</h1><h3 id="js三大组成部分"><a href="#js三大组成部分" class="headerlink" title="js三大组成部分"></a>js三大组成部分</h3><ol><li>、ECMAScript</li><li>、文档对象模型（DOM）DOM document 网页文档对象  js对<strong>网页操作</strong></li><li>、浏览器对象模型（BOM）BOM browser 浏览器对象 js对<strong>浏览器窗口操作</strong></li></ol><h3 id="js的书写位置"><a href="#js的书写位置" class="headerlink" title="js的书写位置"></a>js的书写位置</h3><p>三种：</p><ul><li>行内js一般结合事件书写  当事件触发的时候 才执行 onclick点击</li><li>内嵌式js script标签是可以写在任意位置 注意执行顺序是从上到下</li><li>外链式 引入js是用script的src属性 注意<strong>script标签内部不能再书写代码</strong></li></ul><p><strong>注意外面双引号，里面就要用单引号</strong></p><p><em>js两种注释方法</em></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// js的单行注释</span><span class="token comment">/* js的多行注释  alt + shift + a */</span></code></pre><h3 id="四个js常用的测试方法"><a href="#四个js常用的测试方法" class="headerlink" title="四个js常用的测试方法"></a>四个js常用的测试方法</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 弹出警示框</span>window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"警示框！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//网页文档输出(把内容书写在body标签内部，而且还能识别标签)</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello world~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;hello world~&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//控制台输出（调试时候最常用）</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"hello world~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//弹出提示输入框(后面一般自定义，学语法阶段会用来测试)</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"请输入账号"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="变量的定义"><a href="#变量的定义" class="headerlink" title="变量的定义"></a>变量的定义</h3><p>变量是一个存储数据的容器</p><p>js变量要使用，先声明 es5声明变量的关键字 var</p><p><strong>基本写法 var 变量名 = 变量的值;</strong></p><p> <strong>= 等于号在js里面是赋值符号 以后看到等号 把右边的内容赋值给左边的变量，以后看到变量名就相当于看到了数据</strong></p><p><strong>注意：变量一定要先定义再使用,变量如果没有定义就使用，会报错，从报错那一行开始，后面的js代码全部不执行</strong></p><h4 id="变量的注意点"><a href="#变量的注意点" class="headerlink" title="变量的注意点"></a>变量的注意点</h4><p>变量如果有声明，但没有赋值，它的值就是undefined未定义（只要有var声明，无论是书写在使用前还是后都不会报错）</p><p>a is not defined 如果没有声明过，直接使用就会报错，报错后会不执行</p><pre class="language-js" data-language="js"><code class="language-js">a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//无声明变量，就使用浏览器报错a is not defined</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//变量声明了，但是没赋值 浏览器没报错，返回  undefined</span></code></pre><h3 id="变量的命名规范"><a href="#变量的命名规范" class="headerlink" title="变量的命名规范"></a>变量的命名规范</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 1 变量是由字母 数字 下划线 和 $ 组成的</span><span class="token comment">// 2 不能数字开头也不能纯数字</span><span class="token comment">// 3 不能使用js语法里面的关键字和保留字 if break for continue  function return </span><span class="token comment">// 4 区分大小写 num 和 Num不是同一个变量</span><span class="token comment">// 5 建议使用驼峰式命名，并且命名有语义 myName  userName</span></code></pre><h3 id="变量定义方法"><a href="#变量定义方法" class="headerlink" title="变量定义方法"></a>变量定义方法</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//方法一 声明后直接赋值</span><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//方法二 先声明，后赋值</span><span class="token keyword">var</span> num1<span class="token punctuation">;</span>num1 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//方法三 同时声明多个变量，用逗号隔开</span><span class="token keyword">var</span> a1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> a2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> a3 <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token comment">//方法四 同时声明多个变量，再分开赋值</span><span class="token keyword">var</span> a4<span class="token punctuation">,</span> a5<span class="token punctuation">,</span> a6<span class="token punctuation">;</span>a4 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>a5 <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>a6 <span class="token operator">=</span> <span class="token number">700</span><span class="token punctuation">;</span></code></pre><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>es5有五大数据类型</p><ol><li>数值型 数字型 number 特点：可以进行运算 + - * /</li><li>字符型 string 写在<strong>引号</strong>里面的，可以是<strong>单引或者双引号</strong>都行</li><li>布尔型 boolean  只有两个值 true/false true真的 条件成立  false假 条件不成立</li><li>未定义型 undefined <strong>变量声明了但未赋值</strong>就是undefined</li><li>对象型 object</li></ol><p><strong>typeof 可以检测数据类型</strong></p><pre class="language-js" data-language="js"><code class="language-js">五大数据类型    string <span class="token function">number</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token function">boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token operator">/</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token keyword">undefined</span> <span class="token keyword">null</span> <span class="token operator">===</span><span class="token operator">=&gt;</span><span class="token function">简单类型数据</span><span class="token punctuation">(</span>存储在栈内存<span class="token punctuation">)</span>        <span class="token literal-property property">特点</span><span class="token operator">:</span>赋值过程发生在栈内存<span class="token punctuation">,</span>每次赋值都会开辟一个新空间<span class="token punctuation">,</span>和原来的空间是互不影响的    <span class="token function">object</span><span class="token punctuation">(</span>函数<span class="token keyword">function</span> 数组array window document <span class="token punctuation">{</span> <span class="token punctuation">}</span> Math <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token function">复杂类型的数据</span><span class="token punctuation">(</span>存储在堆内存<span class="token punctuation">)</span>    <span class="token literal-property property">特点</span><span class="token operator">:</span>复制过程发生在栈内存<span class="token punctuation">,</span>因为复杂类型数据量庞大<span class="token punctuation">,</span>每次每次赋值只是引用了原数据在堆内存的数据地址<span class="token punctuation">,</span>修改了这个数据<span class="token punctuation">,</span>就会影响原数据</code></pre><p>eg:</p><p><strong>简单</strong>数据类型：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//20</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10</span></code></pre><p><strong>复杂</strong>数据类型：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr2 <span class="token operator">=</span> arr1<span class="token punctuation">;</span>arr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"你好"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["你好", 2, 3]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ["你好", 2, 3]</span></code></pre><h3 id="对象型"><a href="#对象型" class="headerlink" title="对象型"></a>对象型</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//object(后面会专门学 复杂的数据类型 document文档对象 window .... 了解 对象里面有很多属性和方法()可以调用 )</span><span class="token comment">//了解 window是浏览器窗口对象，可以省略不写 调用对象身上的属性和方法() 通过.点语法</span>对象型补充<span class="token comment">// 输入框不输入内容点了取消，它的结果就是null 是空对象的意思 属于对象型的数据</span><span class="token comment">// null一很少主动使用，将来做一些功能的时候，想清空某个对象就可以赋值 为null</span><span class="token comment">// 输入框什么都不输入点确定是空的字符串</span></code></pre><h3 id="转换成数字型三种方法"><a href="#转换成数字型三种方法" class="headerlink" title="转换成数字型三种方法"></a>转换成数字型三种方法</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// Number(数据); 转化成数字 只能将纯数字的字符型数据转化成数字型</span><span class="token comment">// parseInt(数据); 转化成整数</span><span class="token comment">// parseFloat(数据); 转化成小数/浮点数</span><span class="token comment">//后面两个可以将后面参杂了非数字字符的数据转化成整数/小数</span></code></pre><h3 id="转化成字符"><a href="#转化成字符" class="headerlink" title="转化成字符"></a>转化成字符</h3><p><strong>String (数据);</strong></p><p><strong>数据.toString();</strong></p><p><strong>数据 + “”数据+空的字符串”” 就是字符串拼接 得到的结果也是字符串</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//注意null不能通过toString()转化成字符</span></code></pre><h3 id="转化成布尔值"><a href="#转化成布尔值" class="headerlink" title="转化成布尔值"></a>转化成布尔值</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 转化成布尔值 </span><span class="token comment">// Boolean(数据);</span><span class="token comment">// 六个特殊值转化成布尔是false 其他都是true  ==&gt;  0 NaN "" null undefined false ==&gt;面试可能会问</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false 空字符</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true  空格字符串也是true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true  </span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></code></pre><h2 id="js里面的运算符"><a href="#js里面的运算符" class="headerlink" title="js里面的运算符"></a>js里面的运算符</h2><p>算术运算符   <code>+</code>   <code>- </code>  <code> *</code>   <code>/</code>   <code>% </code>   取模 取余  两个数相除取余数</p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//32  ** 是 2的5次方 2*2*2*2*2 = 32</span></code></pre><h3 id="总结加号的作用"><a href="#总结加号的作用" class="headerlink" title="总结加号的作用"></a>总结加号的作用</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// +加号的3个作用</span><span class="token comment">// 数字相加</span><span class="token comment">// 字符串拼接  +加号左右两边只要有一个字符最终结果都是字符串拼接 </span><span class="token comment">// 在类数字的字符前加上一个+号 可以转化成数字型(喜欢用)</span></code></pre><h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&gt;</span>大于<span class="token operator">&gt;=</span>大于等于<span class="token operator">&lt;</span>小于<span class="token operator">&lt;=</span>小于等于<span class="token operator">==</span>判断值是否相等<span class="token operator">===</span> 判断 值 和 数据类型 是否相等<span class="token comment">//一个数字字符串和纯数字比较，js会隐式转换成数字型去比较</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"2"</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ture</span><span class="token comment">// 两边都是字符，不会隐式转换，每个字符去比较，转换成ASCII码来比较  不建议不同数据类型进行比较</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"102"</span> <span class="token operator">&gt;</span> <span class="token string">"a23"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// a的ASCII码是65   1&gt;65？ 是false</span><span class="token comment">// ==判断值是否相等  === 判断值和数据类型是否相等(全等)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span><span class="token comment">// 特殊点：NaN和任何值都不相等 包括自己 （六亲不认）</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span></code></pre><h3 id="自增与自减"><a href="#自增与自减" class="headerlink" title="自增与自减"></a>自增与自减</h3><p><strong>自增</strong></p><pre class="language-js" data-language="js"><code class="language-js">i<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//i++ 相当于i = i + 1 (先计算，后自增)</span><span class="token operator">++</span>i<span class="token punctuation">;</span> <span class="token comment">//++i 相当于i = i + 1 (先自增，后计算)</span></code></pre><p><strong>两者的不同点在于：参与运算的过程中，++在前面是先自增，在计算，++在后面先计算后自增</strong></p><p><strong>如果一行代码只有i++或者++i，其效果都是i+1。</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//2</span><span class="token operator">++</span>i<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//3</span></code></pre><p><strong>一旦参与了其他运算，二者就有区别了</strong></p><p><strong>i++</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> i <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span>i<span class="token operator">++</span>  <span class="token operator">+</span>  <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">//i++参与运算时，先参与运算，然后自身再+1，故代码可以改写为：b=i+5;i=i+1;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//6</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span></code></pre><p><strong>++i</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token operator">++</span>i <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//7</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>  <span class="token comment">// 2</span><span class="token comment">//++i参与运算时，先自身再+1，然后再参与运算，故代码可以改写为：i=i+1;b=i+1+5;</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span>    a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>    b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span>    c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token comment">//不参与运算二者效果是一样的，都是+1</span><span class="token operator">++</span>a<span class="token punctuation">;</span> <span class="token comment">//11</span>a<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//12</span>e <span class="token operator">=</span> <span class="token operator">++</span>a <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">++</span>b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>c<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">+</span> a<span class="token operator">++</span><span class="token punctuation">;</span><span class="token number">13</span> <span class="token operator">+</span>    <span class="token number">21</span>   <span class="token operator">+</span>   <span class="token number">30</span>  <span class="token operator">+</span> <span class="token number">13</span><span class="token comment">//     ++a参与运算，故先+1再运算，</span><span class="token comment">//    ++b参与运算，故先+1再运算</span><span class="token comment">//    c++参与运算，先参与运算，自身再+1；</span><span class="token comment">//     a++参与运算，先参与运算，自身再+1，前面++a已经改变了a的值为13</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//77</span></code></pre><p><strong>自减和自增一样</strong></p><h3 id="赋值操作符"><a href="#赋值操作符" class="headerlink" title="赋值操作符"></a>赋值操作符</h3><ul><li>= 赋值符号</li><li>+= 加等 </li><li>-= 减等 </li><li>*= 乘等 </li><li>/= 除等 </li><li>%= 用自己除以一个数取余数再赋值给自己</li></ul><h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><ul><li><strong>&amp;&amp; 且 与</strong></li><li><strong>||或</strong></li><li><strong>！非 不</strong>    <strong>（可以颠倒是非  把true 变成false, 把false变成true）</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// &amp;&amp; 且 多个条件都是真的，最终结果才是true，短路：遇假则停</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> <span class="token number">3</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// || 或 多个条件只要有一个是真， 最终结果就是true，短路：遇真则停</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">||</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">||</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// ! 非  不  可以颠倒是非 把true变成false，把false变成true</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//0会先隐式转换成布尔值，再取反 true</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"---------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//转换成布尔值的简单方法在数据前面加上两个！！ false</span></code></pre><h3 id="短路-amp-amp-和"><a href="#短路-amp-amp-和" class="headerlink" title="短路(  &amp;&amp;  和  ||  )"></a>短路(  &amp;&amp;  和  ||  )</h3><ul><li>短路运算运用在<strong>化简条件判断</strong></li><li>短路是指<strong>前面能得出结果</strong>，<strong>后面的就不执行</strong>，如果前面都<strong>不能</strong>决定最终结果，<strong>结果就是最后一个值</strong></li><li>用于<strong>形参多于实参</strong></li></ul><p><strong>&amp;&amp;与和</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// &amp;&amp; 多条件只要有一个是false，最终结果就是false,如果前面都不能决定最终结果，结果就是最后一个值</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//0</span></code></pre><p><strong>||或</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// || 多条件只要有一个是true，最终的结果就是true，如果前面都不能决定最终结果，结果就是最后一个值</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">||</span> <span class="token boolean">false</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">6</span> <span class="token operator">||</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//6</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//  &amp;&amp; 和 ||    先算 &amp;&amp; 再算 ||</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token number">6</span> <span class="token operator">||</span> <span class="token number">789</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// console.log(0 || null || NaN);</span><span class="token comment">// NaN</span></code></pre><h3 id="或的应用（-）"><a href="#或的应用（-）" class="headerlink" title="或的应用（  ||  ）"></a>或的应用（  ||  ）</h3><p>短路运算运用在<strong>化简条件判断</strong></p><p>定义了形参，<strong>没有传递实参</strong>，这个<strong>形参</strong>就相当于变量没赋值，没赋值就是<strong>undefined</strong></p><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">/*         if (c == undefined){            c = 0;        }        */</span>    c <span class="token operator">=</span> c <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//60</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//30</span></code></pre><h3 id="短路运算的使用"><a href="#短路运算的使用" class="headerlink" title="短路运算的使用"></a>短路运算的使用</h3><p>数组也可以作为参数</p><p><strong>结论：任何数据类型都可以作为实参</strong></p><p>函数调用的时候，传递另外一个函数作为实参，这个函数称为 <strong>回调函数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"我是函数，作为参数传递到另一个函数里面"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"我是函数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/*         想实现callback不传报错，传了就调用        if(callback){            callback();        }        callback没有传参数，就是undefined        &amp;&amp; 前面是 undefined 的话，undefined是false，&amp;&amp; 前面有 false, 就会短路，后面就不会执行，不执行就不会报错        callback有传参数，就是true        &amp;&amp; 前面是 true，最终结果是后面，就会调用函数             */</span>    callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 函数调用的时候，传递另外一个函数作为实参，这个函数称为 回调函数</span><span class="token comment">// f2();</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"前面没报错，我可以执行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// console.log("---------------------");</span><span class="token comment">// f2(f1);</span></code></pre><h3 id="比较运算符-1"><a href="#比较运算符-1" class="headerlink" title="比较运算符"></a>比较运算符</h3><p><code>&gt;</code>  大于；</p><p><code>&gt;=</code> 大于等于；</p><p><code>&lt;</code>  小于；</p><p><code>&lt;=</code> 小于等于</p><p><code>==</code> 等于</p><p><code>===</code> 全等 </p><p><code>!=</code>判断值是否不相等(不等)</p><p><code>!==</code>判断值和数据类型是否不相等（不全等）</p><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">!=</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false 1是不是不等于 "1" 不是</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">!==</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true 1是不是不全等与 "1" 是</span></code></pre><h3 id="操作符号的优先级"><a href="#操作符号的优先级" class="headerlink" title="操作符号的优先级"></a>操作符号的优先级</h3><img src="/2022/06/10/javascript-ji-chu-jie-duan-zong-jie/20201215092456122.png" alt="20201215092456122" style="zoom: 80%;"><ol><li>括号先算</li><li>其次算算术</li><li>再次算比较</li><li>然后算逻辑是先&amp;&amp;且再到||或</li><li>最后算赋值</li></ol><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>    <span class="token comment">// 10 + 5 &gt; 10 &amp;&amp; true || false</span>    <span class="token comment">// 15 &gt; 10 &amp;&amp; true || false</span>    <span class="token comment">//true &amp;&amp; true ||false</span>    <span class="token comment">// true || false</span>    <span class="token comment">// true</span></code></pre><h2 id="分支语句"><a href="#分支语句" class="headerlink" title="分支语句"></a>分支语句</h2><p>正常的顺序是从上到下全部执行代码</p><p>遇到分支语句，选择一个分支来执行，或者直接不执行</p><p>分支语句 <strong>条件判断 条件成立</strong>才执行</p><p>条件成立 <strong>是小括号里面的最终的执行结果是true</strong></p><h3 id="if（）"><a href="#if（）" class="headerlink" title="if（）{}"></a>if（）{}</h3><ul><li>if 如果的意见 如果.. 就..</li><li>if(条件表达式){条件成立执行的代码}</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> day <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"请输入日期"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>day <span class="token operator">==</span> <span class="token string">"520"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"去看电影"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"去吃饭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>总结：if（）{}特点是大括号里面的代码不一定执行</strong></p><h3 id="if（）else"><a href="#if（）else" class="headerlink" title="if（）else{}"></a>if（）else{}</h3><p>if(条件表达式){ 条件成立执行的代码块 } else { 条件不成立执行的代码块 }</p><p><strong>如果.. 就…否则…</strong></p><p>特点: 两个大括号里面的代码,<strong>一定会执行其中一个</strong></p><h3 id="三元表达式"><a href="#三元表达式" class="headerlink" title="三元表达式"></a>三元表达式</h3><p>三元表达式是if(){}else{}的<strong>简写</strong></p><p>语法：</p><p><strong>条件表达式 ? 条件成立执行:条件不成立执行</strong></p><h3 id="弹出比较大的数字"><a href="#弹出比较大的数字" class="headerlink" title="弹出比较大的数字"></a>弹出比较大的数字</h3><p>if..else..</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"请输入第一个数字"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token operator">+</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"请输入第二个数字"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token string">"比较大"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span>b <span class="token operator">+</span> <span class="token string">"比较大"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>三元表达式</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">var</span> c<span class="token punctuation">;</span><span class="token comment">// a &gt; b ? c = a : c = b;</span>c <span class="token operator">=</span> a <span class="token operator">&gt;</span> b <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span> <span class="token comment">//操作符优先级 是 最后赋值, 右边的得出一个结果,再赋值给c</span><span class="token function">alert</span><span class="token punctuation">(</span>c <span class="token operator">+</span> <span class="token string">"比较大"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="多条件判断"><a href="#多条件判断" class="headerlink" title="多条件判断"></a>多条件判断</h3><p>if (条件1) { 条件1成立就执行这里 } else if (条件2) { 条件2成立就执行这里 }….else { 以上条件都不成立就执行这里,else不是必须的 }</p><p><em>100 &gt;= score &gt;= 90 js不支持这种写法,会左边先比较,再比较右边</em></p><h3 id="switch…case语句"><a href="#switch…case语句" class="headerlink" title="switch…case语句"></a>switch…case语句</h3><p>语法：</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/*    switch(变量){        case 值1: 变量 === 值1 就执行这里的代码 break；        case 值2: 变量 === 值2 就执行这里的代码 break；        ...        default: 都不属于以上情形，就执行default这里的代码，default不是必须的    }*/</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"请输入数字0~6"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">switch</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">case</span> <span class="token string">"0"</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"今天是星期天"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">"1"</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"今天是星期一"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">"2"</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"今天是星期二"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">"3"</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"今天是星期三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">"4"</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"今天是星期四"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">"5"</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"今天是星期五"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">"6"</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"今天是星期六"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入正确的范围"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="switch语句和if语句的区别"><a href="#switch语句和if语句的区别" class="headerlink" title="switch语句和if语句的区别"></a>switch语句和if语句的区别</h4><p><strong>if语句</strong>判断条件是可以在<strong>一个区间</strong>里面的，<strong>switch语句</strong>的判断条件是<strong>一个确定的值</strong>；</p><h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><p><strong>打断循环 break关键字在循环语句里面的作用可以跳出循环</strong></p><h4 id="三个循环的区别使用场景"><a href="#三个循环的区别使用场景" class="headerlink" title="三个循环的区别使用场景"></a>三个循环的区别使用场景</h4><ol><li>for循环容易看出循环的次数，一般用于<strong>已知次数</strong>的循环</li><li>while和do…while不易看出循环的次数，一般用于<strong>未知次数</strong>的循环</li><li>while先判断再执行，所以有可能一次都不执行，do…while先做某某某事情再判断，<strong>至少会执行一次</strong></li></ol><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a><strong>for循</strong>环</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//正常的顺序是从上到下全部执行代码</span><span class="token comment">//遇到循环语句，反复执行多次循环语句里面的代码</span><span class="token comment">/*    for 循环的基本格式    for (var 变量 = 初始值; 条件判断; 变量递增 / 递减){        1 初始值进行条件判断        2 条件成立执行{}里面的代码        3 再进行初始值的递增/递减        4 再进行条件判断，条件成立重复执行2~3        5 直到条件不成立，就停止循环        重复执行的代码块    }    */</span></code></pre><p><strong>断点关键字：debugger</strong></p><h4 id="嵌套循环-注意内外层循环的含义和关系"><a href="#嵌套循环-注意内外层循环的含义和关系" class="headerlink" title="嵌套循环(注意内外层循环的含义和关系)"></a>嵌套循环(注意内外层循环的含义和关系)</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//正三角</span><span class="token comment">// 外层循环j控制一共有多少行</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">6</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 里层循环控制每行有多少个</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"🤤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 倒三角</span><span class="token comment">// 外层循环j控制一共有多少行</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> k <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">;</span> k<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 里层循环控制每行有多少个</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> u <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> u <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> u<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"🤤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// while循环的基本语法</span><span class="token comment">// while (条件) {</span><span class="token comment">//     条件成立重复执行的代码</span><span class="token comment">// }</span></code></pre><h3 id="do-while循环的基本语法"><a href="#do-while循环的基本语法" class="headerlink" title="do..while循环的基本语法"></a>do..while循环的基本语法</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// do..while循环的基本语法</span><span class="token comment">// do {</span><span class="token comment">//     条件成立重复执行的代码</span><span class="token comment">// } while (条件);</span></code></pre><h3 id="求偶数和"><a href="#求偶数和" class="headerlink" title="求偶数和"></a>求偶数和</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//第一种</span><span class="token comment">// 保存总和</span><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//除以2 余数为0就是偶数</span>        <span class="token comment">//除以2 余数不为0就是奇数</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// console.log(i);</span>            sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"偶数和为"</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//第二种：</span><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//偶数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//奇数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"奇数和为"</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="求本金"><a href="#求本金" class="headerlink" title="求本金"></a>求本金</h3><p><em>本金10000元存入银行，年利率是千分之三，每过1年，将本金和利息相加作为新的本金。计算5年后，获得的本金是多少？</em></p><p><em>思路：新的本金 = 本金 + 本金</em>利率  （执行5次）</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    ben <span class="token operator">=</span> ben <span class="token operator">+</span> ben <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="循环结束语句"><a href="#循环结束语句" class="headerlink" title="循环结束语句"></a>循环结束语句</h2><h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><ul><li>结束后面循环的执行</li><li>break后面的代码不执行</li></ul><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 在循环打印1到5的过程中，打印到3就停下来，不打印了，后面的4，和5也不打印了。</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 注意要先输出3再结束循环break</span>    <span class="token comment">// break后面的代码不执行</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="循环语句里的break与switch语句里的break区别"><a href="#循环语句里的break与switch语句里的break区别" class="headerlink" title="循环语句里的break与switch语句里的break区别"></a>循环语句里的break与switch语句里的break区别</h3><p>循环语句的break属于循环语句,这里的作用是跳出循环</p><p>switch语句的break属于switch语句打断后面判断的执行</p><h3 id="跳过本次循环"><a href="#跳过本次循环" class="headerlink" title="跳过本次循环"></a>跳过本次循环</h3><p> continue关键字可以<strong>跳过本次循环</strong>，本次循环continue后面的代码不执行，<strong>后面的循环会继续执行</strong></p><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 在循环打印1到5的过程中，打印到3就停下来，但是后面的4和5还会打印。</span><span class="token comment">// 1 2   4 5</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// continue关键字可以跳过本次循环，本次循环continue后面的代码不执行，后面的循环继续执行</span>        <span class="token keyword">continue</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// 注意这个输出要写在continue后面，因为continue是跳过本次循环后面的代码</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><ul><li>数组是一个<strong>有顺序、有长度</strong>的数据集合</li><li>数组名的<strong>命名规范和变量名一致（字母数字下划线$ 组成）</strong></li><li><strong>下标</strong> 又叫做 <strong>索引</strong> 从<strong>0</strong>开始（数组长度length -  1）</li><li><strong>获取</strong>数组中的某个格式：<strong>数组名[下标]</strong></li><li>长度就是数组数据的<strong>总个数</strong></li><li><strong>获取长度</strong>格式：<strong>数组名.length</strong></li></ul><p><strong>定义方法：</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 字面量方式创建数组[]</span><span class="token comment">// 声明的时候直接赋值</span><span class="token keyword">var</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 数组可以先声明，在赋值</span><span class="token keyword">var</span> stars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>stars<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">;</span>stars<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"b"</span><span class="token punctuation">;</span>stars<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"c"</span><span class="token punctuation">;</span><span class="token comment">// 了解 使用创建对象的方式来创建数组</span><span class="token comment">// 基本格式</span><span class="token comment">// var 数组名 = new Array("数据1"，"数据2"...);</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//先声明，在赋值</span><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">234</span><span class="token punctuation">;</span>arr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">456</span><span class="token punctuation">;</span></code></pre><p><strong>注意：</strong>new Array这种创建数组的方式，如果<strong>只存一个数字型</strong>的数据，表示声明了一个<strong>长度</strong>为这个数字，<strong>内容为空的数组</strong></p><h3 id="数组存值"><a href="#数组存值" class="headerlink" title="数组存值"></a>数组存值</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"张三"</span>；arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"李四"</span>；<span class="token comment">// arr.length数组的个数会随着内容增加改变</span><span class="token comment">// 格式：数组名[数组名.length] 可以在数组的最后增加数据</span>arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"张三"</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"李四"</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"王五"</span><span class="token punctuation">;</span><span class="token comment">//eg:</span><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr1<span class="token punctuation">[</span>arr1<span class="token punctuation">,</span> length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"我是最后增加的"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="数组取值"><a href="#数组取值" class="headerlink" title="数组取值"></a>数组取值</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 格式：数组名[下标]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="数组数据修改-重新赋值"><a href="#数组数据修改-重新赋值" class="headerlink" title="数组数据修改(重新赋值)"></a>数组数据修改(重新赋值)</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 格式：数组名[下标] = 新的值</span><span class="token keyword">var</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// console.log(names[1])</span>names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"c"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//["a", "c"]</span></code></pre><h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//遍历：一个一个的找到数据，并且处理</span><span class="token comment">// sum = nums[0] + nums[1] + nums[2]...</span><span class="token comment">// 遍历数组的基本格式，从0开始，条件是小于数组的个数</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// i是每个数据对应的下标</span>    <span class="token comment">// 数据名[i] 是数组里面的每个数据</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 求数组里面数字的总分还有平均值</span><span class="token keyword">var</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 遍历：一个个的找到数据，并且处理</span><span class="token comment">// sum = nums[0] + nums[1] + nums[2] ....</span><span class="token comment">// 保存总和</span><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// sum = sum + nums[1];</span>    <span class="token comment">// 简写成</span>    sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"总分是"</span> <span class="token operator">+</span> sum <span class="token operator">+</span> <span class="token string">",平均值是"</span> <span class="token operator">+</span> sum <span class="token operator">/</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="数组中的最大值"><a href="#数组中的最大值" class="headerlink" title="数组中的最大值"></a>数组中的最大值</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 假设数组里面的第0个是最大值 arr[0]</span><span class="token comment">// 用数组里面的每一项跟最大值比较 arr[i] &gt; max</span><span class="token comment">// 如果比最大值大,就更新这个最大值 max = arr[i]</span><span class="token comment">// 假设数组里面的第0个是最大值 arr[0]</span><span class="token keyword">var</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(arr[i]);</span>    <span class="token comment">// 用数组里面的每一项跟最大值比较 arr[i] &gt; max</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 如果比最大值大,就更新这个最大值</span>        max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组里面的最大值是"</span> <span class="token operator">+</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="es5的字符串拼接"><a href="#es5的字符串拼接" class="headerlink" title="es5的字符串拼接"></a>es5的字符串拼接</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 数组格式的数据接口,后端提供</span><span class="token keyword">var</span> imgs <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string">"./images/00_03.png"</span><span class="token punctuation">,</span>    <span class="token string">"./images/00_04.png"</span><span class="token punctuation">,</span>    <span class="token string">"./images/00_05.png"</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> img<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 每个图片的路径</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>img<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// es5的字符串拼接</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;img src="'</span> <span class="token operator">+</span> img<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'" alt=""&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h3><p>es6的模板字符串</p><p>把字符串放在  <strong>``</strong>  符号里面  变量放在**${变量}**里面 </p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token string">'./images/a.png'</span><span class="token punctuation">;</span><span class="token keyword">var</span> til <span class="token operator">=</span> <span class="token string">'家具收纳'</span><span class="token punctuation">;</span><span class="token keyword">var</span> desc <span class="token operator">=</span> <span class="token string">'home daily'</span><span class="token punctuation">;</span><span class="token comment">// es6的模板字符串</span><span class="token comment">// 把字符串放在 `` 符号里面  变量放在${变量}里面 </span><span class="token keyword">var</span> pros <span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a href="#"&gt;    &lt;img src="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>img<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" alt=""&gt;    &lt;div class="txt"&gt;        &lt;h3&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>til<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h3&gt;        &lt;p&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>desc<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;    &lt;/div &gt;&lt;/a &gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>pros<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="弹窗换行"><a href="#弹窗换行" class="headerlink" title="弹窗换行"></a>弹窗换行</h3><p><strong>\n</strong>  弹窗里面的换行 或者  <strong>\r</strong>  和 <strong>\r\n</strong>   (  <strong>\r\n</strong>兼容更好  )</p><h3 id="字符串转数组"><a href="#字符串转数组" class="headerlink" title="字符串转数组"></a>字符串转数组</h3><p><strong>把字符 转成 数组</strong></p><p><strong>字符串.split(“分割字符”);</strong></p><p>split方法会把<strong>分割字符去掉</strong>,<strong>返回一个数组</strong>,这个数组最好使用一个<strong>变量存起来</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">"你好世界"</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr1 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ["你", "好", "世", "界"]</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"请输入数字,用空格隔开"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//注意 空格也是属于一个字符串</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>注意:<strong>数组里面的每一项也是</strong>字符,<strong>要把每一个</strong>转换数字型</strong>才能计算</p><h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="万物皆对象"><a href="#万物皆对象" class="headerlink" title="万物皆对象"></a>万物皆对象</h3><ul><li>通过 <strong>对象名.属性名</strong> 可以调用这个对象身上的<strong>属性</strong></li><li>通过 <strong>对象名.[“属性名”]</strong> 也可以调用这个对象身上的<strong>属性</strong>(处于循环中的对象使用)</li><li>通过 <strong>对象名.方法名()</strong> 可以调用这个对象身上的<strong>方法</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/*    什么是js里面的对象    万物皆对象 ==&gt; 对象是一个具体的事物    明星 一个类型      蔡徐坤（对象）    电脑 一个类型       xxx同学的电脑（对象）    猫  布偶猫  一个类型     庭武家里的猫笨笨（对象）     对象由什么组成  属性 和 方法 组成    蔡徐坤  特征 == &gt;属性  名词  姓名  年龄  身高  体重 （属性的本质是变量）    蔡徐坤  行为 == &gt;方法  动词  唱跳rap  打篮球（方法的本质是函数）*/</span><span class="token comment">//对象的语法</span><span class="token comment">/*    var 对象名 = {        属性1：属性值1，        属性2：属性值2，        ...        方法名1：function(){            具体的方法        },        ...        方法名2：function(){            具体的方法        }    }*/</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> cxk <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"蔡徐坤"</span><span class="token punctuation">,</span>    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>    <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token string">"70kg"</span><span class="token punctuation">,</span>    <span class="token function-variable function">sing</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"唱跳rap"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">play</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"打篮球"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cxk<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> cxk<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object</span></code></pre><h3 id="创建对象的其他方法"><a href="#创建对象的其他方法" class="headerlink" title="创建对象的其他方法"></a>创建对象的其他方法</h3><p><strong>字面量方法创建对象</strong>(上面的也是)</p><p>对象<code>{}</code>里面的属性和值用 <code>:</code> 和 <code>,</code> 结尾，函数<code>{}</code>或者对象<code>{}</code>外面的用  <code>=</code> 和  <code>;</code> 号结尾</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> dlrb <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>dlrb<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"迪丽热巴"</span><span class="token punctuation">;</span>dlrb<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>dlrb<span class="token punctuation">.</span><span class="token function-variable function">play</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"我会演戏"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dlrb<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>以创建一个新对象的方式去创建对象</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> 对象名 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>对象名<span class="token punctuation">.</span>属性名 <span class="token operator">=</span> xxx<span class="token punctuation">;</span>对象名<span class="token punctuation">.</span><span class="token function-variable function">方法名</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> dlrb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dlrb<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"迪丽热巴"</span><span class="token punctuation">;</span>dlrb<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>dlrb<span class="token punctuation">.</span><span class="token function-variable function">play</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"我会演戏"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dlrb<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="工厂函数"><a href="#工厂函数" class="headerlink" title="工厂函数"></a>工厂函数</h3><p>原来<strong>字面量</strong>的方式 <strong>一次只创建一次对象</strong></p><p>把明星这个分类一些<strong>共有的属性</strong>放在一个函数里面，调用的时候传递实参，就可以<strong>批量的生产对象</strong></p><p>这种方式 又叫做工厂方式  批量生产对象的函数，叫做<strong>工厂函数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">star</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    obj<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    obj<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    obj<span class="token punctuation">.</span><span class="token function-variable function">play</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"我会演戏"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> obj<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> cxk <span class="token operator">=</span> <span class="token function">star</span><span class="token punctuation">(</span><span class="token string">"蔡徐坤"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> pyy <span class="token operator">=</span> <span class="token function">star</span><span class="token punctuation">(</span><span class="token string">"彭于晏"</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> dlrb <span class="token operator">=</span> <span class="token function">star</span><span class="token punctuation">(</span><span class="token string">"迪丽热巴"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cxk<span class="token punctuation">,</span> pyy<span class="token punctuation">,</span> dlrb<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><p>构造函数基本格式  要求<strong>函数名首字母大写</strong></p><p><strong>也是用来批量创建对象</strong>的，它和工厂函数<strong>写法不一样</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// this表示将来实例化的对象</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">play</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"我会演戏"</span>    <span class="token punctuation">}</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sing</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"我会唱歌"</span>    <span class="token punctuation">}</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"大家好，我是"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// 实例化new蔡徐坤和彭于晏对象</span><span class="token keyword">var</span> cxk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">"蔡徐坤"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> pyy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">"彭于晏"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cxk<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pyy<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="new关键字作用"><a href="#new关键字作用" class="headerlink" title="new关键字作用"></a>new关键字作用</h4><ol><li><p>在构造函数里面创建一个对象</p></li><li><p>把构造函数里面的this指向创造出来的这个对象</p></li><li><p>给这个对象添加一些属性和方法</p></li><li><p>并且返回这个对象</p></li></ol><p>注意：构造函数里面<strong>不需要创建空对象和return</strong>，因为 new 关键字帮我们做了</p><h3 id="对象属性调用的另一种方法"><a href="#对象属性调用的另一种方法" class="headerlink" title="对象属性调用的另一种方法"></a>对象属性调用的另一种方法</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// console.log(yy.name); //杨洋</span><span class="token comment">// 另外一种获取属性的格式</span><span class="token comment">// 对象名["属性名"]</span><span class="token comment">// console.log(yy["name"]); //杨洋</span></code></pre><h3 id="遍历对象"><a href="#遍历对象" class="headerlink" title="遍历对象"></a>遍历对象</h3><p>遍历对象的格式</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/*for (var 变量名 in 对象) {     变量名 表示这个对象的每个属性      对象[变量名] 表示这个对象的每个属性对应的值}*/</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> yy<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// key表示对象身上的每个属性</span>    <span class="token comment">// 对象名[key] 得到对应属性的值</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>yy<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="遍历数组案例"><a href="#遍历数组案例" class="headerlink" title="遍历数组案例"></a>遍历数组案例</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 学生的数据接口</span><span class="token keyword">var</span> students <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">grade</span><span class="token operator">:</span> <span class="token string">"前端42期"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">98</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">grade</span><span class="token operator">:</span> <span class="token string">"前端42期"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"王五"</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">grade</span><span class="token operator">:</span> <span class="token string">"前端42期"</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> tab <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;序号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;年龄&lt;/th&gt;&lt;th&gt;年级&lt;/th&gt;&lt;th&gt;成绩&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span class="token comment">// 生成students.length行</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> students<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    tab <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;tr&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>gender<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>grade<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;/tr&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span class="token punctuation">}</span>tab <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/tbody&gt;&lt;/table&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre><h3 id="遍历对象案例"><a href="#遍历对象案例" class="headerlink" title="遍历对象案例"></a>遍历对象案例</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> tab <span class="token operator">=</span>    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;序号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;年龄&lt;/th&gt;&lt;th&gt;年级&lt;/th&gt;&lt;th&gt;成绩&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span class="token comment">// 外层循环控制行，里层循环控制列</span><span class="token comment">// 生成students.length行</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> students<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    tab <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;tr&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token comment">// 对象里面有多少个属性就生成多少个td(列数)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        tab <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    tab <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/tr&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span class="token punctuation">}</span>tab <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;/tbody&gt;&lt;/table&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre><h3 id="数学对象-Math"><a href="#数学对象-Math" class="headerlink" title="数学对象(Math)"></a>数学对象(Math)</h3><p>获取<strong>圆周率属性Math.PI</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3.141592653589793</span></code></pre><p>获取<strong>随机数</strong>方法<strong>Math.random()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0~1)包含0但是不包含1的随机小数</span></code></pre><p>获取<strong>最大值</strong><strong>Math.max()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9</span></code></pre><p>获取<strong>最小值</strong><strong>Math.min()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span></code></pre><p><code>...</code>是es6语法 在这里的作用是<strong>传入数组去掉[]</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span></code></pre><p>向下取整<strong>（取小的）</strong><strong>Math.floor()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">3.947895</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3</span></code></pre><p>向上取整<strong>（取大的）</strong><strong>Math.ceil()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">3.147895</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//4</span></code></pre><p><strong>四舍五入</strong><strong>Math.round()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">3.66</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//4</span></code></pre><p><strong>绝对值</strong> <strong>Math.abs()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5.12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//5.12</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">5.12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//5.12</span></code></pre><p>求2的3<strong>次方</strong><strong>Math.pow()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//8  es6语法</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//8</span></code></pre><h3 id="数学对象求随机数"><a href="#数学对象求随机数" class="headerlink" title="数学对象求随机数"></a>数学对象求随机数</h3><p>随机数可以用来抽奖</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 0到10的随机整数</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>取两个数之间的随机数 <strong>（包含两个数在内）</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getRandomIntInclusive</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>    max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span> <span class="token comment">//含最大值，含最小值 </span><span class="token punctuation">}</span><span class="token keyword">var</span> ranNum <span class="token operator">=</span> <span class="token function">getRandomIntInclusive</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ranNum<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h6 id="之前获取随机数"><a href="#之前获取随机数" class="headerlink" title="之前获取随机数"></a>之前获取随机数</h6><p>随机数 属于js内置的 <strong>数学对象</strong> 里面</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// console.log(Math.random());  得到一个从0到1的随机小数，但是注意包括0不包括1</span><span class="token comment">// 0~3之间的随机数？</span><span class="token comment">// Math.random() * 4 = 0; 假设随机到0  0*4 =0就得到 0 取整也是0</span><span class="token comment">// .....随机到 中间的小数 * 4 取整也不会超出这个范围</span><span class="token comment">// Math.random() * 4 = 3.9; 假设是随机到0.999就得到3.9  取整就是3</span><span class="token comment">// 公式 parseInt(Math.random() * 数组的个数); 就能得到一个从0到数组的个数 -1 之间的随机整数</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> suiji <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> songs<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>songs<span class="token punctuation">[</span>suiji<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><em>记住取值时，不能单写一个变量，变量是数组中的下标</em></p><ul><li>园的面积(园的面积公式:  圆周率 * 半径的平方)</li><li>console.log(Math.PI) Math.PI可以获取数学对象里面圆周率</li></ul><h3 id="数组常用的方法（重点）"><a href="#数组常用的方法（重点）" class="headerlink" title="数组常用的方法（重点）"></a>数组常用的方法（重点）</h3><p>数组操作方法<strong>语法</strong>：<strong>数组名.方法名();</strong></p><h4 id="增"><a href="#增" class="headerlink" title="增"></a>增</h4><p><strong>数组名.push()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token keyword">var</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//push方法可以在数组的最后增加数据，并且返回新数组的个数/长度</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//8</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[1, 1, 1, 2, 3, 4, 7, 9]</span></code></pre><p><strong>数组名.unshift()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"你好"</span><span class="token punctuation">,</span> <span class="token string">"世界"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//unshift在数组的最前面追加数据，并且返回新数组的个数</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="删"><a href="#删" class="headerlink" title="删"></a>删</h4><p><strong>数组名.pop()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"你好"</span><span class="token punctuation">,</span> <span class="token string">"世界"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> del <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//pop删除数组中的最后一个数据，并且返回被删除的数据</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> del<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>数组名.shift()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> del <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//shift删除数组中的第一个数据，并且返回被删除的数据</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> del<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="改"><a href="#改" class="headerlink" title="改"></a>改</h4><p><strong>数组名.splice()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// splice(删除数据的下标，删掉的个数，增加的元素1，增加的元素2.....)</span><span class="token comment">// 改变原数组，返回了被删除元素数组</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"姚明"</span><span class="token punctuation">,</span> <span class="token string">"詹姆斯"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"蔡徐坤"</span><span class="token punctuation">,</span> <span class="token string">"库里"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>数组名.reverse()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// reverse() 数组反转,改变原数组，返回值也是改变之后的数组</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"姚明"</span><span class="token punctuation">,</span> <span class="token string">"詹姆斯"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> newArr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token string">"詹姆斯"</span><span class="token punctuation">,</span> <span class="token string">"姚明"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"乔丹"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p><strong>数组名.join()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//join("连接字符") 可以通过一个连接字符，把数组连成一个字符串并返回，但没有改变原数组</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"姚明"</span><span class="token punctuation">,</span> <span class="token string">"詹姆斯"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> str <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//"乔丹-科比-姚明-詹姆斯"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//"乔丹-科比-姚明-詹姆斯"  ["乔丹", "科比", "姚明", "詹姆斯"]</span></code></pre><p><strong>eg:</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"你好世界"</span><span class="token punctuation">;</span> <span class="token comment">//先把字符串变数组再反过来再转字符串</span>str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//界世好你 </span></code></pre><h4 id="查"><a href="#查" class="headerlink" title="查"></a><strong>查</strong></h4><p><strong>数组名.includes()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// includes 是查找数组中是否有该数据，有就返回true没有就返回false</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"姚明"</span><span class="token punctuation">,</span> <span class="token string">"詹姆斯"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> bool <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"科比"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> bool1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"蔡徐坤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span></code></pre><p><strong>数组名.indexOf()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// indexOf 是查找数组中是否有该数据，有就返回第一次出现的下标，没有就返回-1</span><span class="token comment">// indexOf 的第二个参数可以决定从哪个下标开始查找该数据，找到就返回该数据的下标，没有就返回-1</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"姚明"</span><span class="token punctuation">,</span> <span class="token string">"詹姆斯"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> index <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//4</span></code></pre><h4 id="数组去重案例"><a href="#数组去重案例" class="headerlink" title="数组去重案例"></a>数组去重案例</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 如果新数组里面没有这个，就加进去，有就不加</span><span class="token comment">// 遍历原数组，判断新数组有没有这个数据，有就不追加，没有就追加push</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"姚明"</span><span class="token punctuation">,</span> <span class="token string">"詹姆斯"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"科比"</span><span class="token punctuation">,</span> <span class="token string">"乔丹"</span><span class="token punctuation">,</span> <span class="token string">"肖战"</span><span class="token punctuation">,</span> <span class="token string">"任嘉伦"</span><span class="token punctuation">,</span> <span class="token string">"肖战"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// newArr.includes(arr[i]) == false</span>    <span class="token comment">// !newArr.includes(arr[i]) </span>    <span class="token comment">// newArr.indexOf(arr[i]) == -1</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>newArr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="数组去0案例"><a href="#数组去0案例" class="headerlink" title="数组去0案例"></a>数组去0案例</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 把没有库存的商品下架了 </span><span class="token comment">// 把数组里面是0的去掉</span><span class="token comment">// 新建一个数组 var newArr = [];</span><span class="token comment">// 遍历原数组里面的每一个数据，如果不是0，就追加push到新数组里面</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="字符串对象的方法"><a href="#字符串对象的方法" class="headerlink" title="字符串对象的方法"></a>字符串对象的方法</h3><p><strong>字符串变量名.length</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"你好吗 a,"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回字符串的个数</span></code></pre><p><strong>字符串变量名[]</strong></p><p><strong>字符串变量名.charAt()</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//第0个字符</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//第0个字符</span></code></pre><p><strong>字符串变量名.substring()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">"我不喜欢你"</span><span class="token punctuation">;</span>str1 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//只传一个参数，从这个下表开始截取到最后</span>str1 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//喜欢 //第二个参数是截取的结束下标(不包含)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>字符串变量名.replace()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//replace("替换的字符","替换成的字符") 替换字符串的第一个出现的字符   </span><span class="token comment">//replaceAll()替换字符串全部字符（不兼容ie）</span><span class="token comment">//不改变原来的字符串</span><span class="token keyword">var</span> liuyan <span class="token operator">=</span> <span class="token string">"这个人是傻B,这傻B是怎么养成的,这个人是傻B,这傻B是怎么养成的,这个人是傻B,这傻B是怎么养成的,这个人是傻B,这傻B是怎么养成的"</span><span class="token punctuation">;</span>liuyan <span class="token operator">=</span> liuyan<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"傻B"</span><span class="token punctuation">,</span> <span class="token string">"**"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>liuyan<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 只是替换字符串的第一个出现的字符   </span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//替换全部字符串</span><span class="token keyword">do</span> <span class="token punctuation">{</span>    liuyan <span class="token operator">=</span> liuyan<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"傻B"</span><span class="token punctuation">,</span> <span class="token string">"**"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 如果liuyan不包含"傻B" 就 跳出循环</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>liuyan<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"傻B"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>liuyan<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>字符串变量名.toUpperCase()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> name1 <span class="token operator">=</span> <span class="token string">"tony.liu"</span><span class="token punctuation">;</span>name1 <span class="token operator">=</span> name1<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//toUpperCase();转成大小</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>字符串变量名.toLowerCase()</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> name2 <span class="token operator">=</span> <span class="token string">"MIKI.OU"</span><span class="token punctuation">;</span>name2 <span class="token operator">=</span> name2<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//toUpperCase();转成小写</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="转换字符串"><a href="#转换字符串" class="headerlink" title="转换字符串"></a>转换字符串</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// con-left  con-right-bottom   ==&gt;  conRightBottom  转成驼峰式命名</span><span class="token comment">// ["con","right","bottom"] ==&gt; split("-");</span><span class="token comment">// ["con","right","bottom"]  ==&gt;从第1个数据开始遍历这个数组，把数组里面字符串的第0个字符str[0] 替换replace("替换的字符","替换成的字符")成大写toUpperCase();  ==》["con","Right","Bottom"] ,再把这个数组转成字符串join("")</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"con-right-bottom"</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// replace()方法没有改变原字符，切记要重新赋值</span>    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//console.log(arr[i]);</span><span class="token punctuation">}</span>str <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>可以封装成函数</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">tuofeng</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// replace()方法没有改变原字符，切记要重新赋值</span>        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//console.log(arr[i]);</span>    <span class="token punctuation">}</span>    str <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> str<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tuofeng</span><span class="token punctuation">(</span><span class="token string">"get-element-by-id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tuofeng</span><span class="token punctuation">(</span><span class="token string">"my-name-is-miki"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="时间对象"><a href="#时间对象" class="headerlink" title="时间对象"></a>时间对象</h3><p>js里面有一些**内置对象,**可以直接使用</p><p>时间对象</p><p>先创建一个<strong>时间对象</strong></p><p>格式： <strong>var 变量名 = new Date();</strong></p><p>eg:</p><p><strong>月份比较特殊要+1</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Sun May 22 2022 17:23:54 GMT+0800 (中国标准时间)</span><span class="token comment">// 这个变量名time表示了时间对象</span><span class="token comment">// 对象里面可以通过点语法直接调用对象身上的属性和方法</span><span class="token comment">// 注意方法要加()小括号才能调用</span><span class="token keyword">var</span> year <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取年份</span><span class="token keyword">var</span> month <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//注意 月份从0开始 返回0~11</span><span class="token keyword">var</span> date <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取日期</span><span class="token keyword">var</span> hours <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取小时</span><span class="token keyword">var</span> minutes <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取分钟</span><span class="token keyword">var</span> seconds <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取秒</span><span class="token keyword">var</span> week <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取到星期几 从0开始 返回0 ~ 6   0表示周日</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"日"</span><span class="token punctuation">,</span> <span class="token string">"一"</span><span class="token punctuation">,</span> <span class="token string">"二"</span><span class="token punctuation">,</span> <span class="token string">"三"</span><span class="token punctuation">,</span> <span class="token string">"四"</span><span class="token punctuation">,</span> <span class="token string">"五"</span><span class="token punctuation">,</span> <span class="token string">"六"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">现在是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>month<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">月</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">日，星期</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arr<span class="token punctuation">[</span>week<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hours<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minutes<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>seconds<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="日期对象"><a href="#日期对象" class="headerlink" title="日期对象"></a>日期对象</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//H5新增</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 时间戳 保存某个时刻 也可以计算时间差 1653556478046 这串数字是表示从1970年01月01日到现在的毫秒数  1000毫秒 = 1秒</span><span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2022-05-26 17:30:00"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 差距的分钟数</span><span class="token keyword">var</span> mintues <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>time <span class="token operator">-</span> now<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"距离下课还有"</span> <span class="token operator">+</span> mintues <span class="token operator">+</span> <span class="token string">"分钟"</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>eg:</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 思考题  </span><span class="token comment">// 开奖时间 2022-05-27 14:00开奖</span><span class="token comment">// 网页里面有一句话是 未开奖</span><span class="token comment">// 如果超过了 2022-05-27 14:00开奖这个时间，就把这句话变成"恭喜你中奖了"</span><span class="token comment">// 判断 现在的时间的时间戳 &gt;= 2022-05-07 14:00的时间戳 就给 str重新赋值 "恭喜你中奖了"</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"未开奖"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2022-05-26 17:27"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    str <span class="token operator">=</span> <span class="token string">"恭喜你中奖了"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>函数 是一段<strong>反复执行</strong>的代码段</p><p>函数 <strong>可以重复利用的功能模块</strong> 功能例如 求和 求最大值……</p><p>(当两个或者两个以上的数据需要求同一个功能时候可用)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">/*    函数基本格式    function 函数名(){        函数体，指定的功能代码    }    注意函数封装不会执行，要执行需要调用这个函数    调用格式：    函数名();*/</span><span class="token comment">// 封装函数</span><span class="token keyword">function</span> <span class="token function">writing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"今天星期一"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 调用函数</span><span class="token function">writing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h4><p><strong>函数封装</strong>的时候 <strong>小括号</strong>里面可以书写<strong>形参</strong> 形参的本质是一个<strong>变量</strong>，函数体里面也是写<strong>形参</strong>不要把<strong>实参</strong>写上去</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>调用函数</strong>的时候，<strong>小括号</strong>里面传递的数据就是 <strong>实参</strong> 相当于<strong>给变量赋值</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>形参和实参根据顺序一一对应</strong></p><h3 id="return-关键字"><a href="#return-关键字" class="headerlink" title="return 关键字"></a>return 关键字</h3><ul><li><p>return 关键字的作用就是<strong>返回函数的执行结果</strong>，<strong>不返回，默认是返回undefined</strong></p></li><li><p>函数执行结果返回到<strong>函数调用的地方</strong></p></li><li><p>return 返回函数的执行结果并且<strong>终止函数的执行</strong>，return后面的代码<strong>不执行</strong></p></li><li><p>return 只能返回一个结果，<strong>就是最后那个为准</strong></p></li><li><p>对象的用<code>.</code>方法，数组的就用<code>[]</code></p></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">var</span> d <span class="token operator">=</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>    <span class="token keyword">return</span> d<span class="token punctuation">;</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是return后面的代码"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// return后面的代码不执行，所以不会弹出</span><span class="token punctuation">}</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//对象的用点方法</span><span class="token keyword">function</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// return只能返回一个结果，就是最后那个为准</span>    <span class="token comment">// return num1 + num2, num1 * num2;</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">sum</span><span class="token operator">:</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">,</span> <span class="token literal-property property">ji</span><span class="token operator">:</span> num1 <span class="token operator">*</span> num2 <span class="token punctuation">}</span> <span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sum<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>ji<span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//数组的就用[]</span><span class="token keyword">function</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// return只能返回一个结果，就是最后那个为准</span>    <span class="token comment">// return num1 + num2, num1 * num2;</span>    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>num1 <span class="token operator">+</span> num2<span class="token punctuation">,</span> num1 <span class="token operator">*</span> num2<span class="token punctuation">]</span>    <span class="token keyword">return</span> arr<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="函数封装步骤"><a href="#函数封装步骤" class="headerlink" title="函数封装步骤"></a>函数封装步骤</h3><ol><li><p>先按照正常业务逻辑书写功能代码</p></li><li><p>把这些功能代码放在function 函数名(){功能代码} 函数体内部</p></li><li><p>观察那些<strong>值是变化的</strong>,封装成形参</p></li><li><p>有返回结果的就return</p></li><li><p>调用的时候传递实参</p></li></ol><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 求n - m之间所有数的和(先写一个求10到100之间的累加和)</span><span class="token keyword">function</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 保存总和</span>    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"10到20的整数累加和是"</span> <span class="token operator">+</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="求两个数组中的最大值"><a href="#求两个数组中的最大值" class="headerlink" title="求两个数组中的最大值"></a>求两个数组中的最大值</h3><ul><li><p>先书写求最大值的代码</p></li><li><p>假设第一个是最大，遍历这个数组，用数组里面的每一项去和最大值比较</p></li><li><p>如果大于这个最大值，就更新这个最大值为比它大的那个数据</p><p><strong>注意：数组也能传进函数当参数；</strong></p></li></ul><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>            max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> max<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// getMax(arr1); // arr1的最大值 数组也可以作为参数去传递 </span><span class="token comment">// getMax(arr2); // arr2的最大值 数组也可以作为参数去传递</span><span class="token keyword">var</span> zuida <span class="token operator">=</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"两个数组中的最大值是"</span> <span class="token operator">+</span> zuida<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="封装不足10补0函数"><a href="#封装不足10补0函数" class="headerlink" title="封装不足10补0函数"></a>封装不足10补0函数</h3><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">buling</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    num <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">"0"</span> <span class="token operator">+</span> num <span class="token operator">:</span> num<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="函数的其他写法"><a href="#函数的其他写法" class="headerlink" title="函数的其他写法"></a>函数的其他写法</h3><ol><li><strong>函数声明式</strong>(常用)</li></ol><ul><li>function 关键字声明的函数 ==&gt; <strong>函数声明式</strong></li><li>声明：<strong>function 函数名(){}</strong></li><li>调用：<strong>函数名（）</strong></li></ul><p>2.<strong>函数表达式</strong></p><ul><li>把<strong>匿名的函数</strong>赋值给一个变量的书写方式 ==&gt; <strong>函数表达式</strong></li><li>函数表达式调用 通过 <strong>变量名() 调用</strong></li><li>注意：等号后面为匿名函数</li></ul><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">getSum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="自执行函数"><a href="#自执行函数" class="headerlink" title="自执行函数"></a>自执行函数</h3><p>自执行函数 ==&gt; <strong>匿名函数</strong>自执行</p><p><strong>作用：写一些为了避免变量污染的代码</strong></p><p>把 一个匿名函数放在一个 () 里面，然后在后面加<strong>小括号再调用自己</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 注意，语句结束一定要记得加;分号</span><span class="token comment">//传入实参</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="函数的作用域"><a href="#函数的作用域" class="headerlink" title="函数的作用域"></a>函数的作用域</h3><ul><li>作用域scope 产生作用的区域范围</li><li><strong>变量产生作用的范围</strong></li><li>没有书写在函数内部的变量，是<strong>全局变量</strong> 作用范围在<strong>script标签内部和外链的js</strong>都可以访问**(注意执行顺序，先声明后使用)**</li><li>书写在<strong>函数内部的变量</strong>，叫<strong>局部变量 函数外面访问不了</strong>，<strong>作用范围在本函数内部</strong></li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10</span><span class="token punctuation">}</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>结论：</strong></p><ul><li><strong>局部变量，只有函数内部才能使用</strong></li><li><strong>全局变量在函数里面也可以访问</strong></li></ul><h4 id="作用域链接"><a href="#作用域链接" class="headerlink" title="作用域链接"></a>作用域链接</h4><p>函数发生<strong>嵌套</strong>，就会产生作用域链</p><p><strong>作用域链的访问原则：</strong></p><p><strong>优先使用本函数内部的变量，本函数里面没有就往上一层函数查找，就近原则，查找到全局作用域都没有找到这个变量，就报错</strong></p><p><strong>注意：函数一定要调用才会执行</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// var a = 10;</span>    <span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// var a = 5;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//20</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10</span><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//20</span>    <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//30</span>    <span class="token punctuation">}</span>    <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="预解析"><a href="#预解析" class="headerlink" title="预解析"></a>预解析</h3><p>预解析是浏览器的一个功能，它会把<strong>var声明变量和function声明的函数</strong>，提前到<strong>当前作用域的最前面</strong>，<strong>但是并没有赋值</strong></p><p><strong>注意 函数调用和赋值的位置不能修改！！！！！！</strong></p><pre class="language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//预解析成功</span><span class="token keyword">var</span> a<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 预解析成</span><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> num<span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//undefined</span>    num <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> num<span class="token punctuation">;</span>num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="隐式声明全局变量"><a href="#隐式声明全局变量" class="headerlink" title="隐式声明全局变量"></a>隐式声明全局变量</h3><p><strong>函数内部</strong>如果<strong>没有var 直接赋值</strong> 就相相当于<strong>隐式声明了一个全局变量</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 如果没有var 直接赋值 就相相当于隐式声明了一个全局变量</span>    <span class="token comment">//这里的用了 ; 号，表示只有a被声明了</span>    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//30</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//20</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//报错</span><span class="token comment">//因为a有var 在函数里面属于局部变量 外面不能访问</span></code></pre><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> a <span class="token operator">=</span> b <span class="token operator">=</span> c <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 解析成</span><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> a<span class="token punctuation">;</span>    a <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>    b <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>    c <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9</span><span class="token punctuation">}</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//报错  a是在函数里面有var 属于局部变量，外面不能访问</span><span class="token comment">// b和c没有var  相当于隐式声明了两个全局变量，外面也可以访问</span></code></pre><h4 id="关于函数表达式的预解析"><a href="#关于函数表达式的预解析" class="headerlink" title="关于函数表达式的预解析"></a>关于函数表达式的预解析</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// 函数表达式这种写法不能先使用，再声明，因为var f1提前了，但是赋值没有提前所以会报错</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">f1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// 预解析后</span><span class="token keyword">var</span> f1<span class="token punctuation">;</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// f1 is not a function</span><span class="token function-variable function">f1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><p>函数调用的时候，传递另外一个函数作为实参，这个函数称为 <strong>回调函数</strong></p><h3 id="函数的参数（关键字：arguments）"><a href="#函数的参数（关键字：arguments）" class="headerlink" title="函数的参数（关键字：arguments）"></a>函数的参数（关键字：arguments）</h3><ul><li><p>在函数里面，有一个关键字 <strong>arguments</strong> 可以接受传递过来的实参<strong>伪数组</strong></p></li><li><p>伪数组有数组的一些特征(下标个数等)，但是<strong>没有数组的一些方法</strong></p></li><li><p>用于<strong>实参比形参多</strong></p></li></ul><p>eg:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 保存总和</span>    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        sum <span class="token operator">+=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="总结es5的语法不严谨之处"><a href="#总结es5的语法不严谨之处" class="headerlink" title="总结es5的语法不严谨之处"></a>总结es5的语法不严谨之处</h3><ul><li><p>其他严谨编程语言 </p></li><li><p>不允许先使用，再声明</p></li><li><p>不允许没有声明直接赋值</p></li><li><p>同一个作用域不允许变量重名，也不允许变量和函数重名(变量和函数重名，使用变量)</p></li><li><p><strong>以上不严谨之处 es6修复了 es5的严格模式也修复了（js高级才学）</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//变量重名</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//10</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//20</span></code></pre></li></ul><h3 id="调用工具"><a href="#调用工具" class="headerlink" title="调用工具"></a>调用工具</h3><p>新建一个js文件，里面可以创建一个<code>utils</code><strong>对象</strong>，对象里面可以创建各种<strong>方法</strong>。</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> utils <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token function-variable function">getNow</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">getSum</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">getRandom</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">getMax</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>在页面引用工具js：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utils.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>在下面的js里面可调用该工具对象</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">    <span class="token comment">// 调用当前时间</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>utils<span class="token punctuation">.</span><span class="token function">getNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 调用累加和</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"1到10的累加和是"</span> <span class="token operator">+</span> utils<span class="token punctuation">.</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 调用随机数</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"0到10的随机数"</span> <span class="token operator">+</span> utils<span class="token punctuation">.</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 调用求最大值</span>    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"数组中的最大值是"</span> <span class="token operator">+</span> utils<span class="token punctuation">.</span><span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js中对象取值的点语法和中括号语法的区别</title>
      <link href="/2022/06/10/js-zhong-dui-xiang-qu-zhi-de-dian-yu-fa-he-zhong-gua-hao-yu-fa-de-qu-bie/"/>
      <url>/2022/06/10/js-zhong-dui-xiang-qu-zhi-de-dian-yu-fa-he-zhong-gua-hao-yu-fa-de-qu-bie/</url>
      
        <content type="html"><![CDATA[<h1 id="js中对象取值的点语法和中括号语法的区别"><a href="#js中对象取值的点语法和中括号语法的区别" class="headerlink" title="js中对象取值的点语法和中括号语法的区别"></a>js中对象取值的点语法和中括号语法的区别</h1><p>中括号语法: 任何时候 场合都可使用  适用范围很广;</p><p>点语法: 较有局限性, 一下说一下;</p><p>eg1:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span>              <span class="token comment">// 123</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token comment">// 123</span></code></pre><p> 点语法和中括号语法都没问题  正常;</p><p>eg2:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string-property property">''</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token string">''</span><span class="token punctuation">)</span>              <span class="token comment">// SyntaxError</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token comment">// 123</span></code></pre><p>key为空字符串时, 中括号可正常取值, 点语法报错; 其实编辑器就提示你了. 中括号用双字符串也可取值</p><p>eg3:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">1</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span>              <span class="token comment">// SyntaxError</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token comment">// 123</span></code></pre><p>结果同上, key为number类型时, 点语法也无法取值</p><p>eg4:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string-property property">'1'</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token string">'1'</span><span class="token punctuation">)</span>              <span class="token comment">// SyntaxError</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token comment">// 123</span></code></pre><p>结果同上, key为数字字符串时 点语法也无法取值</p><p>eg5:</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string-property property">'a'</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">}</span><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">'a'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>value<span class="token punctuation">)</span>              <span class="token comment">// undefined</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token comment">// 123</span></code></pre><p> 当key为变量时, 点语法无法取值, 中括号语法可正常取值;</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mobile</title>
      <link href="/2022/06/10/mobile/"/>
      <url>/2022/06/10/mobile/</url>
      
        <content type="html"><![CDATA[<h1 id="移动端"><a href="#移动端" class="headerlink" title="移动端"></a>移动端</h1><h4 id="禁止移动端视口缩放"><a href="#禁止移动端视口缩放" class="headerlink" title="禁止移动端视口缩放"></a>禁止移动端视口缩放</h4><pre class="language-css" data-language="css"><code class="language-css">&lt;!-- viewport视口的意思 --&gt;   &lt;!-- 手机端浏览器自带一个功能 会把整个屏幕缩小到980px --&gt;   &lt;!-- 禁止手机端的浏览器缩小页面  简约版--&gt;   &lt;!-- &lt;meta name=<span class="token string">"viewport"</span> content=<span class="token string">"width=device-width, initial-scale=1.0"</span>&gt; --&gt;   &lt;!-- width=device-width 视口的宽等于设备的宽 --&gt;   &lt;!-- initial-scale=1.0 初始缩放比例是1--&gt;   &lt;!-- maximum-scale=1 最大缩放比例是1 --&gt;   &lt;!-- minimum-scale=1 最小缩放比例是1 --&gt;   &lt;!-- user-scalable=no 禁止用户缩放 --&gt;   &lt;!-- 禁止手机端的浏览器缩小页面 完整版 --&gt;   &lt;meta name=<span class="token string">"viewport"</span>content=<span class="token string">"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"</span>&gt;</code></pre><h4 id="Emmet-语法总结"><a href="#Emmet-语法总结" class="headerlink" title="Emmet 语法总结"></a>Emmet 语法总结</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- ul&gt;li*17&gt;a[href=#]&gt;img[src=images/nav$.png]+p{天猫新品} --&gt;</span><span class="token comment">&lt;!-- 标签属性[k=v] --&gt;</span><span class="token comment">&lt;!-- $数字 1 2 3..... --&gt;</span><span class="token comment">&lt;!-- {}盒子里面放内容 --&gt;</span><span class="token comment">&lt;!-- &gt; 嵌套关系 --&gt;</span><span class="token comment">&lt;!-- +同级关系 --&gt;</span><span class="token comment">&lt;!-- * 生成个数 --&gt;</span></code></pre><p>大部分的手机屏幕宽度不超过540px</p><p>body设置最大宽度  540px  再设置居中 </p><p>用 px 单位注意，分区的盒子要使用<strong>百分比</strong>结合弹性布局来布局，里面的小部分（图片尺寸 文字大小等）可以使用具体像素值。</p><h4 id="rem适配和百分比适配区别："><a href="#rem适配和百分比适配区别：" class="headerlink" title="rem适配和百分比适配区别："></a><strong>rem适配和百分比适配区别：</strong></h4><p>rem能随着屏幕变大 尺寸发生变化（开发的时候可以根据设计稿量了多少尺寸就给多少，减轻计算宽度工作量，也能适配不同屏幕）</p><p>px固定的，不会再变化(好处：屏幕大的手机就能看到更多内容)</p><h2 id="rem适配方案"><a href="#rem适配方案" class="headerlink" title="rem适配方案"></a>rem适配方案</h2><h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p><strong>不管用户使用的是什么样尺寸的手机屏幕，我们要保证设计稿是能够等比例的还原在屏幕上的</strong></p><h3 id="已知"><a href="#已知" class="headerlink" title="已知"></a>已知</h3><p>1rem = 页面中 html 的font-size值</p><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ol><li><p>假设把750的设计稿划分为<strong>10</strong>等份<br>那么   1个格子  =  750/10 = 75px</p></li><li><p>所以我们要在750的屏幕使用rem单位等比例还原设计稿的时，也要使用等比例切割，把页面划分为10等分</p><p>即给html设置font-size值为：75px；   </p><p>即  1rem = 75px； ====&gt;   1px  = 1/75rem =0.0133rem ;</p><p><strong>验证</strong></p><p>如果在750的屏幕下，100px * 100px  的盒子     与    1.33rem * 1.33rem 的盒子是等大的，那么证明我们的推理是正确的</p></li></ol><p>3.假设我们能自动获取到当前的屏幕宽度winW，把winW依然按照10等份划分，</p><p>把winW/10 的数值，设置为html的font-size值， </p><p>那么根据 rem会自动相对html的font-size值计算的这个特点，就能实现不同屏幕下等比例还原设计稿了</p><p><strong>下面这段js代码的作用，就是自动获取屏幕的</strong></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> winW <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span> <span class="token comment">// 获取屏幕宽度  </span><span class="token keyword">var</span> htmlFont <span class="token operator">=</span> winW<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 屏幕宽度/ 10</span><span class="token comment">// 把屏幕宽/10 的结果设置给html的font-size</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> htmlFont<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span></code></pre><p>现在，在不同的机型下，html的字体大小就不同，即1个rem所表示的像素就不同。所以把元素的宽度、字体大小等属性单位写成rem，就可以动态设置这些属性。在不同的浏览器分辨率下有最好的展示（按照设计图比例）。</p>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网页布局总结</title>
      <link href="/2022/06/10/wang-ye-bu-ju-zong-jie/"/>
      <url>/2022/06/10/wang-ye-bu-ju-zong-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="网页布局总结"><a href="#网页布局总结" class="headerlink" title="网页布局总结"></a>网页布局总结</h1><h3 id="pc端"><a href="#pc端" class="headerlink" title="pc端"></a>pc端<img src="/2022/06/10/wang-ye-bu-ju-zong-jie/%E5%B8%83%E5%B1%80.png" alt="布局"></h3><h4 id="固定像素px-标准流-浮动-定位（ie低版本不兼容弹性布局）"><a href="#固定像素px-标准流-浮动-定位（ie低版本不兼容弹性布局）" class="headerlink" title="固定像素px + 标准流 浮动 定位（ie低版本不兼容弹性布局）"></a>固定像素px + 标准流 浮动 定位（ie低版本不兼容弹性布局）</h4><h4 id="pc端如果忽略ie10以下的兼容，可以使用弹性布局"><a href="#pc端如果忽略ie10以下的兼容，可以使用弹性布局" class="headerlink" title="pc端如果忽略ie10以下的兼容，可以使用弹性布局"></a>pc端如果忽略ie10以下的兼容，可以使用弹性布局</h4><br><h3 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h3><p><strong>百分比单位 + 媒体查询实现屏幕变小，通过修改样式去适配三个。</strong></p><p><strong>单位可以使用百分比 像素值</strong>，重点是小屏移动端的时候要修改部分样式：</p><ul><li><strong>例如高度如果写死要释放auto；</strong></li><li><strong>水平排列要改成竖着排，修改盒子百分比</strong></li><li><strong>如果全部竖着排可以直接取消弹性布局(display:block;或者display:inline)或者取消浮动（float:none;）</strong></li></ul><h3 id="哪些网站可以使用响应式？"><a href="#哪些网站可以使用响应式？" class="headerlink" title="哪些网站可以使用响应式？"></a>哪些网站可以使用响应式？</h3><p><strong>网站类型来决定：</strong></p><p>如果网站内容不多，布局简单，隐藏一些结构也不影响太多效率，可以使用响应式。例如一些企业官网可以使用响应式，因为企业官网大多数是一些高清大图，布局不算复杂。</p><p><strong>内容比较多</strong>而且<strong>布局复杂繁琐</strong>的，<strong>不建议做响应式</strong>，例如电商网站，内容多的其他类型网站 最好专门定制，pc端做一套，移动端做一套，根据屏幕尺寸特点专门定制，展示的内容更合理，更侧重于不同终端的用户体验。</p><h2 id="标准流"><a href="#标准流" class="headerlink" title="标准流"></a>标准流</h2><p>标签默认的显示,块级竖直排列,行内水平排列,行内块水平排列</p><p>但是有缺陷:</p><p>同级关系的垂直方向外边距会合并(只设置一个方向)</p><p>嵌套关系的垂直外边距塌陷(加上边框/上内边距/父盒子加超出隐藏)</p><p><strong>行内标签的上下内外边距不能生效</strong></p><p>行内块实现的<strong>水平排列不</strong>是严格的对齐,识别<strong>换行空格</strong></p><h2 id="浮动流"><a href="#浮动流" class="headerlink" title="浮动流"></a>浮动流</h2><p>float  可以实现任何标签水平排列,并且是一种严格对齐的水平排列,忽略换行,空格</p><p>特点:</p><p>脱离标准流,在标准流不占位</p><p>标签性质都变成了由内容撑开宽高,可以设置宽高</p><h3 id="对标准流影响"><a href="#对标准流影响" class="headerlink" title="对标准流影响:"></a>对标准流影响:</h3><p><strong>不占位,影响正常标准流,解决方法:</strong></p><p>1 隔墙法在浮动标签后面加一个块级标签,设置clear:both;  可见性和高度设置成隐藏(为了更保险)</p><p>2 直接给受到浮动影响的标签加clear:both; </p><p>3 推荐做法:在浮动标签外面套一个盒子,并且设置高度</p><p>4  推荐做法:高度不能确定  伪元素在浮动盒子后面添加</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.clearfix::after</span> <span class="token punctuation">{</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"."</span><span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>    <span class="token comment">/* 为了更保障,视觉上也设置隐藏 */</span>    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><p>5 给浮动盒子的父标签设置超出隐藏属性去检查浮动的</p><h3 id="网格布局-Grid"><a href="#网格布局-Grid" class="headerlink" title="网格布局 - Grid"></a>网格布局 - Grid</h3><p>最外层的<code>&lt;div&gt;</code>元素就是容器，内层的三个<code>&lt;div&gt;</code>元素就是项目。</p><p>Grid 布局只对项目生效。</p><p><strong>指定一个容器采用网格布局。</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span></code></pre><p>注意，设为网格布局以后，容器子元素（项目）的<code>float</code>、<code>display: inline-block</code>、<code>display: table-cell</code>、<code>vertical-align</code>和<code>column-*</code>等设置都将失效。</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 100px 100px 100px<span class="token punctuation">;</span>//每一列的列宽<span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 100px 100px 100px<span class="token punctuation">;</span>//每一行的行高<span class="token function">repeat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>接受两个参数，第一个参数是重复的次数，第二个参数是所要重复的值。<span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>2<span class="token punctuation">,</span> 100px 20px 80px<span class="token punctuation">)</span><span class="token punctuation">;</span>fr 关键字 <span class="token string">"片段"</span><span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 1fr 1fr<span class="token punctuation">;</span><span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 150px 1fr 2fr<span class="token punctuation">;</span>gap 行间距<span class="token property">gap</span><span class="token punctuation">:</span> 20pxgrid-template-areas 属性用于定义区域。<span class="token property">grid-template-areas</span><span class="token punctuation">:</span> <span class="token string">"header header header"</span>                     <span class="token string">"main main sidebar"</span>                     <span class="token string">"footer footer footer"</span><span class="token punctuation">;</span>项目 根据网格线定位，可使用z-index<span class="token property">grid-column</span><span class="token punctuation">:</span>2 / 3grid-area属性指定项目放在哪一个区域。<span class="token property">grid-column</span><span class="token punctuation">:</span> 1 span // 每个项目占多少</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>返回值</title>
      <link href="/2022/06/10/fan-hui-zhi/"/>
      <url>/2022/06/10/fan-hui-zhi/</url>
      
        <content type="html"><![CDATA[<h1 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h1><h2 id="无其余返回（即不改变原来，除非将其引用或赋值输出）"><a href="#无其余返回（即不改变原来，除非将其引用或赋值输出）" class="headerlink" title="无其余返回（即不改变原来，除非将其引用或赋值输出）"></a>无其余返回（即不改变原来，除非将其引用或赋值输出）</h2><h3 id="数字对象（Math）"><a href="#数字对象（Math）" class="headerlink" title="数字对象（Math）"></a>数字对象（Math）</h3><pre class="language-js" data-language="js"><code class="language-js">Math<span class="token punctuation">.</span><span class="token constant">PI</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><pre class="language-js" data-language="js"><code class="language-js">数组名<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//join("连接字符") 可以通过一个连接字符，把数组连成一个字符串并返回，但没有改变原数组</span>数组名<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// includes 是查找数组中是否有该数据，有就返回true没有就返回false</span>数组名<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// indexOf 是查找数组中是否有该数据，有就返回第一次出现的下标，没有就返回-1</span></code></pre><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><pre class="language-js" data-language="js"><code class="language-js">字符串变量名<span class="token punctuation">.</span>length<span class="token comment">//返回字符串的个数</span>字符串变量名<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment">//第0个字符</span>字符串变量名<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//第0个字符</span>字符串变量名<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h1 id="有其余返回"><a href="#有其余返回" class="headerlink" title="有其余返回"></a>有其余返回</h1><h3 id="（即改变了原来，将原来的-名-直接输出就可，将其引用只会返回不同的数据）"><a href="#（即改变了原来，将原来的-名-直接输出就可，将其引用只会返回不同的数据）" class="headerlink" title="（即改变了原来，将原来的  ..名  直接输出就可，将其引用只会返回不同的数据）"></a>（即改变了原来，将原来的  ..名  直接输出就可，将其引用只会返回不同的数据）</h3><h3 id="数组-1"><a href="#数组-1" class="headerlink" title="数组"></a>数组</h3><pre class="language-js" data-language="js"><code class="language-js">数组名<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//push方法可以在数组的最后增加数据，并且返回新数组的个数/长度</span>数组名<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//unshift在数组的最前面追加数据，并且返回新数组的个数</span>数组名<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//pop删除数组中的最后一个数据，并且返回被删除的数据</span>数组名<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//shift删除数组中的第一个数据，并且返回被删除的数据</span>数组名<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// splice(删除数据的下标，删掉的个数，增加的元素1，增加的元素2.....)改变原数组，返回了被删除元素数组</span>数组名<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// reverse() 数组反转,改变原数组，返回值也是改变之后的数组</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML选择器</title>
      <link href="/2022/05/09/selector/"/>
      <url>/2022/05/09/selector/</url>
      
        <content type="html"><![CDATA[<h3 id="复合选择器表格总结"><a href="#复合选择器表格总结" class="headerlink" title="复合选择器表格总结"></a>复合选择器表格总结</h3><table><thead><tr><th>选择器</th><th>作用</th><th>特征</th><th>使用情况</th><th>隔开符号及用法</th></tr></thead><tbody><tr><td>后代选择器</td><td>用来选择元素后代</td><td>是选择所有的子孙后代</td><td>较多</td><td>符号是<strong>空格</strong> .nav    a</td></tr><tr><td>子代选择器</td><td>选择 最近一级元素</td><td>只选亲儿子</td><td>较少</td><td>符号是**&gt;**   .nav&gt;p</td></tr><tr><td>交集选择器</td><td>选择两个标签交集的部分</td><td>既是 又是</td><td>较少</td><td><strong>没有符号</strong>  p.one</td></tr><tr><td>并集选择器</td><td>选择某些相同样式的选择器</td><td>可以用于集体声明</td><td>较多</td><td>符号是<strong>逗号</strong> .nav, .header</td></tr><tr><td>链接伪类选择器</td><td>给链接更改状态</td><td></td><td>较多</td><td>重点记住 a{} 和 a:hover  实际开发的写法</td></tr></tbody></table><h4 id="后代选择器"><a href="#后代选择器" class="headerlink" title="后代选择器"></a>后代选择器</h4><p>外层标签写在前面，内层标签写在后面，中间用<strong>空格</strong>分隔</p><pre class="language-none"><code class="language-none">父级 子级{属性:属性值;属性:属性值;}</code></pre><h4 id="子集选择器"><a href="#子集选择器" class="headerlink" title="子集选择器"></a>子集选择器</h4><p>只能选择包<strong>含在里</strong>的某个**子元素(亲儿子)**的元素。</p><p>父级标签写在前面，子级标签写在后面，中间一个 <code>&gt;</code> </p><pre class="language-none"><code class="language-none">父级&gt;子级{属性:属性值;属性:属性值;}</code></pre><h4 id="交集选择器"><a href="#交集选择器" class="headerlink" title="交集选择器"></a>交集选择器</h4><p>其中<strong>第一个为标签选择器</strong>，<strong>第二个为class选择器</strong>，两个选择器之间<strong>不能有空格</strong>，如：h3.special。</p><h4 id="并集选择器"><a href="#并集选择器" class="headerlink" title="并集选择器"></a>并集选择器</h4><p>并集选择器通常用于<strong>集体声明</strong>  ，<strong>逗号隔开的</strong>，所有选择器都会执行后面样式，逗号可以理解为 和的意思。</p><pre class="language-none"><code class="language-none">比如：.one, p , #test {color: #F00;}  表示：.one 和 p  和 #test 这三个选择器都会执行颜色为红色。 通常用于集体声明。  </code></pre><h4 id="伪类选择器"><a href="#伪类选择器" class="headerlink" title="伪类选择器"></a>伪类选择器</h4><p>向某些选择器<strong>添加特殊的效果</strong></p><p><code>伪类 </code>用 2个点 就是 <strong>冒号</strong>  比如  <code>:link{}</code>    <em>伪娘</em> </p><p><strong>1. 链接伪类选择器</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 写的时候，按照  lvha 的顺序，顺序不要颠倒 */</span><span class="token property">a</span><span class="token punctuation">:</span>link      <span class="token comment">/* 未访问的链接 */</span><span class="token property">a</span><span class="token punctuation">:</span>visited   <span class="token comment">/* 已访问的链接 */</span><span class="token property">a</span><span class="token punctuation">:</span>hover     <span class="token comment">/* 鼠标移动到链接上 */</span><span class="token property">a</span><span class="token punctuation">:</span>active    <span class="token comment">/* 选定的链接 */</span></code></pre><p><strong>2. 结构伪类选择器</strong></p><p><strong>2.1 child系列</strong></p><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th></tr></thead><tbody><tr><td>:first-child</td><td>p:first-child</td><td>选择父元素的第一个子元素中的每个 <p> 元素。</p></td></tr><tr><td>:last-child</td><td>p:last-child</td><td>选择其父元素最后一个子元素中的每个 <p> 元素。</p></td></tr><tr><td>:nth-child(<em>n</em>)</td><td>p:nth-child(2)</td><td>选择其父元素的第二个子元素中的每个 <p> 元素。</p></td></tr><tr><td>:nth-last-child(<em>n</em>)</td><td>p:nth-last-child(2)</td><td>同上，从最后一个子元素开始计数。</td></tr></tbody></table><p><code>n</code>:</p><ul><li>可以是整数值(1,2,3,4);</li><li>也可以是表达式(2n+1、-n+5);</li><li>(<strong>odd/2n+1/2n-1奇数</strong>，<strong>even/2n偶数</strong>);</li><li>但参数n的起始值始终是1，而不是0。</li></ul><p><strong>注意：</strong></p><p>当“:nth-child(n)”选择器中的n为一个<strong>表达式</strong>时，其中n是<strong>从0开始计算</strong>，当表达式的<strong>值为0或小于0</strong>的时候，<strong>不选择任何匹配</strong>的元素。</p><p>nth-child的选择器是<strong>先找位置</strong>，然后<strong>再找标签</strong>，如果<em>标签和位置对不上</em>，那么这个选择器就是<em>错误的</em>。</p><p><strong>2.2 nth-of-type系列</strong></p><table><thead><tr><th>选择器</th><th>例子</th><th>例子描述</th></tr></thead><tbody><tr><td>:first-of-type</td><td>p:first-of-type</td><td>选择属于其父元素的首个 <p> 元素的每个 </p><p> 元素。</p></td></tr><tr><td>:last-of-type</td><td>p:last-of-type</td><td>选择属于其父元素的最后 <p> 元素的每个 </p><p> 元素。</p></td></tr><tr><td>:nth-of-type(<em>n</em>)</td><td>p:nth-of-type(2)</td><td>选择属于其父元素第二个 <p> 元素的每个 </p><p> 元素。</p></td></tr><tr><td>:nth-last-of-type(<em>n</em>)</td><td>p:nth-last-of-type(2)</td><td>同上，但是从最后一个子元素开始计数。</td></tr></tbody></table><p>与<code>nth-child</code>的区别是，这个伪类选择器的位置，是<strong>先找元素</strong>找到后，<strong>再从上往下排位置</strong>。</p><br><h4 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h4><p>根据<strong>不同的属性</strong>去选择标签，常用用来<strong>选择不同类型的表单</strong></p><pre class="language-html" data-language="html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">        <span class="token comment">/* 可以根据不同的属性去选择标签 经常用来选择不同类型的表单*/</span>        <span class="token comment">/* 格式  选择器[属性="值"]   */</span>        <span class="token selector">input[type="text"]</span><span class="token punctuation">{</span>           <span class="token property">background-color</span><span class="token punctuation">:</span>pink<span class="token punctuation">;</span>         <span class="token punctuation">}</span>                <span class="token comment">/* 格式  选择器[属性名] 表示选中带有这个属性名的标签 */</span>        <span class="token selector">a[target]</span><span class="token punctuation">{</span>            <span class="token property">background-color</span><span class="token punctuation">:</span> tan<span class="token punctuation">;</span>        <span class="token punctuation">}</span>  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 文本输入框 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 密码输入框 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- 超链接 --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>超链接<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>超链接<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><br><h4 id="补充选择器"><a href="#补充选择器" class="headerlink" title="补充选择器"></a>补充选择器</h4><p><strong>点击输入框下面出现选择框</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>con<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>手机<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>手机<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>手机<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>手机<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.con</span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/* :focus得到焦点的样式 */</span><span class="token comment">/* + 选择同级后面一个的标签 */</span><span class="token selector">input:focus+.con</span><span class="token punctuation">{</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML5+CSS3</title>
      <link href="/2022/05/09/html5-css3/"/>
      <url>/2022/05/09/html5-css3/</url>
      
        <content type="html"><![CDATA[<h3 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h3><p>属性值跟属性名相同，属性值可以不写</p><p><strong>css书写规律：</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 小括号里面一般是逗号 rgba(0,0,0,0.5)  linear-gradient(角度,颜色1,颜色2....) */</span><span class="token comment">/* 多个属性值是用空格隔开 background:pink url() 0 0; transition:1s 1s linear;*/</span><span class="token comment">/* 属性值太多发生分组，组与组之间用逗号隔开  */</span><span class="token comment">/* background:pink url() 0 0,pink url() 0 0; */</span><span class="token comment">/* transition:border-radius 1s 1s,background 1s; */</span></code></pre><br><h2 id="HTML5新标签和CSS3新样式"><a href="#HTML5新标签和CSS3新样式" class="headerlink" title="HTML5新标签和CSS3新样式"></a>HTML5新标签和CSS3新样式</h2><ul><li><p>header：页眉和头部</p></li><li><p>nav：导航链接</p></li><li><p>section：文档中的节（区段）</p></li><li><p>article：文章</p></li><li><p>aside：内容之外的内容（侧边栏等）</p></li><li><p>footer：文档或节的页脚（底部）</p><img src="/2022/05/09/html5-css3/新标签框架.png" alt="新标签框架" style="zoom: 67%;"></li></ul><br><h2 id="盒子布局相关"><a href="#盒子布局相关" class="headerlink" title="盒子布局相关"></a>盒子布局相关</h2><h4 id="1-盒子內减模式-box-sizing（神）"><a href="#1-盒子內减模式-box-sizing（神）" class="headerlink" title="1. 盒子內减模式 box-sizing（神）"></a>1. 盒子內减模式 box-sizing（神）</h4><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">*</span><span class="token punctuation">{</span> <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><p><strong>标准(外增)盒子</strong>模型：最终实体范围是<strong>宽高+内边距+边框</strong></p><p><strong>内减盒子模型</strong>：最终实体范围就是 <strong>宽高</strong>  ，而内边距和边框是在宽高基础上<strong>收缩进盒子里面</strong></p><h4 id="2-盒子宽度的计算-–-calc-函数"><a href="#2-盒子宽度的计算-–-calc-函数" class="headerlink" title="2. 盒子宽度的计算 – calc 函数"></a>2. 盒子宽度的计算 – calc 函数</h4><p>在声明CSS属性值时执行一些计算(常用于<strong>计算可自适应的宽高</strong>)</p><pre class="language-css" data-language="css"><code class="language-css"> width<span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 80px<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>可以<code>+ - *  /</code>计算,但 <code>+ - </code>需要<strong>前后空格</strong></p><p><strong>双飞翼布局</strong>:版心和屏幕不固定大小,左右<strong>固定宽度</strong>,中间<strong>宽度自适应</strong></p><br><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><h4 id="背景尺寸"><a href="#背景尺寸" class="headerlink" title="背景尺寸"></a>背景尺寸</h4><p>背景图缩放 <code>background-size: 水平 垂直</code></p><p>垂直的可以省略，如果垂直缩放省略的它会根据水平进行<strong>等比例缩放</strong>。</p><p>谷歌苹果浏览器兼容前缀<code>-webkit-background-size: 500px 500px;</code></p><p>铺满整个盒子，会溢出：<code>cover</code></p><p>能看到完整的图片,不一定铺满盒子：<code>contain</code></p><h4 id="背景渐变"><a href="#背景渐变" class="headerlink" title="背景渐变"></a>背景渐变</h4><p><strong>从一个边过渡到到另外一个边：</strong>background:linear-gradient(角度deg,开始的颜色,结束的颜色)</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 颜色后面加一个百分比就是颜色开始渲染的位置,加两个百分比就一个开始一个结束 */</span><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>180deg<span class="token punctuation">,</span> tomato 0% 20%<span class="token punctuation">,</span> royalblue 20% 80%<span class="token punctuation">,</span> orange 80% 100%<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="背景图片的定位区域"><a href="#背景图片的定位区域" class="headerlink" title="背景图片的定位区域"></a>背景图片的定位区域</h5><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">background-origin</span><span class="token punctuation">:</span> padding-box|border-box|content-box<span class="token punctuation">;</span></code></pre><h5 id="背景裁减区域"><a href="#背景裁减区域" class="headerlink" title="背景裁减区域"></a>背景裁减区域</h5><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">background-clip</span><span class="token punctuation">:</span> border-box|padding-box|content-box<span class="token punctuation">;</span></code></pre><h4 id="多重背景"><a href="#多重背景" class="headerlink" title="多重背景"></a>多重背景</h4><p>加了背景图后还能加背景**(先引入的背景图会压住后引入的背景图)**</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>ldh.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">,</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>site-logo.png<span class="token punctuation">)</span></span>  repeat-x right bottom<span class="token punctuation">;</span></code></pre><br><h2 id="多媒体标签"><a href="#多媒体标签" class="headerlink" title="多媒体标签"></a>多媒体标签</h2><h4 id="播放音频（audio）"><a href="#播放音频（audio）" class="headerlink" title="播放音频（audio）"></a>播放音频（audio）</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 视频标签和音频标签属性是一样的 音频少了三个可见的属性 宽度 高度和封面 --&gt;</span><span class="token comment">&lt;!-- 标签属性  --&gt;</span><span class="token comment">&lt;!-- src 引入视频的路径 --&gt;</span><span class="token comment">&lt;!-- autoplay 自动播放 现代浏览器因为用户体验不允许有声音时自动播放 部分移动端浏览器直接禁止自动播放--&gt;</span><span class="token comment">&lt;!-- muted 静音 --&gt;</span><span class="token comment">&lt;!-- controls 控制组件(播放暂停静音进度条等按钮) --&gt;</span><span class="token comment">&lt;!-- loop 循环播放 --&gt;</span><span class="token comment">&lt;!-- preload 预加载 一边加载一边预备播放 --&gt;</span></code></pre><h4 id="播放视频-（video）"><a href="#播放视频-（video）" class="headerlink" title="播放视频 （video）"></a>播放视频 （video）</h4><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 标签属性  --&gt;</span><span class="token comment">&lt;!-- src 引入视频的路径 --&gt;</span><span class="token comment">&lt;!-- autoplay 自动播放 现代浏览器因为用户体验不允许有声音时自动播放 部分移动端浏览器直接禁止自动播放--&gt;</span><span class="token comment">&lt;!-- muted 静音 --&gt;</span><span class="token comment">&lt;!-- controls 控制组件(播放暂停静音进度条等按钮) --&gt;</span><span class="token comment">&lt;!-- poster 可以设置视频的封面,建议封面比例使用视频的比例 一般16:9 3:4 或者 1:1的尺寸--&gt;</span><span class="token comment">&lt;!-- width height 一般是只设置一个,另外一个自适应--&gt;</span><span class="token comment">&lt;!-- loop 循环播放 --&gt;</span><span class="token comment">&lt;!-- preload 预加载 一边加载一边预备播放 --&gt;</span></code></pre><br><h3 id="过渡（transition）"><a href="#过渡（transition）" class="headerlink" title="过渡（transition）"></a>过渡（transition）</h3><ol><li><p>执行过渡的属性名:<code>transition-property</code>  </p><p>如<code>width，height </code>写<code>all</code>代表全部</p></li><li><p>执行过渡的持续的时间:<code>transition-duration</code>  </p><p> <code>transition-duration:10s</code></p></li><li><p>速度曲线:<code>transition-timing-function</code> </p><ul><li><p>linear： 匀速</p></li><li><p>ease： 慢-快-慢 默认值</p></li><li><p>ease-in： 慢-快。</p></li><li><p>ease-out： 快-慢。</p></li><li><p>ease-in-out： 慢-快-慢。</p></li><li><p>steps 设置 跳跃性的动画</p><p>steps (n)  过渡分成n段</p></li></ul></li></ol><p>4.延迟时间:<code>transition-delay</code> </p><p><strong>复合写法：</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 过渡的属性为width 持续3s 匀速 延迟0s */</span>  <span class="token property">transition</span><span class="token punctuation">:</span> width 3s linear 0s<span class="token punctuation">;</span></code></pre><p><strong>多个过渡写法：</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">transition</span><span class="token punctuation">:</span>   width 1s ease-in 1s<span class="token punctuation">,</span>  height 10s ease-in-out 2s<span class="token punctuation">;</span></code></pre><br><h2 id="2D转换（掌握）transform"><a href="#2D转换（掌握）transform" class="headerlink" title="2D转换（掌握）transform"></a>2D转换（掌握）transform</h2><h4 id="2d移动-translate"><a href="#2d移动-translate" class="headerlink" title="2d移动 translate"></a>2d移动 translate</h4><p><strong>正数是右下</strong> <strong>负数是左上</strong> 可以设置百分比或者像素值</p><p>可以改变元素在页面中的位置，类似 <strong>定位</strong></p><p>语法： <code>translate(x,y)</code></p><p>百分比单位是<strong>相对于自身元素</strong>的  <code>translate:(50%,50%);</code></p><p><strong>translate</strong>类似定位，不会影响到其他元素的位置</p><p>对<strong>行内标签没有效果</strong></p><h4 id="2d旋转-rotate"><a href="#2d旋转-rotate" class="headerlink" title="2d旋转 rotate"></a>2d旋转 rotate</h4><p>语法:</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ol><li>角度为正时 顺时针 负时 为逆时针</li><li>默认旋转的中心点是元素的中心点</li></ol><h4 id="2d缩放-scale"><a href="#2d缩放-scale" class="headerlink" title="2d缩放 scale"></a>2d缩放 scale</h4><p> <code>scale(宽的倍数,高的倍数)</code>    </p><p>只写一个参数 第二个参数则和第一个参数一样</p><p><code>transform:scale(0.5,0.5)</code>  缩小</p><p><code>transform:scale(-2,-2)</code> 反向放大2倍</p><h4 id="转换中心-transform-origin-（了解）"><a href="#转换中心-transform-origin-（了解）" class="headerlink" title="转换中心 transform-origin （了解）"></a>转换中心 transform-origin （了解）</h4><ol><li>transform-origin:<strong>50% 50%;</strong>  默认值  元素的中心位置 百分比是相对于自身的宽度和高度</li><li>transform-origin:<strong>top left;</strong>  左上角   和 transform-origin：0 0;相同</li><li>transform-origin:<strong>50px 50px;</strong>  距离左上角 50px 50px 的位置</li><li>transform-origin：<strong>0</strong>;  只写一个值的时候  第二个值默认为 50%;</li></ol><br><h3 id="3D转换（变换）"><a href="#3D转换（变换）" class="headerlink" title="3D转换（变换）"></a>3D转换（变换）</h3><p><strong>做三维的物体基本都要加 透视属性 和 转换方式属性</strong></p><p><strong>3d转换无论旋转 缩放 位移 都可以指定某个轴向</strong></p><pre class="language-css" data-language="css"><code class="language-css">rotate = rotateX + rotateY + rotateZtranslate = transtlateX + transtlateY + transtlatez</code></pre><h4 id="3d移动-translate3d"><a href="#3d移动-translate3d" class="headerlink" title="3d移动 translate3d"></a><strong>3d移动 translate3d</strong></h4><ol><li><code>transform: translate3d(x,y,z)  </code>其中 <strong>x y z</strong> 分别指要移动的轴的方向的距离</li><li><code>translform: translateX(100px) </code> 仅仅是移动在x轴上移动</li><li><code>translform: translateY(100px)  </code>仅仅是移动在Y轴上移动</li><li><code>translform: translateZ(100px) </code> 仅仅是移动在Z轴上移动</li></ol><p>z轴是<strong>垂直屏幕</strong>,默认是看不到元素在z轴的方向上移动，想要看到，可以使用的 <strong>视距</strong> 属性</p><h4 id="视距-透视-perspective"><a href="#视距-透视-perspective" class="headerlink" title="视距(透视) perspective"></a>视距(透视) perspective</h4><p>物体 在z轴上的移动  的 <strong>远大近小</strong> 效果时 </p><p>设置给要观察元素的<strong>父元素</strong>上</p><p>调整的是镜头相对于页面的视角</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">perspective</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span></code></pre><h5 id="视距原点-perspective-origin（了解）"><a href="#视距原点-perspective-origin（了解）" class="headerlink" title="视距原点 perspective-origin（了解）"></a>视距原点 perspective-origin（了解）</h5><ol><li>视距原点和视距一样，也是设置给要观察元素的<strong>父元素</strong>上</li><li>perspective-origin:center center; 默认值是<strong>元素的中心点</strong></li><li>perspective-origin:10px；  指定了一个参数的时候，第二个参数默认为center 也就是50%；</li><li>perspective-origin:10% %； 百分比都是相对于自身的宽度和高度</li></ol><h4 id="3d旋转-rotate3d"><a href="#3d旋转-rotate3d" class="headerlink" title="3d旋转 rotate3d"></a>3d旋转 rotate3d</h4><ol><li><code>transform:rotateX(45deg);</code> 沿着x轴正方向旋转 45度</li><li><code>transform:rotateY(45deg)</code> 沿着y轴正方向旋转 45deg</li><li><code>transform:rotateZ(45deg)</code> 沿着Z轴正方向旋转 45deg</li><li><code>transform:rotate3d(x,y,z,deg)</code> 沿着自定义轴旋转 deg为角度  了解</li></ol><h4 id="3D缩放-scale3d-（了解）"><a href="#3D缩放-scale3d-（了解）" class="headerlink" title="3D缩放 scale3d （了解）"></a>3D缩放 scale3d （了解）</h4><ol><li><code>transform: scale3d(1 ,1,2);</code>  宽，高 缩放一倍，厚度放大两倍</li><li><code>transform: scaleX(1)</code> 只缩放宽</li><li><code>transform: scaleY(1)</code> 只缩放高</li><li><code>transform: scaleZ(1)</code> 只缩放厚</li></ol><h4 id="转换样式-transform-style"><a href="#转换样式-transform-style" class="headerlink" title="转换样式  transform-style"></a>转换样式  transform-style</h4><p>控制<strong>子元素</strong>是否开启3维立体环境**(添加给父元素)**</p><p><code>transform-style: preserve-3d;</code>  3维立体环境</p><p><code>transform-style: flat;</code>  平面模式  -  不开启3维立体环境</p><br><h3 id="动画-animation（掌握）"><a href="#动画-animation（掌握）" class="headerlink" title="动画 animation（掌握）"></a>动画 animation（掌握）</h3><p>动画可以<strong>自动播放可以设置变化的次数 甚至是无数次</strong>   </p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 1 声明动画函数 */</span><span class="token atrule"><span class="token rule">@keyframes</span> ani_div</span> <span class="token punctuation">{</span>  <span class="token selector">0%</span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token selector">50%</span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token selector">100%</span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token selector">div</span> <span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> aqua<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 100px auto<span class="token punctuation">;</span>  <span class="token comment">/* 2 调用动画 */</span>  <span class="token property">animation-name</span><span class="token punctuation">:</span> ani_div<span class="token punctuation">;</span>  <span class="token comment">/* 持续时间 */</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 2s<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>语法：</strong></p><ol><li><p><strong>动画名</strong></p><p>设置要使用的动画名 <code>animation-name:xxx;</code></p></li><li><p><strong>持续时间</strong></p><p>设置动画播放的持续时间  <code>animation-duration:3s</code></p></li><li><p><strong>速度曲线     linear匀速</strong></p><p>和设置过渡的速度曲线一样 <code>animation-timing-function:linear;</code></p><ul><li><p>linear： 匀速</p></li><li><p>ease： 慢-快-慢  默认值</p></li><li><p>ease-in： 慢-快。</p></li><li><p>ease-out： 快-慢。</p></li><li><p>ease-in-out： 慢-快-慢。</p></li><li><p>steps 设置 跳跃性的动画 </p><p>steps (n,start) 在该段时间的开始 触发</p><p>steps(n,end) 在该段时间的 末端 出发</p></li></ul></li><li><p>延迟时间</p><p><code>animation-delay: 0s;</code></p></li><li><p><strong>循环次数</strong></p><p>设置动画播放的循环次数  <code>animation-iteration-count: 2;</code>  <strong>infinite</strong> 为无限循环</p></li><li><p>循环方向</p><p><code>animation-direction</code></p><p>如在动画中定义了  <strong>0%：红色</strong>  <strong>100%：黑色</strong> 那么 当属性值为 </p><ol><li><strong>normal</strong>  默认值  <strong>红 -&gt; 黑</strong></li><li><strong>reverse</strong> 反向运行    <strong>黑 -&gt; 红</strong></li><li><strong>alternate</strong>  正-反-正…  <strong>红 -&gt; 黑 -&gt; 红…</strong>  </li><li><strong>alternate-reverse</strong>  反-正-反..   <strong>黑 -&gt; 红 -&gt; 黑 …</strong> </li><li>以上与循环次数有关</li></ol></li><li><p>动画等待或者结束的状态</p><p><code>animation-fill-mode</code> 设置动画在等待或者结束的时候的状态</p><ul><li><strong>forwards</strong>：动画结束后，元素样式停留在 100% 的样式</li><li><strong>backwards</strong>： 在延迟等待的时间内，元素样式停留在 0% 的样式</li><li><strong>both</strong>： 同时设置了 forwards和backwards两个属性值</li></ul></li><li><p>暂停和播放</p><p><code>animation-play-state</code>  控制 <strong>播放</strong> 还是 <strong>暂停</strong> </p><p><code>running</code> 播放   <code>paused</code> 暂停</p><p><strong>复合写法</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">animation</span><span class="token punctuation">:</span> name duration timing-function delay iteration-count direction fill-mode<span class="token punctuation">;</span></code></pre><p><strong>多个动画写法</strong></p></li></ol><pre class="language-css" data-language="css"><code class="language-css"><span class="token property">animation</span><span class="token punctuation">:</span>name duration timing-function delay iteration-count direction fill-mode，<span class="token property">animation</span><span class="token punctuation">:</span> name duration timing-function delay iteration-count direction fill-mode<span class="token punctuation">;</span></code></pre><br><h3 id="弹性布局"><a href="#弹性布局" class="headerlink" title="弹性布局"></a>弹性布局</h3><p><strong>注意：</strong></p><ol><li>一排显示，如果子盒子加了百分比，就按百分比显示，如果需要盒子间有空隙，就需要宽度calc来计算。</li><li>如果父盒子给了高，那么子盒子只给宽亦有高度。</li><li>百分比：父元素对于子元素是100%</li><li>在父盒子是作用于直接子集。(只有亲儿子生效)</li></ol><p>父元素内部声明使用了弹性布局，使用了弹性布局后<strong>子元素的float、clear和vertical-align</strong> 属性将失效</p><p>弹性布局 布局之后，直接<strong>子级沿着主轴排列</strong>（主轴<strong>水平向右</strong>，侧轴<strong>垂直向下</strong>）</p><p><strong>弹性布局默认不会换行</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 变换为弹性布局 */</span><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token comment">/* 换行属性 */</span><span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span><span class="token comment">/* 主轴对齐分布属性 */</span>justify-content<span class="token punctuation">;</span><span class="token comment">/* 平均分布 */</span>space-evenly<span class="token punctuation">;</span><span class="token comment">/* 两端分布 */</span>space-between<span class="token punctuation">;</span><span class="token comment">/* 等距分布 */</span>space-around<span class="token punctuation">;</span><span class="token comment">/* 居中 */</span><span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token comment">/* 起点对齐 */</span>flex-start<span class="token comment">/* 终点对齐 */</span>flex-end<span class="token comment">/* 多行侧轴分布对齐属性，其他属性值和主轴一致 */</span>align-content：space-around<span class="token comment">/* stretch 默认值 拉伸 把侧轴平均分，内容顶对齐 */</span><span class="token comment">/* 单行行侧轴分布对齐属性 */</span><span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token comment">/* 控制子项自己在侧轴的排列方式 */</span>align-self</code></pre><p><strong>弹性布局盒子居中</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span>80%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>    <span class="token property">margih</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token comment">/* align-content是两行以上的侧轴对齐，如果只有一行要使用单行侧轴对齐align-items */</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token comment">/* align-content: center; */</span><span class="token punctuation">}</span></code></pre><p><strong>设置子项分配主轴剩余空间比例</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* 左右占1份 */</span>flex： 1；</code></pre><p><strong>order 属性定义项目的排列顺序【了解】</strong></p><p>数值越小，排列越靠前，默认为0。</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.item</span> <span class="token punctuation">{</span>    <span class="token property">order</span><span class="token punctuation">:</span> &lt;number&gt;<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>弹性布局无双翼布局</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span><span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 80%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.l,.r</span><span class="token punctuation">{</span>     <span class="token comment">/* 左右固定 */</span>     <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.c</span><span class="token punctuation">{</span>      <span class="token comment">/* 把剩余空间分成1分，全部设置给中间 */</span>      <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>      <span class="token property">background-color</span><span class="token punctuation">:</span>tan<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><br><h3 id="百分比布局"><a href="#百分比布局" class="headerlink" title="百分比布局"></a>百分比布局</h3><p><strong>百分比布局又叫流式布局</strong>，也称为<strong>非固定像素布局</strong></p><p>通过盒子的<strong>宽度设置成百分比</strong>来根<strong>据屏幕的宽度来进行伸缩</strong>，不受固定像素的限制，内容向两侧填充。</p><p>流式布局方式是移动web开发使用的比较常见的布局方式之一。</p><p>​数值单位  %</p><p>​几个百分比布局中常见的属性</p><ul><li><p>min-width  设置元素的最小宽度, 如果元素的宽度比这个值小，强制按照这个值显示</p></li><li><p>min-height  设置元素的最小高度</p></li><li><p>max-width  设置元素的最大宽度,如果元素的宽度比这个值还大，强制按照这个值显示</p></li><li><p>max-height   设置元素的最大高度</p></li></ul><br><h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><p>根据<strong>屏幕宽度</strong>去修改css样式的功能</p><p>**语法：基本格式 @media (条件) and (条件) { 条件成立就使用这个css样式 } **</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* min-width最小宽度  max-width最大宽度 */</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span>641px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span>980px<span class="token punctuation">)</span></span><span class="token punctuation">{</span>           <span class="token comment">/* 注意选择器的权重要能覆盖上面的 */</span>            <span class="token selector">ul li</span><span class="token punctuation">{</span>                <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>            <span class="token punctuation">}</span>    <span class="token punctuation">}</span>       <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span>0px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span>640px<span class="token punctuation">)</span></span><span class="token punctuation">{</span>            <span class="token selector">ul li</span><span class="token punctuation">{</span>                <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>            <span class="token punctuation">}</span>       <span class="token punctuation">}</span></code></pre><h4 id="响应版心"><a href="#响应版心" class="headerlink" title="响应版心"></a>响应版心</h4><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">ul</span><span class="token punctuation">{</span>    <span class="token comment">/* 最大不能超出1400px */</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> 1400px<span class="token punctuation">;</span>    <span class="token comment">/* 宽度如果使用百分比宽度会变大或者变小 */</span>    <span class="token comment">/* max-width可以限制这个盒子最大不超过多少 */</span>    <span class="token comment">/* 小于1400px占80% */</span>    <span class="token comment">/* width: 80%; */</span>    <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token comment">/* padding: 0 20px; */</span>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token comment">/* 换行属性 */</span>    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/* 注意覆盖的写法一定要从大屏覆盖到小屏 大屏在上面 小屏在下面这个顺序 */</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span>980px<span class="token punctuation">)</span></span><span class="token punctuation">{</span>     <span class="token comment">/* 注意选择器的权重要能覆盖上面的 */</span>     <span class="token selector">ul li</span><span class="token punctuation">{</span>     <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span>640px<span class="token punctuation">)</span></span><span class="token punctuation">{</span>     <span class="token selector">ul li</span><span class="token punctuation">{</span>      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><pre class="language-css" data-language="css"><code class="language-css">&lt;!-- pc没有书写条件，全部屏幕生效 --&gt;&lt;link rel=<span class="token string">"stylesheet"</span> href=<span class="token string">"css/pc.css"</span>&gt;&lt;!-- 通过给标签添加一个media属性去书写条件 media=<span class="token string">"(条件)"</span> --&gt;&lt;!-- <span class="token property">max-width</span><span class="token punctuation">:</span>980px小于980px生效 --&gt;&lt;link rel=<span class="token string">"stylesheet"</span> href=<span class="token string">"css/pad.css"</span> media=<span class="token string">"(max-width:980px)"</span>&gt;&lt;!<span class="token property">--max-width</span><span class="token punctuation">:</span>640px小于640px生效 --&gt;&lt;link rel=<span class="token string">"stylesheet"</span> href=<span class="token string">"css/phone.css"</span> media=<span class="token string">"(max-width:640px)"</span>&gt;</code></pre><p><strong>注意</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token comment">/* auto自动 加了内边距不会撑大盒子 100%加了内边距会撑大盒子 */</span><span class="token comment">/* 百分比的参照物是直接父级！！！ */</span><span class="token comment">/* auto是默认父盒子宽度，给padding不会撑大盒子。（內减）   width给100%是继承父盒子的宽度，如果再给padding 就会撑出盒子。(外增)*/</span><span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></code></pre><br><h3 id="字体图标"><a href="#字体图标" class="headerlink" title="字体图标"></a>字体图标</h3><pre class="language-css" data-language="css"><code class="language-css">&lt;!-- <span class="token property">http</span><span class="token punctuation">:</span>要自己加在前面 --&gt;&lt;!-- 网络绝对路径（不能上网的时候，访问不到，如果将来链接里面的图标被删掉也访问不到）--&gt;&lt;!-- 引入icon --&gt;&lt;link rel=<span class="token string">"stylesheet"</span> href=<span class="token string">"http://at.alicdn.com/t/font_3393706_gkp1cfp0yw.css"</span>&gt;&lt;!-- 调用图标字体 --&gt;&lt;span class=<span class="token string">"iconfont icon-qq-copy"</span>&gt;&lt;/span&gt;&lt;span class=<span class="token string">"iconfont icon-goutou-hechi"</span>&gt;&lt;/span&gt;&lt;!-- 多色引入一个js<span class="token punctuation">,</span>js是用script标签的src属性 --&gt;&lt;!-- 引入了彩色图标 --&gt;&lt;script src=<span class="token string">"font1/iconfont.js"</span>&gt;&lt;/script&gt;&lt;!-- 默认要加一些样式 --&gt;<span class="token comment">/*滤镜属性  */</span><span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span>0%<span class="token punctuation">)</span><span class="token punctuation">;</span>&lt;!-- 调用图标字体 --&gt;&lt;svg class=<span class="token string">"icon"</span> aria-hidden=<span class="token string">"true"</span>&gt;   &lt;use <span class="token property">xlink</span><span class="token punctuation">:</span>href=<span class="token string">"#icon-goutou-hechi"</span>&gt;&lt;/use&gt;&lt;/svg&gt;&lt;!-- 本地相对路径 --&gt;&lt;link rel=<span class="token string">"stylesheet"</span> href=<span class="token string">"font1/iconfont.css"</span>&gt;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML+CSS</title>
      <link href="/2022/05/09/html-css/"/>
      <url>/2022/05/09/html-css/</url>
      
        <content type="html"><![CDATA[<h4 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h4><p>盒子里的内容先考虑能不能先<strong>水平居中和垂直居中</strong>;</p><p>盒子没有宽度可以<strong>先给padding</strong>水平移动;</p><p>浮动与定位<strong>两者选其一</strong>；</p><p>盒子居中<strong>先给宽</strong>在给<code>margin：auto</code>；</p><p><code>img</code>图片居中，可以<strong>套在一个有宽高盒子里（或者将其转换为块级元素）</strong>，再给<code>margin：auto</code>;</p><br><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>被包含的块级盒子，因为占据一行，其父元素不能用<code>text-align: center</code>将其居中；<strong>（转行内或者行内块元素）</strong></p><p>盒子浮动之后，不受父元素<code>text-align</code>和<code>line-height</code>影响；</p><p>背景图片<strong>不能放大或缩小</strong>；</p><br><h4 id="盒子模型布局稳定性"><a href="#盒子模型布局稳定性" class="headerlink" title="盒子模型布局稳定性"></a>盒子模型布局稳定性</h4><p> <code>width &gt;  padding  &gt;   margin</code></p><p>块级<strong>竖直排列</strong>找标准流,块级<strong>水平排列</strong>找浮动流,定位<strong>重叠</strong>才用,后面再用</p><p>浮动标签的父盒子宽度不够会导致里面浮动排不下换行**,解决方案**:加大浮动盒子父标签的宽,然后给版心设置<strong>超出隐藏</strong></p><br><h4 id="盒子居中"><a href="#盒子居中" class="headerlink" title="盒子居中"></a>盒子居中</h4><p><code>margin: 0 auto</code>让盒子居中，<strong>自身给个宽度</strong>，给<em>自己</em>用上<code>margin: 0 auto</code>；</p><p>用上<code>text-align</code>可将盒子里面的元素在盒子里水平居中<em>（大盒包小盒，小盒在里面被居中）</em>；</p><p>用上<code>line-height </code> <strong>在有高度的前提下</strong>能垂直居中。</p><br><h4 id="块级元素"><a href="#块级元素" class="headerlink" title="块级元素"></a>块级元素</h4><p><strong>常用元素</strong>：div、hr、p、h1~h6、ul、ol、dl、form、table</p><p><strong>宽度</strong>默认浏览器宽度，里面无内容，只有设置<strong>高度</strong>才有显示；</p><p>没有设置高度就<strong>默认高度为内容高度</strong>，<strong>如果没有内容也没高度</strong>，盒子<strong>不显示</strong>。</p><br><h4 id="padding-内边距"><a href="#padding-内边距" class="headerlink" title="padding(内边距)"></a>padding(内边距)</h4><p><code>语法：padding:上右下左/上 左右 下/上下 左右/全</code></p><p><code>padding</code>盒子如果<strong>没设置宽</strong>的话*(就继承父盒子的宽)<em>，<code>padding</code>是不会影响盒子宽度的*<em>（即不会撑大盒子）</em></em>;</p><p>如果盒子<strong>设置了宽</strong>，还给<code>padding</code>会撑大盒子，<em>不想盒子突出父盒子</em>，就需要计算一下；<strong>（高度同理）</strong></p><p><code>padding</code>写在内容与边框中间，写在<strong>内容标签里面</strong>；</p><p><strong>注意：</strong></p><ol><li>行内元素在<strong>水平方向</strong>上设置<strong>内外边距是有效的</strong>，在<strong>垂直方向</strong>上设置<strong>内外边距是无效的</strong>。</li><li>在垂直方向上给行内元素设置内边距，在显示上是将元素范围扩大了，但实际上<strong>不会对周围元素有任何影响</strong>。</li></ol><br><h4 id="margin-盒子塌陷问题"><a href="#margin-盒子塌陷问题" class="headerlink" title="margin(盒子塌陷问题)"></a>margin(盒子塌陷问题)</h4><p><strong>(1) 相邻块元素垂直外边距塌陷</strong></p><p>·当上下相邻的两个块元素相遇时，如果上面的元素有下外边距<code>margin-bottom</code></p><p>·下面的元素有上外边距<code>margin-top</code>，则他们之间的垂直间距<strong>不是</strong><code>margin-bottom</code>与<code>margin-top</code><strong>之和</strong></p><p>·<strong>取两个值中的较大者</strong>这种现象被称为相邻块元素垂直外边距的合并(也称外边距塌陷)。</p><p><img src="/2022/05/09/html-css/margin%E7%9B%B8%E9%82%BB%E5%9D%97%E5%85%83%E7%B4%A0%E5%A1%8C%E9%99%B7.png" alt="相邻块元素塌陷"></p><p><strong>解决方案：</strong><code>尽量给只给一个盒子添加margin值。</code></p><br><p><strong>(2) 嵌套块元素垂直外边距的塌陷</strong></p><p>·对于两个嵌套关系的块元素，如果父元素没有上内边距及边框</p><p>·父元素的上外边距会与子元素的上外边距发生合并</p><p>·合并后的外边距为两者中的较大者</p><p><img src="/2022/05/09/html-css/margin%E5%B5%8C%E5%A5%97%E5%9D%97%E5%85%83%E7%B4%A0.png" alt="嵌套块元素"></p><p><strong>解决方案：</strong></p><p>·可以为父元素定义<code>上边框</code>。</p><p>·可以为父元素定义上<code>内边距</code>。</p><p>·可以为父元素添加<code>overflow: hidden</code>。**(常用的解决方法)**</p><p><em>还有其他方法，比如浮动、固定、绝对定位的盒子不会有问题，后面咱们再总结。</em></p><br><p>·<strong>取两个值中的较大者</strong>这种现象被称为相邻块元素垂直外边距的合并(也称外边距塌陷)。</p><h4 id="text-align-常用于水平居中"><a href="#text-align-常用于水平居中" class="headerlink" title="text-align(常用于水平居中)"></a>text-align(常用于水平居中)</h4><p><code>text-align</code> 设置在父级元素里<strong>或者</strong>在其他块级元素里<em>（宽给默认浏览器宽，高给不给随意）</em>；</p><p>并<em>不控制块元素自己的对齐</em>，只控制它<strong>里面的内容</strong>对齐。</p><br><h4 id="line-height-常用于文字垂直居中"><a href="#line-height-常用于文字垂直居中" class="headerlink" title="line-height(常用于文字垂直居中)"></a>line-height(常用于文字垂直居中)</h4><p><code>line-heigh</code>是上文字<strong>顶部</strong>到下文字<strong>顶部</strong>的距离，块级元素里可以直接用<code>line-heigh</code>使文字间的上下距离变大。</p><p><code>line-heigh</code> 文字垂直居中。只需将她的<strong>值改为其父元素的高度</strong>即可；</p><p><code>line-height</code>最好<strong>放置其父元素中</strong>。使里面的文字(或者元素)垂直居中。</p><br><h4 id="基线"><a href="#基线" class="headerlink" title="基线"></a>基线</h4><p>看<strong>那个元素影响了文字</strong>，就<strong>在影响文字的元素</strong>里(高度不一致的<strong>行内和行内块</strong>还要给标签自身设置)设置 vertical-align: middle(中)，就可以使文字在盒子垂直居中。*(结合行高，即可实现垂直居中)*</p><p><img src="/2022/05/09/html-css/%E5%9F%BA%E7%BA%BF%E5%89%8D.png" alt="设置基线前文字位于盒子的下面"><img src="/2022/05/09/html-css/%E5%9F%BA%E7%BA%BF%E5%90%8E.png" alt="设置基线后文字位于盒子的中间"></p><br><h4 id="标签的层级：定位流-gt-浮动流-gt-标准流。"><a href="#标签的层级：定位流-gt-浮动流-gt-标准流。" class="headerlink" title="标签的层级：定位流 > 浮动流 > 标准流。"></a>标签的层级：定位流 &gt; 浮动流 &gt; 标准流。</h4><p>定位才能设置层级，层级和父元素的层级有关，层级一般是同级比较。</p><p>如果一个元素的父元素也设置了定位，那么层级关系的高低，以<strong>父元素为准</strong>。</p><br><h4 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h4><p>浮动的元素已经<strong>具有行内块的属性</strong>，即可以<strong>设宽高</strong>又可在<strong>一行内显示</strong>。已经脱离了标准流(浮动的元素漂浮在普通流上面<strong>不占位置</strong>，脱标)。<strong>（浮动的盒子不能用常规的方法居中。）</strong></p><p>浮动最<strong>典型的应用</strong>：</p><p><em>可以让多个<code>块级元素一行内排列显示</code>。</em></p><p><em><code>盒子左右对齐</code></em> 。</p><p>先用标准流父元素排列<strong>上下位置</strong>, 之后内部子元素采取浮动排列<strong>左右位置</strong>。</p><p>**<code>注意</code>**：</p><ol><li>浮动和标准流的父盒子搭配，<strong>父盒子需设置高度</strong>。</li><li>一个盒子里面有多个子盒子，如果其中一个盒子浮动了，<strong>其他兄弟也应该浮动</strong>。</li></ol><p><code>清除浮动</code>：为什么？</p><p>因为父级盒子如果不方便给高度，但子盒子设置浮动(即不占位置)，会使父级盒子高度为0；</p><p>从而影响了下面标准流的盒子，设置清除浮动对标准流标签的影响。</p><p><code>方法</code></p><ol><li><p>选择器{clear:属性值;}属性值：left/right/both**(给受到浮动影响标签添加)**</p></li><li><p>额外标签法</p></li><li><p>父级元素添加overflow属性</p></li><li><p>使用after伪元素清除浮动</p><pre class="language-html" data-language="html"><code class="language-html">.clearfix::after {  content: ""; display: block; height: 0; clear: both; visibility: hidden;  }      .clearfix {*zoom: 1;}   /* IE6、7 专有 */</code></pre></li></ol><p><strong>想让浮动占位，给浮动一个有高的父元素</strong></p><p><strong>清除浮动，会让浮动占位但不会改变浮动的位置</strong></p><br><h4 id="浮动和定位"><a href="#浮动和定位" class="headerlink" title="浮动和定位:"></a>浮动和定位:</h4><p>1.浮动可以让<strong>多个块级盒子一行没有缝隙排列显示</strong>， 经常用于<strong>横向排列盒子</strong>。</p><p>2.定位则是可以让盒子<strong>自由的在某个盒子内移动位置</strong>或者<strong>固定屏幕中某个位置</strong>，并且可以<strong>压住其他盒子</strong>。</p><br><h4 id="position-定位"><a href="#position-定位" class="headerlink" title="position(定位)"></a><code>position(定位)</code></h4><p>不但要给<strong>定位属性</strong>，还要<strong>给位置</strong>，盒子才出来</p><table><thead><tr><th>值</th><th align="center">语义</th></tr></thead><tbody><tr><td><code>static</code></td><td align="center"><strong>静态</strong>定位</td></tr><tr><td><code>relative</code></td><td align="center"><strong>相对</strong>定位</td></tr><tr><td><code>absolute</code></td><td align="center"><strong>绝对</strong>定位</td></tr><tr><td><code>fixed</code></td><td align="center"><strong>固定</strong>定位</td></tr></tbody></table><p><strong>相对定位：</strong></p><ol><li>是相对于它自己<strong>原来的位置</strong>。</li><li>相对定位的元素<strong>没有脱标</strong>。</li><li>相对定位的元素与父元素是否是定位的元素<strong>无关</strong>。</li></ol><p><code>相对定位使用场景：</code>一般情况下，只要子元素设置了绝对定位后，父元素就要设置相对定位<strong>【子绝父相】</strong></p><img src="/2022/05/09/html-css/相对定位案例.png" alt="相对定位案例" style="zoom: 25%;"><p><strong>绝对位置：</strong></p><ol><li>子元素是绝对定位，如果其父元素设置了除静态定位以外的其他定位，那么该绝对定位的子元素就会参照<strong>父元素左上角</strong>进行位置改变。</li><li>绝对定位可以让元素<strong>脱标不占位置</strong>。</li></ol><p><code>使用场景：</code><br>如果需要一个标签（盒子） <strong>压着</strong> 另外一个标签（盒子）。</p><img src="/2022/05/09/html-css/绝对定位_父级无定位.png" alt="父元素没有定位" style="zoom:24%;"><img src="/2022/05/09/html-css/绝对定位_父级有定位.png" alt="父元素要有定位" style="zoom:24%;"><p><strong>定位的应用</strong></p><pre class="language-css" data-language="css"><code class="language-css">☞ <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto； 只能让标准流下的盒子居中显示 ☞ 如何实现绝对定位盒子居中：   ✔ 先通过 left | right | top | bottom ： 50%  【相对父元素移动一半】   ✔ 通过margin 设置负数 移动 当前元素宽度或高度一半<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><span class="token property">margin-left</span><span class="token punctuation">:</span> -50px<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span> -50px<span class="token punctuation">;</span></code></pre><img src="/2022/05/09/html-css/绝对定位水平居中.png" alt="定位盒子居中"><p><strong>固定定位（fixed）</strong>固定定位的元素也是<strong>脱标不占位置</strong>的元素。</p><br><h5 id="脱标元素的总结"><a href="#脱标元素的总结" class="headerlink" title="脱标元素的总结"></a>脱标元素的总结</h5><p>​脱标元素–脱离标准流的元素</p><ul><li>float: left|right;    </li><li>position: absolute；</li><li>position: fixed;</li></ul><p>元素一旦设置了以上的任意一个属性，就会脱标</p><p><strong>脱标的特点：</strong></p><ol><li>相当于修改了元素的显示模式（<strong>改成行内块模式</strong>），可以设置<strong>有效宽高</strong>，如果没有宽高默认由内容撑开，一行可显示多个</li><li><strong>不占位置</strong></li><li>不会出现外边距塌陷的情况;</li><li>无法使用margin: 0 auto;</li></ol><br><h4 id="背景图"><a href="#背景图" class="headerlink" title="背景图"></a>背景图</h4><p>给固定的<strong>高</strong>，只显示部分图片。</p><p><strong>background-size</strong></p><p><code>cover</code>一定会<strong>铺满盒子</strong><em>（图片可能不完整）</em></p><p><code>contain</code>一定会显示<strong>完整的图</strong>去尽量覆盖<em>（盒子可能覆盖不满）</em></p><p>还支持设置具体像素，百分比和auto自动。</p><br><h5 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h5><p>:hover没办法修改<strong>给定颜色</strong>的标签，解决办法：</p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">span</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">a:hover</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">a:hover span</span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="过渡"><a href="#过渡" class="headerlink" title="过渡"></a>过渡</h5><p><code>transition</code>有时<strong>需要参照物</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">盒子</span><span class="token punctuation">{</span>  <span class="token comment">/* 相对定位 占位置 位置按照原来的参照物移动 */</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token comment">/* 过渡 */</span>    <span class="token property">transition</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span>    <span class="token comment">/* 参照从0到1 用时1s */</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">盒子:hover</span><span class="token punctuation">{</span>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 10px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .3<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>外边框</strong>:<code>outline</code></p><p><strong>设置多行文字省略</strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token punctuation">(</span>设置多行文字省略<span class="token punctuation">)</span>            <span class="token comment">/**对象作为伸缩盒子模型显示**/</span>            <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>            <span class="token comment">/* 设置或检索伸缩盒对象的子元素的排列方式 */</span>            <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>            <span class="token comment">/* 显示的行数 */</span>            <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>            <span class="token comment">/*英文强制换行*/</span>            <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></code></pre><h4 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h4><p><code>label</code><strong>标签</strong></p><p>关联<strong>文字和表单元素</strong></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- label标签是关联表单选项和文字 --&gt;</span><span class="token comment">&lt;!-- 方法一 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 男士<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- 方法二 label for id--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>female<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>female<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>女士<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
